<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 12 Test pour données nominales | Méthodes Quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="Jusqu’à présent, deux types d’association de données ont été présenté : une variable nominale (identifiant des groupes) avec une variable continue (différences de moyenne) et deux variables...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content=" 12 Test pour données nominales | Méthodes Quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:url" content="mqr.teluq.ca/test-pour-données-nominales.html">
<meta property="og:description" content="Jusqu’à présent, deux types d’association de données ont été présenté : une variable nominale (identifiant des groupes) avec une variable continue (différences de moyenne) et deux variables...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 12 Test pour données nominales | Méthodes Quantitatives avec R">
<meta name="twitter:description" content="Jusqu’à présent, deux types d’association de données ont été présenté : une variable nominale (identifiant des groupes) avec une variable continue (différences de moyenne) et deux variables...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes Quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Les rudiments</li>
<li><a class="" href="commencer.html"><span class="header-section-number">1</span> Commencer</a></li>
<li><a class="" href="programmer.html"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="" href="fonctions-statistiques-essentielles.html"><span class="header-section-number">3</span> Fonctions statistiques essentielles</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Jeux de données</li>
<li><a class="" href="g%C3%A8rer.html"><span class="header-section-number">4</span> Gèrer</a></li>
<li><a class="" href="importer.html"><span class="header-section-number">5</span> Importer</a></li>
<li><a class="" href="manipuler.html"><span class="header-section-number">6</span> Manipuler</a></li>
<li><a class="" href="visualiser.html"><span class="header-section-number">7</span> Visualiser</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li class="book-part">Analyses statistiques</li>
<li><a class="" href="inf%C3%A9rer.html"><span class="header-section-number">8</span> Inférer</a></li>
<li><a class="" href="analyses-bivari%C3%A9es.html"><span class="header-section-number">9</span> Analyses bivariées</a></li>
<li><a class="" href="les-diff%C3%A9rences-de-moyennes.html"><span class="header-section-number">10</span> Les différences de moyennes</a></li>
<li><a class="" href="lassociation-lin%C3%A9aire.html"><span class="header-section-number">11</span> L’association linéaire</a></li>
<li><a class="active" href="test-pour-donn%C3%A9es-nominales.html"><span class="header-section-number">12</span> Test pour données nominales</a></li>
<li><a class="" href="exercice-analyse.html">Exercices</a></li>
<li><a class="" href="solutions.html">Solutions</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="test-pour-données-nominales" class="section level1" number="12">
<h1>
<span class="header-section-number"> 12</span> Test pour données nominales<a class="anchor" aria-label="anchor" href="#test-pour-donn%C3%A9es-nominales"><i class="fas fa-link"></i></a>
</h1>
<p>Jusqu’à présent, deux types d’association de données ont été présenté : une variable nominale (identifiant des groupes) avec une variable continue (différences de moyenne) et deux variables continues (association linéaire). Dans cette section, l’association entre deux variables nominales est présentée. Une façon de représenter l’association entre deux variables nominales est le tableau de contingence, soit l’illustration d’une distribution d’une variable (en ligne) pour chaque catégorie de l’autre (en colonne). En voici, un exemple.</p>
<div class="inline-table"><table class=" lightable-classic table" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:TCCV">Table 12.1: </span>Tableau de contingence de la relation entre posséder une voiture et le climatoscepticisme
</caption>
<thead>
<tr>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Climatosceptique
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Voiture
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
non
</th>
<th style="text-align:center;">
oui
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
non
</td>
<td style="text-align:center;">
87
</td>
<td style="text-align:center;">
104
</td>
</tr>
<tr>
<td style="text-align:left;">
oui
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
52
</td>
</tr>
</tbody>
</table></div>
<p>Le tableau <a href="test-pour-donn%C3%A9es-nominales.html#tab:TCCV">12.1</a> présente deux variables nominales (<code>climatosceptique</code>, à la verticale, et posséder une <code>voiture</code>, à l’horizontale) ayant chacune deux catégories (<code>oui</code> et <code>non</code>). Il montre les proportions <strong>observées</strong>. Ces variables sont-elles associées? Pour traiter cette question, les proportions attendues jouent un rôle crucial. En fait, l’hypothèse nulle sous la table de contingence postule que toutes les proportions du tableau de contingence sont indépendantes. Mathématiquement, il s’agit de postuler que les proportions d’une variable (en ligne ou en colonne) n’influencent pas celles de l’autre variable. Pour obtenir les proportions <strong>théoriques</strong>, les totaux des lignes et colonnes sont calculés ainsi que le grand total. La fréquence attendue d’une cellule est obtenue en calculant, pour chaque cellule, le produit de sa colonne et de sa ligne respective divisé par le grand total.</p>
<p><span class="math display">\[t_{ij} = \frac{\text{total}_i \times \text{total}_j}{\sum \text{total}}\]</span></p>
<p>L’équation ci-dessus illustre l’idée sous-jacente à la proportion attendue, <span class="math inline">\(t\)</span> d’une cellule de ligne, <span class="math inline">\(i\)</span>, et colonne <span class="math inline">\(j\)</span>.</p>
<div class="inline-table"><table class=" lightable-classic table" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:TCCV2">Table 12.2: </span>Tableau de contingence étendu avec les totaux
</caption>
<thead>
<tr>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Climatosceptique
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Voiture
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Total
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
non
</th>
<th style="text-align:center;">
oui
</th>
<th style="text-align:center;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
non
</td>
<td style="text-align:center;">
87
</td>
<td style="text-align:center;">
104
</td>
<td style="text-align:center;">
191
</td>
</tr>
<tr>
<td style="text-align:left;">
oui
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
52
</td>
<td style="text-align:center;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:center;">
94
</td>
<td style="text-align:center;">
156
</td>
<td style="text-align:center;">
250
</td>
</tr>
</tbody>
</table></div>
<div id="le-chi2-pour-table-de-contingence" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> Le <span class="math inline">\(\chi^2\)</span> pour table de contingence<a class="anchor" aria-label="anchor" href="#le-chi2-pour-table-de-contingence"><i class="fas fa-link"></i></a>
</h2>
<p>Maintenant que la question statistique et que l’hypothèse nulle sont posées, comment mesurer le degré selon lequel les données s’écartent des attentes <em>théoriques</em>. Le <span class="math inline">\(\chi^2\)</span> (prononcé khi-carré) permet de calculer une telle mesure. Le <span class="math inline">\(\chi^2\)</span> correspond à la distance entre une valeur observée et théorique au carré, pondérée par la valeur théorique.
<span class="math display">\[ \chi^2_v = \sum_{i=1}^{l}\sum_{j=1}^c(\frac{(o_{ij}-t_{ij})^2}{t_{ij}})\]</span>
où <span class="math inline">\(o\)</span> correspond aux valeurs observées, <span class="math inline">\(t\)</span> réfère aux valeurs théoriques, <span class="math inline">\(v\)</span> représente les degrés de liberté et <span class="math inline">\(i\)</span> et <span class="math inline">\(j\)</span> les lignes et colonnes respectivement. Le degré de liberté est
<span class="math display">\[v = (n_{\text{ligne}}-1)(n_{\text{colonne}}-1)\]</span></p>
<p>Si l’hypothèse nulle est vraie, les valeurs observées et théoriques devraient être très près. Le carré permet de calculer une distance euclidienne et le dénominateur pondère la distance. Comme l’analyse de variance, le test de <span class="math inline">\(\chi^2\)</span> pour table de contingence est global, il n’informe pas d’où provient la dépendance, mais bien s’il y a au moins une dépendance.</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">khicarre</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">obs</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># Obs est une table de contingence</span>
  <span class="co"># Somme colonne</span>
  <span class="va">SC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">obs</span><span class="op">)</span><span class="op">)</span>
  <span class="co"># Somme ligne</span>
  <span class="va">SL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">obs</span><span class="op">)</span><span class="op">)</span>
  <span class="co"># Grand total</span>
  <span class="va">TT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">obs</span><span class="op">)</span>
  <span class="co"># Proportion théoriques</span>
  <span class="va">theo</span> <span class="op">&lt;-</span> <span class="va">SL</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">SC</span><span class="op">)</span> <span class="op">/</span> <span class="va">TT</span>
  <span class="co"># khi carré</span>
  <span class="va">khi2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">obs</span> <span class="op">-</span> <span class="va">theo</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span> <span class="op">/</span> <span class="va">theo</span><span class="op">)</span>
  <span class="va">dl</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">SL</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">SC</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span>
  <span class="va">vp</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html">pchisq</a></span><span class="op">(</span><span class="va">khi2</span>, <span class="va">dl</span><span class="op">)</span>
  <span class="co"># Sortie</span>
  <span class="va">statistiques</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>khi2 <span class="op">=</span> <span class="va">khi2</span>, dl <span class="op">=</span> <span class="va">dl</span>, valeur.p <span class="op">=</span> <span class="va">vp</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">statistiques</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Il y a plusieurs techniques pour créer une base de données, l’essentiel étant de lier les proportions désirées. Ici, une variable sexe est créée avec 50-50% de chance d’être l’un ou l’autre sexe. Par la suite, une proportion différente liée au sexe est utilisée pour générer la fréquence de consommation de tabac. La syntaxe sert principalement à identifier les valeurs <code>homme</code> et <code>femme</code> de la première variable pour en associer une valeur <code>tabac</code>.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">54</span><span class="op">)</span>
  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100</span>
  <span class="co"># Première variable</span>
  <span class="va">sexe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"homme"</span>,<span class="st">"femme"</span><span class="op">)</span>, 
                size <span class="op">=</span> <span class="va">n</span>, 
                replace <span class="op">=</span> <span class="cn">TRUE</span>, 
                prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.5</span>,<span class="fl">.5</span><span class="op">)</span><span class="op">)</span>
  <span class="va">tabac</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>
  <span class="co"># Proportions conditionnelles</span>
  <span class="va">tabac</span><span class="op">[</span><span class="va">sexe</span> <span class="op">==</span> <span class="st">"femme"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fumeur"</span>,<span class="st">"non-fumeur"</span><span class="op">)</span>, 
                                    size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sexe</span> <span class="op">==</span> <span class="st">"femme"</span><span class="op">)</span>, 
                                    replace <span class="op">=</span> <span class="cn">TRUE</span>, 
                                    prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.2</span>,<span class="fl">.8</span><span class="op">)</span><span class="op">)</span>
  <span class="va">tabac</span><span class="op">[</span><span class="va">sexe</span> <span class="op">==</span> <span class="st">"homme"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fumeur"</span>,<span class="st">"non-fumeur"</span><span class="op">)</span>, 
                                    size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sexe</span> <span class="op">==</span> <span class="st">"homme"</span><span class="op">)</span>, 
                                    replace <span class="op">=</span> <span class="cn">TRUE</span>, 
                                    prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.1</span>,<span class="fl">.9</span><span class="op">)</span><span class="op">)</span>
  <span class="co">#base données</span>
  <span class="va">donnees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">sexe</span>, <span class="va">tabac</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">donnees</span><span class="op">)</span>
<span class="co">#&gt;        tabac</span>
<span class="co">#&gt; sexe    fumeur non-fumeur</span>
<span class="co">#&gt;   femme      8         38</span>
<span class="co">#&gt;   homme      4         50</span></code></pre></div>
<p>La fonction <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> de <strong>R</strong> génère une table de contingence. La fonction maison et deux méthodes de base <strong>R</strong> sont présentées et produisent les mêmes résultats pour le <span class="math inline">\(\chi^2\)</span>. Un autre, le test exact de Fisher est également présenté. Celui-ci est plus robuste, mais peut requérir plus intensive des ressources de l’ordianteur pour les grosses tables de contingences.</p>
<p>Le test du <span class="math inline">\(\chi^2\)</span> est sujet à certains problèmes qu’il est important de considérer sans quoi l’interprétation pourra être faussée. Si la taille d’échantillon (le nombre d’unités d’observation observées est trop faible), alors le test est biaisé. Par exemple, trois lancers de pile ou face ne sont pas suffisants pour tester une hypothèse de khi-carré, le nombre de résultats différents est de 2, ce qui ne donne pas une approximation satisfaisante de la distribution d’échantillonnage. La convention est de dire qu’une fréquence théorique est trop petite si elle est plus petite que 5. Si ce n’est pas cas, des corrections ou d’autres options doivent être considérées.</p>
<p>Dans le présent exemple, bien que les fréquences attendues respectent les critères usuels, il peut être utile d’envisager un test plus robuste comme le test exact de Fisher ou le <span class="math inline">\(\chi^2\)</span> avec correction de continuité. Le premier se commande avec la fonction <code><a href="https://rdrr.io/r/stats/fisher.test.html">fisher.test()</a></code> et le second est la fonction par défaut de <code><a href="https://rdrr.io/r/stats/chisq.test.html">chisq.test()</a></code>. Pour montrer l’équivalent entre la fonction <code><a href="https://rdrr.io/r/stats/chisq.test.html">chisq.test()</a></code> et la fonction maison, l’option de correction est désactivée avec l’argument <code>correct = FALSE</code>.</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Table de contingence</span>
<span class="va">TC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">donnees</span><span class="op">)</span>
<span class="co"># Fonction maison</span>
<span class="fu">khicarre</span><span class="op">(</span><span class="va">TC</span><span class="op">)</span>
<span class="co">#&gt; $khi2</span>
<span class="co">#&gt; [1] 2.34</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $dl</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $valeur.p</span>
<span class="co">#&gt; [1] 0.126</span>

<span class="co"># Fonction de base</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">TC</span><span class="op">)</span>
<span class="co">#&gt; Number of cases in table: 100 </span>
<span class="co">#&gt; Number of factors: 2 </span>
<span class="co">#&gt; Test for independence of all factors:</span>
<span class="co">#&gt;  Chisq = 2.3, df = 1, p-value = 0.1</span>

<span class="co"># Autre fonction de base</span>
<span class="va">resultat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/chisq.test.html">chisq.test</a></span><span class="op">(</span><span class="va">TC</span>, correct <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">resultat</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Pearson's Chi-squared test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  TC</span>
<span class="co">#&gt; X-squared = 2, df = 1, p-value = 0.1</span>

<span class="co"># Et pour plus de précision...</span>
<span class="va">resultat</span><span class="op">$</span><span class="va">statistic</span>
<span class="co">#&gt; X-squared </span>
<span class="co">#&gt;      2.34</span>
<span class="va">resultat</span><span class="op">$</span><span class="va">p.value</span>
<span class="co">#&gt; [1] 0.126</span>

<span class="co"># Le test exact de Fisher</span>
<span class="va">resultat.fisher</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html">fisher.test</a></span><span class="op">(</span><span class="va">TC</span><span class="op">)</span>
<span class="va">resultat.fisher</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Fisher's Exact Test for Count Data</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  TC</span>
<span class="co">#&gt; p-value = 0.2</span>
<span class="co">#&gt; alternative hypothesis: true odds ratio is not equal to 1</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;   0.641 12.731</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; odds ratio </span>
<span class="co">#&gt;       2.61</span>
<span class="va">resultat.fisher</span><span class="op">$</span><span class="va">p.value</span>
<span class="co">#&gt; [1] 0.216</span></code></pre></div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="lassociation-lin%C3%A9aire.html"><span class="header-section-number">11</span> L’association linéaire</a></div>
<div class="next"><a href="exercice-analyse.html">Exercices</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#test-pour-donn%C3%A9es-nominales"><span class="header-section-number">12</span> Test pour données nominales</a></li>
<li><a class="nav-link" href="#le-chi2-pour-table-de-contingence"><span class="header-section-number">12.1</span> Le \(\chi^2\) pour table de contingence</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/04-Analyses.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/04-Analyses.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes Quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2022-05-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
