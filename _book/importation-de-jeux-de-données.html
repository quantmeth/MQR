<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 6 Importation de jeux de données | Méthodes Quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="Dans la plupart des situations, les analyses et les graphiques seront réalisés à partir d’un jeu de données se trouvant dans un fichier. Ce devra être importé en R pour être manipulé. Les jeux de...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content=" 6 Importation de jeux de données | Méthodes Quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:description" content="Dans la plupart des situations, les analyses et les graphiques seront réalisés à partir d’un jeu de données se trouvant dans un fichier. Ce devra être importé en R pour être manipulé. Les jeux de...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 6 Importation de jeux de données | Méthodes Quantitatives avec R">
<meta name="twitter:description" content="Dans la plupart des situations, les analyses et les graphiques seront réalisés à partir d’un jeu de données se trouvant dans un fichier. Ce devra être importé en R pour être manipulé. Les jeux de...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes Quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Les rudiments de R</li>
<li><a class="" href="commencer-avec-r.html"><span class="header-section-number">1</span> Commencer avec R</a></li>
<li><a class="" href="programmer-avec-r.html"><span class="header-section-number">2</span> Programmer avec R</a></li>
<li><a class="" href="fonctions-statistiques-essentielles.html"><span class="header-section-number">3</span> Fonctions statistiques essentielles</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Importation, gestion et visualisation de jeux de données</li>
<li><a class="" href="gestion-de-base-des-jeux-de-donn%C3%A9es.html"><span class="header-section-number">4</span> Gestion de base des jeux de données</a></li>
<li><a class="" href="entr%C3%A9e-de-donn%C3%A9es.html"><span class="header-section-number">5</span> Entrée de données</a></li>
<li><a class="active" href="importation-de-jeux-de-donn%C3%A9es.html"><span class="header-section-number">6</span> Importation de jeux de données</a></li>
<li><a class="" href="visualisation-des-donn%C3%A9es.html"><span class="header-section-number">7</span> Visualisation des données</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="importation-de-jeux-de-données" class="section level1" number="6">
<h1>
<span class="header-section-number"> 6</span> Importation de jeux de données<a class="anchor" aria-label="anchor" href="#importation-de-jeux-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h1>
<p>Dans la plupart des situations, les analyses et les graphiques seront réalisés à partir d’un jeu de données se trouvant dans un fichier. Ce devra être importé en <strong>R</strong> pour être manipulé. Les jeux de données peuvent se trouver dans un fichier dans l’ordinateur, mais aussi sur le web. Ils peuvent être en différents types de format.</p>
<p>Dans le premier chapitre, une méthode est présentée pour importer des données. Lorsqu’il provenait d’un logiciel comme IBM SPSS ou Excel, l’accent était mis sur l’exportation de ces données dans un certain format, puis l’importation avec <strong>R</strong>. Il n’est pas toujours nécessaire d’exporter ces données, puisque le logiciel à l’aide des fonctions de base ou de packages peut lire des fichiers d’une multitude d’extensions.</p>
<p>Pour la description de l’importation, l’ouvrage tient pour acquis que le fichier de données se retrouve dans le directoire de travail (ce qui est l’idéal en général). Un peu plus loin, la création de trajectoires pour différents emplacements sera présentée.</p>
<p>Les fonctions de base permettront d’importer la plupart des jeux de données, particulièrement s’ils ont été exportés dans un format compatible. Pour le cas où ces fichiers ne pourraient être exportés de cette façon, des packages pallieront ce besoin. Dans cet ouvrage, seule une présentation sommaire de ces options sera discutée, l’utilisateur est recommandé à la documentation de ces packages pour plus d’informations.</p>
<p>La prochaine section décrit les fonctions pour importer les bases de données “manuellement”. En plus de ces méthodes, <strong>R</strong>Studio possède une interface permettant l’importation des données.</p>
<div id="la-fonction-de-base" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> La fonction de base<a class="anchor" aria-label="anchor" href="#la-fonction-de-base"><i class="fas fa-link"></i></a>
</h2>
<p>La fonction de base <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> permettra d’importer la plupart des jeux de données. C’est d’ailleurs ce qui a été présenté sommairement dans le chapitre sur les rudiments. Parfois, ceux-ci ont certaines caractéristiques qu’il faudra préciser comme argument à la fonction <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> pour assurer une importation adéquate. Ces caractéristiques sont <code>header = FALSE</code>, <code>sep = ""</code>, et <code>fill = !blank.lines.skip</code> (les éléments à droite sont les options par défaut).</p>
<p>Parfois, certains fichiers sauvegardent le nom des variables en tête de colonne (première ligne). Par défaut, <strong>R</strong> assume qu’il s’agit de valeurs. L’argument <code>header = TRUE</code> ajouté à <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> précisera à <strong>R</strong> lors de l’important que ces libellés sont des noms de colonnes.</p>
<p>Si un autre symbole est utilisé pour délimiter (séparer) des valeurs dans le fichier, comme <code>;</code>ou <code>,</code>, l’argument <code>sep = ";"</code> ou <code>sep = ","</code> précisera le séparateur.</p>
<p>Si les lignes du fichier sont de tailles inégales, <strong>R</strong> assumera qu’il s’agit de valeur, et ces <em>blancs</em> de texte seront ajoutés comme valeurs (<code>""</code>). Pour gérer cette situation, l’argument <code>fill = FALSE</code> devrait régler la situation.</p>
</div>
<div id="fichiers-dextension-.txt" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Fichiers d’extension .txt<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.txt"><i class="fas fa-link"></i></a>
</h2>
<p>Un fichier d’extension <code>.txt</code> ou un fichier texte délimité par des tabulations (<em>tab-delimited text files</em>) est importé à l’aide de la fonction <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code>.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"fichier.txt"</span><span class="op">)</span></code></pre></div>
</div>
<div id="fichiers-dextension-.csv" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Fichiers d’extension .csv<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.csv"><i class="fas fa-link"></i></a>
</h2>
<p>Un fichier d’extension .csv use généralement de séparateur comme <code>";"</code> (lorsque le système numérique de la langue d’origine utilise la virgule - comme le français par exemple) ou <code>","</code> (pour les autres langues qui n’utilise pas la virgule) et ont généralement les noms de variables en première ligne. Ainsi, la fonction <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> est utilisable pourvu que le séparateur soit précisé et la présence d’en-tête également.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"fichier.csv"</span>, sep <span class="op">=</span> <span class="st">";"</span>, header <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Il existe aussi la fonction <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> et <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv2()</a></code> pour importer des fichiers d’extension <code>.csv</code>. Il s’agit exactement de <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> à l’exception des arguments par défaut, mais précisant par défaut <code>header = TRUE</code> et <code>fill = TRUE</code> et détecte s’il s’agit de <code>";"</code> ou <code>","</code>.</p>
</div>
<div id="fichiers-délimités" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Fichiers délimités<a class="anchor" aria-label="anchor" href="#fichiers-d%C3%A9limit%C3%A9s"><i class="fas fa-link"></i></a>
</h2>
<p>Pour les fichiers recourant à un autre caractère qu’une tabulation, qu’une <code>","</code>, ou un <code>";"</code> pour délimiter les valeurs, spécifier le caractère dans <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> importera le fichier.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"fichier.txt"</span>, sep <span class="op">=</span> <span class="st">"$"</span><span class="op">)</span></code></pre></div>
<p>Comme pour <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> et <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv2()</a></code>, les fonctions <code><a href="https://rdrr.io/r/utils/read.table.html">read.delim()</a></code> et <code><a href="https://rdrr.io/r/utils/read.table.html">read.delim()</a></code> pourraient être utilisées.</p>
</div>
<div id="fichiers-dextension-.sav-.dta-.syd-et-.mtp" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Fichiers d’extension .sav, .dta, .syd et .mtp<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.sav-.dta-.syd-et-.mtp"><i class="fas fa-link"></i></a>
</h2>
<p>Comme le lecteur s’en doute peut-être, <strong>R</strong> de base ne permet pas d’importer des fichiers spécifiques d’autres logiciels. Par contre, avec les années se sont développés des packages permettant de pallier la situation. Le package <code>foreign</code> permet d’importer des fichiers issus de IBM SPSS (<code>.sav</code>), Stata (<code>.dta</code>) et Systat (<code>.syd</code>) et Minitab (<code>mtp</code>) avec, respectivement les fonctions <code><a href="https://rdrr.io/pkg/foreign/man/read.spss.html">read.spss()</a></code>, <code>read.data()</code>, <code><a href="https://rdrr.io/pkg/foreign/man/read.systat.html">read.systat()</a></code> et <code><a href="https://rdrr.io/pkg/foreign/man/read.mtp.html">read.mtp()</a></code>. La logique d’importation est la même pour ces quatre fonctions.</p>
<p>Pour <code><a href="https://rdrr.io/pkg/foreign/man/read.spss.html">read.spss()</a></code>, deux arguments sont importants à souligner. Par défaut, la fonctionne ne retourne pas un <em>data frame</em> et utilise les libellés de valeurs (<em>value labels</em>). Dans la plupart des cas, l’utilisateur désire probablement obtenir un jeu de données de type <em>data.frame</em> et les valeurs sous-jacentes au libellés de valeurs. L’utilisateur peut alors changer ces arguments <code>to.data.frame = TRUE</code> (par défaut <code>FALSE</code>) et <code>use.value.labels = FALSE</code>(par défaut <code>TRUE</code>).</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/foreign/">foreign</a></span><span class="op">)</span>

<span class="co"># SPSS</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.spss.html">read.spss</a></span><span class="op">(</span><span class="st">"fichier.sav"</span>,to.data.frame <span class="op">=</span> <span class="cn">TRUE</span>,use.value.labels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># Stata</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.dta.html">read.dta</a></span><span class="op">(</span><span class="st">"fichier.dta"</span><span class="op">)</span>

<span class="co"># Systat</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.systat.html">read.systat</a></span><span class="op">(</span><span class="st">"fichier.syd"</span><span class="op">)</span> 

<span class="co"># Minitab</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.mtp.html">read.mtp</a></span><span class="op">(</span><span class="st">"fichier.mtp"</span><span class="op">)</span></code></pre></div>
<p>Consulter la documentation du package pour plus d’informations sur les options possibles.</p>
</div>
<div id="fichiers-dextension-.xls-et-xlsx" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> Fichiers d’extension .xls et xlsx<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.xls-et-xlsx"><i class="fas fa-link"></i></a>
</h2>
<p>Il n’existe pas de fonction de base pour importer des fichiers Microsoft Excel (extensions <code>.xls</code> et <code>.xlsx</code>). Par contre, il existe plusieurs packages qui permettront de la faire, comme <code>readxl</code>. Le package <code>readlxl</code> permet d’utiliser la fonction <code><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel()</a></code> pour importer le fichier.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Excel</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">"fichier.xls"</span><span class="op">)</span></code></pre></div>
<p>La fonction <code><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel()</a></code> possède un argument <code>sheet =</code> qui permet de préciser la feuille qu’il faut importer ou <code>range =</code> (p. ex. <code>range = A1:B20</code> qui permet d’importer un rectangle de plage de données (du coin supérieur gauche <code>A1</code> au coin inférieur droit <code>B20</code>).
Consulter la documentation du package pour plus d’informations sur les options possibles.</p>
</div>
<div id="fichiers-dextension-.html" class="section level2" number="6.7">
<h2>
<span class="header-section-number">6.7</span> Fichiers d’extension .html<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.html"><i class="fas fa-link"></i></a>
</h2>
<p>Il n’existe pas de fonction de base pour importer des fichiers d’extension .html, (HTML, <em>HyperText Markup Language</em>). Le package <code>XML</code> fournit une solution possible avec la fonction <code>readHMTLTable()</code>.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#HTML</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.omegahat.net/RSXML/">XML</a></span><span class="op">)</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu">readHMTLTable</span><span class="op">(</span><span class="st">"fichier.html"</span><span class="op">)</span></code></pre></div>
<p>Consulter la documentation du package pour plus d’informations sur les options possibles.</p>
</div>
<div id="fichiers-dextension-.json" class="section level2" number="6.8">
<h2>
<span class="header-section-number">6.8</span> Fichiers d’extension .json<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.json"><i class="fas fa-link"></i></a>
</h2>
<p>Il n’existe pas de fonction de base pour importer des fichiers d’extension .json, (<em>JavaScript Object Notation</em>). Comme le lecteur pourra s’y attendre, il existe un package pour rectifier la situation : le package <code>rjson</code> et sa fonction <code>fromJSON()</code>.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#JSON</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexcb/rjson">rjson</a></span><span class="op">)</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu">fromJSON</span><span class="op">(</span><span class="st">"fichier.json"</span><span class="op">)</span></code></pre></div>
<p>Consulter la documentation du package pour plus d’informations sur les options possibles.</p>
</div>
<div id="fichiers-dextension-.sas7bdat" class="section level2" number="6.9">
<h2>
<span class="header-section-number">6.9</span> Fichiers d’extension .sas7bdat<a class="anchor" aria-label="anchor" href="#fichiers-dextension-.sas7bdat"><i class="fas fa-link"></i></a>
</h2>
<p>Il n’existe pas de fonction de base pour importer des fichiers d’extension <code>.sas7bdat</code>, (<em>Statistical Analysis System</em>). Il existe le package <code>sas7bdat</code> pour importer des données de SAS vers <strong>R</strong> avec la fonction <code>read.sas7bdat()</code>.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># SAS</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">sas7bdat</span><span class="op">)</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu">read.sas7bdat</span><span class="op">(</span><span class="st">"fichier.sas7dbat"</span><span class="op">)</span></code></pre></div>
<p>Consulter la documentation du package pour plus d’informations sur les options possibles.</p>
</div>
<div id="emplacement-du-jeu-de-données" class="section level2" number="6.10">
<h2>
<span class="header-section-number">6.10</span> Emplacement du jeu de données<a class="anchor" aria-label="anchor" href="#emplacement-du-jeu-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Idéalement, le fichier contenant le jeu de données sera déjà dans le directoire de travail (ou dan le projet R en cours). Dans ce contexte, référer seulement au nom du fichier suffira.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"fichier.txt"</span><span class="op">)</span></code></pre></div>
<p>Si le jeu de données est sur le web, il peut être importé en précisant l’URL.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"https://site/ou/trouver/le/fichier.txt"</span><span class="op">)</span></code></pre></div>
<p>S’il est plutôt dans un fichier sur l’ordinateur, mais pas dans le directoire de travail, ce sera essentiellement la même méthode.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"C:/site/ou/trouver/le/fichier.txt"</span><span class="op">)</span></code></pre></div>
<p>Si l’utilisateur ne connaît pas exactement la trajectoire, il peut se résoudre à passer par l’explorateur de fichiers (Windows ou Apple) pour déterminer l’emplacement du fichier de jeu de données. Il faut alors utiliser la fonction <code><a href="https://rdrr.io/r/base/file.choose.html">file.choose()</a></code> sans aucun argument à l’intérieur de la fonction d’importation.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.choose.html">file.choose</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>L’utilisateur devra alors identifier manuellement (pointer et cliquer) où se trouve le fichier. Il devra se promener de fichier en fichier jusqu’à ce qu’il arrive au bon jeu de données, un peu comme le font les logiciels traditionnels lorsque l’utilisateur souhaite sauvegarder un fichier à un certain endroit.</p>
<!-- TODO -->
<!-- ## Importation avec **R**Studio -->
</div>
<div id="conseils-dimportation" class="section level2" number="6.11">
<h2>
<span class="header-section-number">6.11</span> Conseils d’importation<a class="anchor" aria-label="anchor" href="#conseils-dimportation"><i class="fas fa-link"></i></a>
</h2>
<p>Parfois des valeurs s’ajoutent lors de l’exportation ou l’importation des données. Des logiciels traditionnels font parfois ce mauvais tour. Une vérification de la base de données est par conséquent impérative, surtout lors de la première utilisation du jeu de données. Deux méthodes de vérification sont suggérées. D’abord ouvrir le fichier avec un éditeur de texte de base, comme bloc-notes, pour s’assurer qu’aucun caractère ne s’est indésirable ajouté à l’insu de l’utilisateur. Ensuite, voir avec la fonction <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> dans <strong>R</strong> si la base de données s’affiche correctement et que les variables, et lignes semblent correspondre à ce qui est attendu.</p>
</div>
<div id="gestion-avancée-de-jeux-de-données" class="section level2" number="6.12">
<h2>
<span class="header-section-number">6.12</span> Gestion avancée de jeux de données<a class="anchor" aria-label="anchor" href="#gestion-avanc%C3%A9e-de-jeux-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Avec <strong>R</strong>, il ne sera jamais nécessaire de manipuler directement le fichier contenant les données. Cette pratique est déconseillée. Préserver le fichier original intact évite de nombreuses complications, comme la compatibilité entre les versions, la reproductibilité des bases, la maintenance, etc. Toutes les manipulations seront conservées dans un script. Cela favorise le partage entre collègues, mais aussi le suivi des modifications apportées en comparant tout simplement les traces dans entre les syntaxes. Le jeu de données est importé dans la console et il ne sera plus touché par l’utilisateur. Le script consevera les manipulations réalisées qui pourront être refaites facilement en quelques cliques.</p>
<p>En pratique, l’expérimentateur aura le jeu de données officielles (final) avec lequel travailler. Il pourra l’importer tel que précisé dans la section précédente. Par la suite, il ne lui reste qu’à mettre en place le nettoyage et la préparation du jeu de données. Il existe plusieurs méthodes pour réalise la gestion; il ne faut pas s’étonner de voir d’autres ouvrages aborder la gestion de données d’une autre façon. Au final, la meilleure méthode est celle qui m’est l’utilisateur à son aise. Le présent ouvrage tente de monter une approche intuitive et simple, mais il ne faut pas en faire un dogme.</p>
</div>
<div id="le-tidyverse" class="section level2" number="6.13">
<h2>
<span class="header-section-number">6.13</span> Le tidyverse<a class="anchor" aria-label="anchor" href="#le-tidyverse"><i class="fas fa-link"></i></a>
</h2>
<p>Le nom <em>tidyverse</em> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-tidy" role="doc-biblioref">Wickham et al., 2019</a>)</span> est une contraction de <em>tidy</em> (bien rangé) et de <em>universe</em>. Le package est fondé sur le concept de <em>tidy data</em>, développé par Hadley <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Wickham14" role="doc-biblioref">Wickham, 2014</a>)</span>. Il repose sur une philosophie d’organisation des données facilitant la gestion, la préparation et le nettoyage préalable aux analyses quantitatives. Plusieurs packages respectent cette philosophie et font partie intégrante du <em>tidyverse</em>, comme <code>ggplot2</code> (présentation graphique), <code>dplyr</code> (manipulation de données), <code>readr</code> (importation de données), <code>tibble</code> (nouvelle catégorie de <em>data frame</em>), mais bien d’autres également. Ces packages font part intégrante de l’univers <em>tidy</em> et sont téléchargés simultanément avec le package.</p>
<p>Pour utiliser le package <code>tidyverse</code>, il faudra d’abord l’installer puis l’appeler.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="les-fonctions-utiles" class="section level2" number="6.14">
<h2>
<span class="header-section-number">6.14</span> Les fonctions utiles<a class="anchor" aria-label="anchor" href="#les-fonctions-utiles"><i class="fas fa-link"></i></a>
</h2>
<p>Un des avantages et nouveautés d’utiliser le <code>tidyverse</code> est d’obtenir l’opérateur <code>%&gt;%</code> (appelée <em>pipe</em> en anglais que l’on pourrait traduire par <em>tuyau</em>) qui provient originellement du package <code>magrittr</code> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-magri" role="doc-biblioref">Bache &amp; Wickham, 2020</a>)</span> et est importé par <code>dplyr</code>. L’opérateur favorise la lisibilité et la productivité, car il est plus facile de suivre le flux de plusieurs fonctions à travers ces <em>tuyaux</em> que de revenir en arrière lorsque plusieurs fonctions sont imbriquées. En fait, il favorise la lecture par verbes, soit par action (fonction), dans une séquence temporelle intuitive. Si les arguments sont placés en une seule ligne, non seulement la ligne est-elle longue et complexe, voire illisible, mais, en plus, les éléments les plus à gauche (les premiers à la lecture) sont les derniers opérés. Si chacune des fonctions était en ligne, alors il faudrait écraser ou créer des variables temporaires inutiles tout simplement pour arriver à réaliser les fonctions. La philosophie <code>tidyverse</code>, par l’usage de <code>%&gt;%</code>, évite tous ses problèmes.</p>
<p>L’opérateur <code>%&gt;%</code> s’ajoute à la fin d’une ligne syntaxe. Son fonctionnement se traduit par l’argument de la ligne à gauche est introduit dans la fonction de droite. Il peut être commandé plus rapidement avec le raccourci <strong>CTRL + Shift + M</strong> sur Windows. En plus de l’opérateur <code>%&gt;%</code> , <code>dplyr</code> offre de nouvelles fonctions pour gérer une base de données. Quelques-unes des plus importantes sont décrites ici. Par la suite, une mise en contexte permettra de mieux comprendre leur fonctionnement.</p>
<div id="sélectionner-des-variables" class="section level3" number="6.14.1">
<h3>
<span class="header-section-number">6.14.1</span> Sélectionner des variables<a class="anchor" aria-label="anchor" href="#s%C3%A9lectionner-des-variables"><i class="fas fa-link"></i></a>
</h3>
<p>Pour sélectionner des données d’un très grand jeu de données, la fonction <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> permettra de choisir les variables à conserver. Pour utiliser la fonction, il suffit d’indiquer les variables par leur nom de colonne dans la fonction.</p>
</div>
<div id="sélectionner-des-participants" class="section level3" number="6.14.2">
<h3>
<span class="header-section-number">6.14.2</span> Sélectionner des participants<a class="anchor" aria-label="anchor" href="#s%C3%A9lectionner-des-participants"><i class="fas fa-link"></i></a>
</h3>
<p>Pour filtrer les participants selon les caractéristiques désirées, la fonction <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> permettra de sélectionner les unités satisfaisant les conditions spécifiées. Pour utiliser la fonction, il faut indiquer le ou les arguments conditionnels à respecter et sur quelle variable.</p>
<p>Dans ce contexte la fonction <code>na.if()</code> peut être utile pour retirer une valeur aberrante.</p>
</div>
<div id="transformer-et-créer-des-variables" class="section level3" number="6.14.3">
<h3>
<span class="header-section-number">6.14.3</span> Transformer et créer des variables<a class="anchor" aria-label="anchor" href="#transformer-et-cr%C3%A9er-des-variables"><i class="fas fa-link"></i></a>
</h3>
<p>Pour créer ou transformer des variables, la fonction <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> permettra de créer de nouvelles variables à partir des valeurs déjà dans le jeu de données. Il suffit d’indiquer dans la fonction, le calcul qui doit être opérer.</p>
</div>
<div id="sommariser-les-informations-pertinentes" class="section level3" number="6.14.4">
<h3>
<span class="header-section-number">6.14.4</span> Sommariser les informations pertinentes<a class="anchor" aria-label="anchor" href="#sommariser-les-informations-pertinentes"><i class="fas fa-link"></i></a>
</h3>
<p>Pour obtenir des informations sur le jeu de données ainsi créées, la fonction <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> permettra notamment d’obtenir des statistiques d’intérêt. En ajoutant, dans la fonction, les fonctions désirées, comme <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> ou <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code>, avec les variables sur lesquelles elles devraient être opérées ou encore <code><a href="https://dplyr.tidyverse.org/reference/context.html">n()</a></code> pour connaître la taille des groupes.</p>
<p>S’il y a des groupes ou des catégories, le sommaire peut être divisé avec la fonction <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> où la variable nominale est spécifiée.</p>
</div>
<div id="autres-fonctions" class="section level3" number="6.14.5">
<h3>
<span class="header-section-number">6.14.5</span> Autres fonctions<a class="anchor" aria-label="anchor" href="#autres-fonctions"><i class="fas fa-link"></i></a>
</h3>
<p>Il existe plusieurs autres fonctions possibles. Notamment, <code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice()</a></code> permet de choisir les unités désirées en passant comme argument la base de données et le ou les numéros de ligne; <code>sample_slice()</code> qui est très similaire, retourne des lignes aléatoires; <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code>, similaire à <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>, permet de renommer les variables; <code>arrange</code> reclasse par ordre croissant en fonction d’une variable placée en argument. Et il y en a plusieurs autres.</p>
</div>
</div>
<div id="mise-en-pratique" class="section level2" number="6.15">
<h2>
<span class="header-section-number">6.15</span> Mise en pratique<a class="anchor" aria-label="anchor" href="#mise-en-pratique"><i class="fas fa-link"></i></a>
</h2>
<p>Pour mettre en pratique la philosophie <code>tidyverse</code>, voici un exemple tiré du jeu de données <code>starwars</code>. Ce jeu de données possède de nombreuses caractéristiques (diversité de variables, de mesures, données manquantes) qui en font un jeu de données similaires à ce qu’un expérimentateur pourrait obtenir. Le jeu de données est déjà disponible avec <strong>R</strong>.</p>
<p>Sans plus de préliminaire, la fonction <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> donne un aperçu du jeu de données</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">starwars</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;   name          height  mass hair_color skin_color eye_color</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;    </span>
<span class="co">#&gt; 1 Luke Skywalk~    172    77 blond      fair       blue     </span>
<span class="co">#&gt; 2 C-3PO            167    75 &lt;NA&gt;       gold       yellow   </span>
<span class="co">#&gt; 3 R2-D2             96    32 &lt;NA&gt;       white, bl~ red      </span>
<span class="co">#&gt; 4 Darth Vader      202   136 none       white      yellow   </span>
<span class="co">#&gt; 5 Leia Organa      150    49 brown      light      brown    </span>
<span class="co">#&gt; 6 Owen Lars        178   120 brown, gr~ light      blue</span></code></pre></div>
<p>Pour obtenir de l’information sur ce jeu de données.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span><span class="va">starwars</span></code></pre></div>
<p>Voici la description du jeu de données (traduction libre),</p>
<blockquote>
<p>Les données d’origine, issues de SWAPI, l’API de Star Wars, <a href="https://swapi.dev/" class="uri">https://swapi.dev/</a>, ont été révisées pour tenir compte des recherches supplémentaires sur la détermination du genre et du sexe des personnages.</p>
</blockquote>
<p>Peu utile comme descripteur, une inspection des données est plus informative. Pour afficher le jeu de données dans un nouvel onglet.</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">starwars</span><span class="op">)</span></code></pre></div>
<p>Le fichier contient, le nom de 87 personnages mesurés sur 14 variables, soit</p>
<ul>
<li><p>le nom;</p></li>
<li><p>la taille (cm);</p></li>
<li><p>le poids (kg);</p></li>
<li><p>la couleur des cheveux, de la peau et des yeux (trois variables);</p></li>
<li><p>l’année de naissance;</p></li>
<li><p>le sexe biologique (mâle, femelle, hermaphrodite ou aucun);</p></li>
<li><p>le genre;</p></li>
<li><p>la planète natale;</p></li>
<li><p>l’espèce;</p></li>
<li><p>une liste de films où le personnage apparaît;</p></li>
<li><p>une liste des véhicules que le personnage a piloté;</p></li>
<li><p>une liste des vaisseaux que le personnage a piloté.</p></li>
</ul>
<p>L’objectif est de cette mise en situation est de comparer les hommes et les femmes humaines par rapport à leur indice de masse corporelle (IMC) ou <em>body mass index</em> (BMI). Le calcul de l’IMC consiste à diviser le poids par la taille au carré (kg/m<sup>2</sup>).</p>
<p>Les étapes à considérer sont les suivantes : sélectionner les variables pertinentes, filtrer en retirant les unités d’espèces non humaines, tenir compte des données manquantes, corriger la taille des unités qui devrait être en mètre et non en centimètre (divisé par 100) et créer l’indice de masse corporelle.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Importer le tidyverse avant de commencer</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">jd</span> <span class="op">=</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">sex</span>, <span class="va">mass</span>, <span class="va">height</span>, <span class="va">species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="st">"Human"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>height <span class="op">=</span> <span class="va">height</span>  <span class="op">/</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>IMC <span class="op">=</span> <span class="va">mass</span> <span class="op">/</span> <span class="va">height</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>  
<span class="va">jd</span>
<span class="co">#&gt; # A tibble: 22 x 5</span>
<span class="co">#&gt;    sex     mass height species   IMC</span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 male      77   1.72 Human    26.0</span>
<span class="co">#&gt;  2 male     136   2.02 Human    33.3</span>
<span class="co">#&gt;  3 female    49   1.5  Human    21.8</span>
<span class="co">#&gt;  4 male     120   1.78 Human    37.9</span>
<span class="co">#&gt;  5 female    75   1.65 Human    27.5</span>
<span class="co">#&gt;  6 male      84   1.83 Human    25.1</span>
<span class="co">#&gt;  7 male      77   1.82 Human    23.2</span>
<span class="co">#&gt;  8 male      84   1.88 Human    23.8</span>
<span class="co">#&gt;  9 male      80   1.8  Human    24.7</span>
<span class="co">#&gt; 10 male      77   1.7  Human    26.6</span>
<span class="co">#&gt; # ... with 12 more rows</span></code></pre></div>
<p>Les étapes de la syntaxe se lisent comme suit :</p>
<ul>
<li><p>La première ligne <code>starwars %&gt;%</code> indique l’objet sur lequel il faut passer les fonctions subséquentes;</p></li>
<li><p>puis, <code>select(sex, mass, height, species) %&gt;%</code> indique les variables à conserver pour les fonctions subséquentes;</p></li>
<li><p>puis, <code>filter(species == "Human")</code> filtre les unités qui sont humains et passe aux fonctions subséquentes;</p></li>
<li><p>puis, <code>na.omit() %&gt;%</code> retire les valeurs manquantes des unités dans le jeu de données et passe aux fonctions subséquentes;</p></li>
<li><p>puis, <code>mutate(height = height  / 100) %&gt;%</code>, transforme la variable <code>height</code> et passe à la dernière fonction;</p></li>
<li><p>enfin, <code>mutate(IMC = mass / height^2)</code> crée la variable d’IMC.</p></li>
</ul>
<p>Si une méthode plus traditionnelle avait été utilisée, la syntaxe pourrait ressembler à ceci.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op">=</span> <span class="va">starwars</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"mass"</span>, <span class="st">"height"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">]</span>  <span class="co"># select()</span>
<span class="va">jd</span> <span class="op">=</span> <span class="va">jd</span><span class="op">[</span><span class="va">jd</span><span class="op">[</span>, <span class="st">"species"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"Human"</span>,<span class="op">]</span>                    <span class="co"># filter()</span>
<span class="va">jd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">jd</span><span class="op">)</span>                                        <span class="co"># na.omit()</span>
<span class="va">jd</span><span class="op">[</span>,<span class="st">"height"</span><span class="op">]</span> <span class="op">=</span> <span class="va">jd</span><span class="op">[</span>,<span class="st">"height"</span><span class="op">]</span> <span class="op">/</span> <span class="fl">100</span>                     <span class="co"># mutate()</span>
<span class="va">jd</span><span class="op">[</span>,<span class="st">"IMC"</span><span class="op">]</span> <span class="op">=</span> <span class="va">jd</span><span class="op">[</span>,<span class="st">"mass"</span><span class="op">]</span> <span class="op">/</span> <span class="va">jd</span><span class="op">[</span>,<span class="st">"height"</span><span class="op">]</span><span class="op">^</span><span class="fl">2</span>              <span class="co"># mutate()</span>
<span class="va">jd</span>
<span class="co">#&gt; # A tibble: 22 x 5</span>
<span class="co">#&gt;    sex     mass height species   IMC</span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 male      77   1.72 Human    26.0</span>
<span class="co">#&gt;  2 male     136   2.02 Human    33.3</span>
<span class="co">#&gt;  3 female    49   1.5  Human    21.8</span>
<span class="co">#&gt;  4 male     120   1.78 Human    37.9</span>
<span class="co">#&gt;  5 female    75   1.65 Human    27.5</span>
<span class="co">#&gt;  6 male      84   1.83 Human    25.1</span>
<span class="co">#&gt;  7 male      77   1.82 Human    23.2</span>
<span class="co">#&gt;  8 male      84   1.88 Human    23.8</span>
<span class="co">#&gt;  9 male      80   1.8  Human    24.7</span>
<span class="co">#&gt; 10 male      77   1.7  Human    26.6</span>
<span class="co">#&gt; # ... with 12 more rows</span></code></pre></div>
<p>Le jeu de données est créé en autant de ligne de syntaxe. Par contre, la lecture n’est pas aussi intuitive qu’avec l’utilisation de l’opérateur <code>%&gt;%</code> et des fonctions associées <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code>. Il ne faut pas trop penser à quoi ressemblerait ces manipulations en une seule ligne de syntaxe.</p>
<p>Une fois le jeu de données prêt, il est possible d’obtenir les informations sommaires. Ici, la moyenne, l’écart type, la valeur minimale et maximale ainsi que le nombre de données sont demandés en fonction du sexe. À cette étape, l’avantage d’embrasser la philosophie <code>tidyverse</code> apparaît, en quelques lignes rudimentaires, les cinq statistiques demandées sont affichées, et ce, par groupes.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">IMC</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">IMC</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">IMC</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">IMC</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">IMC</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 2 x 6</span>
<span class="co">#&gt;   sex    `mean(IMC)` `sd(IMC)` `min(IMC)` `max(IMC)`</span>
<span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1 female        22.0      5.51       16.5       27.5</span>
<span class="co">#&gt; 2 male          26.0      4.29       21.5       37.9</span>
<span class="co">#&gt; # ... with 1 more variable: `length(IMC)` &lt;int&gt;</span></code></pre></div>
<p>La base de données issues de ces opérations pourra par la suite être utilisée normalement pour réaliser des analyses statistiques. Il existe des packages pour demeurer dans le <code>tidyverse</code> comme <code>rstatix</code>.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/rstatix/">rstatix</a></span><span class="op">)</span>
<span class="co"># Test-t sur l'IMC en fonction du sexe</span>
<span class="va">jd</span> <span class="op"><a href="https://rpkgs.datanovia.com/rstatix/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rpkgs.datanovia.com/rstatix/reference/t_test.html">t_test</a></span><span class="op">(</span><span class="va">IMC</span> <span class="op">~</span> <span class="va">sex</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 8</span>
<span class="co">#&gt;   .y.   group1 group2    n1    n2 statistic    df     p</span>
<span class="co">#&gt; * &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 IMC   female male       3    19     -1.23  2.40 0.326</span>

<span class="co"># Analyse de corrélations</span>
<span class="va">jd</span> <span class="op"><a href="https://rpkgs.datanovia.com/rstatix/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">IMC</span>, <span class="va">mass</span>, <span class="va">height</span><span class="op">)</span> <span class="op"><a href="https://rpkgs.datanovia.com/rstatix/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rpkgs.datanovia.com/rstatix/reference/cor_test.html">cor_test</a></span><span class="op">(</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 9 x 8</span>
<span class="co">#&gt;   var1   var2     cor statistic         p conf.low conf.high</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 IMC    IMC     1      2.12e+8 5.26e-155    1.00      1    </span>
<span class="co">#&gt; 2 IMC    mass    0.85   7.32e+0 4.47e-  7    0.674     0.938</span>
<span class="co">#&gt; 3 IMC    height  0.18   8.13e-1 4.26e-  1   -0.262     0.558</span>
<span class="co">#&gt; 4 mass   IMC     0.85   7.32e+0 4.47e-  7    0.674     0.938</span>
<span class="co">#&gt; 5 mass   mass    1      3.00e+8 5.13e-158    1         1    </span>
<span class="co">#&gt; 6 mass   height  0.65   3.84e+0 1.02e-  3    0.317     0.842</span>
<span class="co">#&gt; 7 height IMC     0.18   8.13e-1 4.26e-  1   -0.262     0.558</span>
<span class="co">#&gt; 8 height mass    0.65   3.84e+0 1.02e-  3    0.317     0.842</span>
<span class="co">#&gt; 9 height height  1    Inf       0            1         1    </span>
<span class="co">#&gt; # ... with 1 more variable: method &lt;chr&gt;</span></code></pre></div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="entr%C3%A9e-de-donn%C3%A9es.html"><span class="header-section-number">5</span> Entrée de données</a></div>
<div class="next"><a href="visualisation-des-donn%C3%A9es.html"><span class="header-section-number">7</span> Visualisation des données</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#importation-de-jeux-de-donn%C3%A9es"><span class="header-section-number">6</span> Importation de jeux de données</a></li>
<li><a class="nav-link" href="#la-fonction-de-base"><span class="header-section-number">6.1</span> La fonction de base</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.txt"><span class="header-section-number">6.2</span> Fichiers d’extension .txt</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.csv"><span class="header-section-number">6.3</span> Fichiers d’extension .csv</a></li>
<li><a class="nav-link" href="#fichiers-d%C3%A9limit%C3%A9s"><span class="header-section-number">6.4</span> Fichiers délimités</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.sav-.dta-.syd-et-.mtp"><span class="header-section-number">6.5</span> Fichiers d’extension .sav, .dta, .syd et .mtp</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.xls-et-xlsx"><span class="header-section-number">6.6</span> Fichiers d’extension .xls et xlsx</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.html"><span class="header-section-number">6.7</span> Fichiers d’extension .html</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.json"><span class="header-section-number">6.8</span> Fichiers d’extension .json</a></li>
<li><a class="nav-link" href="#fichiers-dextension-.sas7bdat"><span class="header-section-number">6.9</span> Fichiers d’extension .sas7bdat</a></li>
<li><a class="nav-link" href="#emplacement-du-jeu-de-donn%C3%A9es"><span class="header-section-number">6.10</span> Emplacement du jeu de données</a></li>
<li><a class="nav-link" href="#conseils-dimportation"><span class="header-section-number">6.11</span> Conseils d’importation</a></li>
<li><a class="nav-link" href="#gestion-avanc%C3%A9e-de-jeux-de-donn%C3%A9es"><span class="header-section-number">6.12</span> Gestion avancée de jeux de données</a></li>
<li><a class="nav-link" href="#le-tidyverse"><span class="header-section-number">6.13</span> Le tidyverse</a></li>
<li>
<a class="nav-link" href="#les-fonctions-utiles"><span class="header-section-number">6.14</span> Les fonctions utiles</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#s%C3%A9lectionner-des-variables"><span class="header-section-number">6.14.1</span> Sélectionner des variables</a></li>
<li><a class="nav-link" href="#s%C3%A9lectionner-des-participants"><span class="header-section-number">6.14.2</span> Sélectionner des participants</a></li>
<li><a class="nav-link" href="#transformer-et-cr%C3%A9er-des-variables"><span class="header-section-number">6.14.3</span> Transformer et créer des variables</a></li>
<li><a class="nav-link" href="#sommariser-les-informations-pertinentes"><span class="header-section-number">6.14.4</span> Sommariser les informations pertinentes</a></li>
<li><a class="nav-link" href="#autres-fonctions"><span class="header-section-number">6.14.5</span> Autres fonctions</a></li>
</ul>
</li>
<li><a class="nav-link" href="#mise-en-pratique"><span class="header-section-number">6.15</span> Mise en pratique</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/02-Gestion.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/02-Gestion.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes Quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2022-05-12.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
