<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 2 Programmer | Méthodes Quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="Dans les prochaines sections, les différents éléments de programmation permettant la création et la manipulation de données seront présentés.  2.1 Les variables Pour manipuler les données, il faut...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content=" 2 Programmer | Méthodes Quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:url" content="mqr.teluq.ca/programmer.html">
<meta property="og:description" content="Dans les prochaines sections, les différents éléments de programmation permettant la création et la manipulation de données seront présentés.  2.1 Les variables Pour manipuler les données, il faut...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 2 Programmer | Méthodes Quantitatives avec R">
<meta name="twitter:description" content="Dans les prochaines sections, les différents éléments de programmation permettant la création et la manipulation de données seront présentés.  2.1 Les variables Pour manipuler les données, il faut...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body>
<p>
    \(
    \newcommand{\EX}{\mathbb{E}}
    \)
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style><style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style><link rel="stylesheet" href="bs4_style.css"></p>

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes Quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Rudiments</li>
<li><a class="" href="commencer.html"><span class="header-section-number">1</span> Commencer</a></li>
<li><a class="active" href="programmer.html"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="" href="calculer.html"><span class="header-section-number">3</span> Calculer</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Jeux de données</li>
<li><a class="" href="importer.html"><span class="header-section-number">4</span> Importer</a></li>
<li><a class="" href="entr%C3%A9e-de-donn%C3%A9es.html"><span class="header-section-number">5</span> Entrée de données</a></li>
<li><a class="" href="manipuler.html"><span class="header-section-number">6</span> Manipuler</a></li>
<li><a class="" href="visualiser.html"><span class="header-section-number">7</span> Visualiser</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li class="book-part">Statistique</li>
<li><a class="" href="inf%C3%A9rer.html"><span class="header-section-number">8</span> Inférer</a></li>
<li><a class="" href="analyser.html"><span class="header-section-number">9</span> Analyser</a></li>
<li><a class="" href="simuler.html"><span class="header-section-number">10</span> Simuler</a></li>
<li><a class="" href="exercice-analyse.html">Exercices</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="programmer" class="section level1" number="2">
<h1>
<span class="header-section-number"> 2</span> Programmer<a class="anchor" aria-label="anchor" href="#programmer"><i class="fas fa-link"></i></a>
</h1>
<p>Dans les prochaines sections, les différents éléments de programmation permettant la création et la manipulation de données seront présentés.</p>
<div id="les-variables" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Les variables<a class="anchor" aria-label="anchor" href="#les-variables"><i class="fas fa-link"></i></a>
</h2>
<p>Pour manipuler les données, il faut recourir à des variables. Afin de leur attribuer une valeur, il faut assigner cette valeur avec <code>&lt;-</code> (<strong>ALT + -</strong>) ou <code>=</code>, par exemple,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">a</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>où <code>a</code> est maintenant égale à <code>2</code>. La première ligne assigne la valeur à <code>a</code>. La deuxième ligne, indique à la console <strong>R</strong> d’imprimer le résultat pour le voir. Par la suite, <code>a</code> pourra être utilisée dans des fonctions, des calculs ou analyses plus complexes. De surcroît, <code>a</code> pourra devenir une fonction, une chaîne de caractère (<em>string</em>) ou un jeu de données.</p>
<p>Conventionnellement, les puristes de <strong>R</strong> recommanderont l’usage de <code>&lt;-</code> plutôt que <code>=</code> pour l’assignation. Il y a quelques nuances computationnelles entre les deux, mais qui échapperont irrémédiablement aux néophytes et même aux usagers intermédiaires.</p>
<p>Pour nommer des variables, seuls les caractères alphanumériques peuvent être utilisés ainsi que le tiret bas <code>_</code> et le <code>.</code>. Les variables ne peuvent commencer par un nombre.</p>
<!-- TODO -->
<!-- L'utilisation de `=` sera utilisée dans cet ouvrage, par simplicité, mais aussi, car il semble plus intuitif pour le nouvel utilisateur ou la nouvelle utilisatrice. Il économise 1 clique de clavier. -->
<p>Réassigner une valeur à une variable déjà existante écrase la valeur précédente.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">3</span>
<span class="va">a</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>La sortie produit <code>3</code> et non plus <code>2</code>.</p>
<p>Cette remarque est importante, car elle signifie que l’on peut écraser des fonctions en nommant des variables. Il faut ainsi éviter de nommer des variables avec des fonctions utilisées par <strong>R</strong>, on évitera notamment l’utilisation des noms suivants.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">c</span>; <span class="va">q</span>; <span class="va">t</span>; <span class="va">C</span>; <span class="va">D</span>; <span class="va">I</span>; <span class="cn">T</span>; <span class="cn">F</span>; <span class="va">pi</span>; <span class="va">mean</span>; <span class="va">var</span>; <span class="va">sd</span>; <span class="va">length</span>; <span class="va">diff</span>; <span class="va">rep</span>;</code></pre></div>
<p>Certains mots seront tout simplement interdits d’utilisation.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="programmer.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span>; <span class="cn">FALSE</span>; <span class="cf">break</span>; <span class="cf">for</span>; <span class="cf">in</span>; <span class="cf">if</span>; <span class="cf">else</span>; <span class="cf">while</span>; <span class="cf">function</span>; <span class="cn">Inf</span>; <span class="cn">NA</span>; <span class="cn">NaN</span>; <span class="cn">NULL</span>;</span></code></pre></div>
</div>
<div id="les-opérateurs-arithmétiques" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Les opérateurs arithmétiques<a class="anchor" aria-label="anchor" href="#les-op%C3%A9rateurs-arithm%C3%A9tiques"><i class="fas fa-link"></i></a>
</h2>
<p>La première utilisation qu’un nouvel usager fait de <strong>R</strong> est généralement d’y recourir comme calculatrice. On pourra utiliser les opérateurs arithmétiques de base comme l’addition <code>+</code>, la soustraction <code>-</code>, la multiplication <code>*</code>, la division <code>/</code> , et l’exposant <code>^</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span> <span class="op">+</span> <span class="fl">2</span>
<span class="co">#&gt; [1] 4</span>
<span class="fl">1</span> <span class="op">/</span> <span class="fl">3</span>
<span class="co">#&gt; [1] 0.333</span>
<span class="fl">2</span> <span class="op">*</span> <span class="fl">3</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">^</span> <span class="fl">2</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>Évidemment, ces opérateurs fonctionnent sur des variables numériques.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">a</span> <span class="op">/</span> <span class="va">b</span>
<span class="co">#&gt; [1] 0.1</span></code></pre></div>
<p>Ici, les deux premières lignes assignent des valeurs à <code>a</code> et <code>b</code>, puis imprime la division. L’absence de marqueur <code>&lt;-</code> ou <code>=</code> indique à <strong>R</strong> d’imprimer la réponse dans la console. Si le résultat <code>a/b</code> devait être assigné à une variable, alors aucun résultat ne serait affiché, bien que la variable contienne la réponse.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resultat</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">/</span> <span class="va">b</span></code></pre></div>
<p>Il n’y a aucune réponse d’affichée. Maintenant, si <code>resultat</code> est demandé, R affiche le résultat.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resultat</span>
<span class="co">#&gt; [1] 0.1</span></code></pre></div>
<p>D’autres fonctions sont aussi très utiles. Par exemple, la racine carrée <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> (qui n’est rien d’autre que <code>^(1/2)</code>) et le logarithme naturel <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code>. Il suffit d’insérer une variable ou une valeur à l’intérieur d’une de ces fonctions pour en obtenir le résultat.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span>
<span class="fl">4</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.39</span></code></pre></div>
</div>
<div id="les-commentaires" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Les commentaires<a class="anchor" aria-label="anchor" href="#les-commentaires"><i class="fas fa-link"></i></a>
</h2>
<p>Les scripts <strong>R</strong> peuvent contenir des commentaires. Ceux-ci sont désignés par le désormais célèbre <code>#</code>. Une ligne de script commençant par ce symbole sera ignorée par la console. Ces commentaires permettent aussi bien de préciser différentes étapes d’un script, que d’expliquer la nomenclature des variables ou encore d’expliquer une fonction, ses entrées, ses sorties. Les commentaires sont extrêmement utiles, car les annotations peuvent souvent sauver énormément de temps et d’effort lors d’utilisations ultérieures.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># La variable resultat est le quotient des variables a et b</span>
<span class="va">resultat</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">/</span> <span class="va">b</span>
<span class="va">resultat</span>
<span class="co">#&gt; [1] 0.1</span></code></pre></div>
<p>Dans cet exemple, la première ligne est ignorée. Autrement, la console <strong>R</strong> produirait une erreur, car cette ligne est pour le logiciel pur charabia!</p>
</div>
<div id="définir-une-chaîne-de-caractère" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Définir une chaîne de caractère<a class="anchor" aria-label="anchor" href="#d%C3%A9finir-une-cha%C3%AEne-de-caract%C3%A8re"><i class="fas fa-link"></i></a>
</h2>
<p>La plupart du temps, les variables utilisées seront numériques, c’est-à-dire qu’elles contiendront des nombres. Parfois en analyses de données, il pourra s’agir de chaîne de caractères (<em>string</em>), autrement dit, de mots. Les chaînes de caractères sont définis par le double apostrophe <code>"..."</code>, où on remplace les trois points par les mots désirés.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">titre</span> <span class="op">&lt;-</span> <span class="st">"Bonjour tout le monde!"</span>
<span class="va">titre</span>
<span class="co">#&gt; [1] "Bonjour tout le monde!"</span></code></pre></div>
</div>
<div id="concaténer" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Concaténer<a class="anchor" aria-label="anchor" href="#concat%C3%A9ner"><i class="fas fa-link"></i></a>
</h2>
<p>Par défaut, <strong>R</strong> ne peut qu’assigner qu’une valeur à une variable. Pour grouper des éléments ensembles, c’est-à-dire, pour créer des jeux de données, des vecteurs, des matrices, des listes, il faudra utiliser des fonction de concaténation, dont voici une liste des plus utiles avec quelques exemples, de la plus stricte (vecteur) à la plus flexible (liste).</p>
<div id="création-dun-vecteur" class="section level3" number="2.5.1">
<h3>
<span class="header-section-number">2.5.1</span> Création d’un vecteur<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-dun-vecteur"><i class="fas fa-link"></i></a>
</h3>
<p>Une fonction fort utile permettra de joindre des valeurs dans une seule variable. Précédemment, l’assignation d’une valeur a des variables se limitait qu’à une chaîne de caractères ou une valeur numérique. La fonction <strong>c</strong>oncaténer <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> (ou <strong>c</strong>ombiner, <strong>c</strong>réer) met plusieurs éléments (deux ou plus) dans une seule variable. Chaque élément est délimité par une virgule <code>,</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">valeurs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">valeurs</span>
<span class="co">#&gt; [1] -5  5</span></code></pre></div>
<p>Elle fonctionne également avec les chaînes de caractères.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">texte</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bonjour"</span>, <span class="st">"tout"</span>, <span class="st">"le"</span>, <span class="st">"monde"</span><span class="op">)</span>
<span class="va">texte</span>
<span class="co">#&gt; [1] "Bonjour" "tout"    "le"      "monde"</span></code></pre></div>
<p>Et les deux.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">phrase</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"Chat"</span>, <span class="fl">2</span>, <span class="st">"Souris"</span><span class="op">)</span>
<span class="va">phrase</span>
<span class="co">#&gt; [1] "1"      "Chat"   "2"      "Souris"</span></code></pre></div>
<p>La fonction <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> est strict sur les arguments, car elles leur accord le même attribut. Par exemple, <code>phrase</code> ne contient que des chaînes de caractères. Les valeurs <code>1</code> et <code>2</code> ont perdu leur classe de numérique (elles ne sont plus utilisables comme nombre - pour l’instant).</p>
<p>Il faudra également faire attention à ce qui est passé comme argument à la fonction <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>, car elle vectorise les arguments. Autrement dit, elle crée des vecteurs (une ligne en quelque sorte) avec les entrées fournies, peu importe leur structure de départ. Par exemple, un jeu de données passant par <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> devient une seule ligne de valeurs. Les fonctions <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> et <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> permettront de joindre des colonnes et des lignes, respectivement.</p>
</div>
<div id="création-dune-matrice" class="section level3" number="2.5.2">
<h3>
<span class="header-section-number">2.5.2</span> Création d’une matrice<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-dune-matrice"><i class="fas fa-link"></i></a>
</h3>
<p>La fonction <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> sera utile pour créer des matrices, commes des matrices de covariances, par exemple. La fonction utilise trois arguments, une matrice de nombre à entrer dans la matrice, un nombre de colonnes et un nombre de lignes. La fonction utilise le recyclage, ce qui pourra être utile à certaines occasions.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Une matrice de 0</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>, ncol <span class="op">=</span> <span class="fl">3</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    0    0    0</span>
<span class="co">#&gt; [2,]    0    0    0</span>
<span class="co">#&gt; [3,]    0    0    0</span>

<span class="co"># Une matrice contenant les nombres 1:3 pour une matrice 3x3</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">3</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    1    1</span>
<span class="co">#&gt; [2,]    2    2    2</span>
<span class="co">#&gt; [3,]    3    3    3</span>

<span class="co"># Si la séquence préférée est de gauche à droite plutôt</span>
<span class="co"># que de bas en haut</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">3</span>, nrow <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    2    3</span>
<span class="co">#&gt; [2,]    1    2    3</span>
<span class="co">#&gt; [3,]    1    2    3</span>

<span class="co"># Une matrice avec un nombre d'entrées égale au nombre de cellules</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span>, ncol <span class="op">=</span> <span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4]</span>
<span class="co">#&gt; [1,]    1    5    9   13</span>
<span class="co">#&gt; [2,]    2    6   10   14</span>
<span class="co">#&gt; [3,]    3    7   11   15</span>
<span class="co">#&gt; [4,]    4    8   12   16</span></code></pre></div>
<p>Les matrices sont une formes de jeu données dans lequel tous les éléments partagent le même attribut (tous numériques, caractères, logiques, etc.).</p>
</div>
<div id="création-dun-jeu-de-données" class="section level3" number="2.5.3">
<h3>
<span class="header-section-number">2.5.3</span> Création d’un jeu de données<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-dun-jeu-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h3>
<p>Un jeu de données (<code>data.frame</code>) est un peu comme l’extension de la matrice. La différence étant que les éléments entre les colonnes peuvent partager des attributs différents. Ainsi chaque ligne représente une unité (un participant, un objet) et chaque colonne représente une dimension (informations ou variable) différente de cette objectif. La fonction <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> permet de créer de tel objet. La fonction prend comme un argument une série de vecteurs. Si un nom</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Quelques variables</span>
<span class="va">var1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Éloi"</span>, <span class="st">"Laurence"</span><span class="op">)</span>
<span class="va">var2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">var3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Entrer de trois vecteurs non identifiés</span>
<span class="va">jd1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">var1</span>, <span class="va">var2</span>, <span class="va">var3</span><span class="op">)</span>

<span class="co"># Entrer de trois vecteurs identifiés</span>
<span class="va">jd2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>nom <span class="op">=</span> <span class="va">var1</span>, age <span class="op">=</span> <span class="va">var2</span>, enfant <span class="op">=</span> <span class="va">var3</span><span class="op">)</span>

<span class="co"># Comparer</span>
<span class="va">jd1</span> ; <span class="va">jd2</span>
<span class="co">#&gt;       var1 var2 var3</span>
<span class="co">#&gt; 1     Éloi    6 TRUE</span>
<span class="co">#&gt; 2 Laurence    3 TRUE</span>
<span class="co">#&gt;        nom age enfant</span>
<span class="co">#&gt; 1     Éloi   6   TRUE</span>
<span class="co">#&gt; 2 Laurence   3   TRUE</span></code></pre></div>
<p>En utilisant <code>nom.de.variable = vecteur</code> à l’intérieur de <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, les noms des colonnes deviennent <code>nom.de.variable</code>. Cela permettra une plus grande flexibilité lorsqu’il faudra [gèrer] et <a href="manipuler.html#manipuler">manipuler</a> les données.</p>
<p>Comme les matrices, les jeux de données ont aussi une restriction. Alors que les jeux de données libérait l’utilisateur de la contrainte d’avoir des objets de même attributs, les jeux de données doivent être créés avec des vecteurs de même longueur. Autrement dit, chaque colonne doit avoir exactement le même nombre de lignes. Parfois, <strong>R</strong> procédera par recyclage pour combler les éléments. Il faudra donc porter une attention particulière, pour vérifier si c’est l’intention ou non.</p>
</div>
<div id="création-dune-liste" class="section level3" number="2.5.4">
<h3>
<span class="header-section-number">2.5.4</span> Création d’une liste<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-dune-liste"><i class="fas fa-link"></i></a>
</h3>
<p>Une troisième option pour stocker de informations dans une seule variable est d’avoir recourt au liste. La liste libère à la fois l’utilisateur des objets de mêmes attributs et de même longueur. Ainsi, une liste, peut contenir des vecteurs, des matrices, des jeux de données et même d’autres listes.</p>
<p>Pour créer une liste, il faut utiliser la fonction <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>. Comme <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, des noms d’éléments peuvent être donner pour chaque liste pour faciliter la manipulation ultérieure de la liste.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Quelques variables</span>
<span class="va">var1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chat"</span>,<span class="st">"chien"</span><span class="op">)</span>
<span class="va">var2</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>

<span class="co"># Entrer de deux vecteurs non identifiés</span>
<span class="va">jd1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">var1</span>, <span class="va">var2</span><span class="op">)</span>

<span class="co"># Entrer de deux vecteurs identifiés</span>
<span class="va">jd2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>animal <span class="op">=</span> <span class="va">var1</span>, nombre <span class="op">=</span> <span class="va">var2</span><span class="op">)</span>

<span class="co"># Comparer</span>
<span class="va">jd1</span> ; <span class="va">jd2</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "chat"  "chien"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="co">#&gt; $animal</span>
<span class="co">#&gt; [1] "chat"  "chien"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $nombre</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>L’utilisation de listes est une caractéristique prédominante avec <strong>R</strong>. Par exemple, <strong>R</strong> ne peut sortir qu’une variable par fonction. Si la fonction doit retourner plusieurs éléments, ceux-ci devront se retrouver dans une liste. Ce qui sera plus nébuleux pour le lecteur, c’est que l’optimisation de <strong>R</strong> se fait par les listes. Cela sera noté aux moments appropriés.</p>
</div>
</div>
<div id="référer-à-des-sous-éléments" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Référer à des sous-éléments<a class="anchor" aria-label="anchor" href="#r%C3%A9f%C3%A9rer-%C3%A0-des-sous-%C3%A9l%C3%A9ments"><i class="fas fa-link"></i></a>
</h2>
<p>Avec des variables contenant plusieurs valeurs, il peut être utile de référer à une seule valeur ou un ensemble de valeurs de la variable. Les crochets <code>[]</code> à la suite du nom d’une variable permettront d’en extraire les valeurs désirées sans tout sortir l’ensemble.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Un exemple de vecteur</span>
<span class="va">phrase</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"Chat"</span>, <span class="fl">2</span>, <span class="st">"Souris"</span><span class="op">)</span>

<span class="co"># Extraire le premier élément de la variable phrase</span>
<span class="va">phrase</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; [1] "1"</span>

<span class="co"># Extraire les éléments 1, 2 et 3</span>
<span class="va">phrase</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt; [1] "1"    "Chat" "2"</span>

<span class="co"># Extraire les éléments 2 et 4</span>
<span class="va">phrase</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] "Chat"   "Souris"</span>

<span class="co"># Ne pas extraire l'élément 1</span>
<span class="va">phrase</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; [1] "Chat"   "2"      "Souris"</span>

<span class="co"># Ne pas extraire les éléments 1 et 3</span>
<span class="va">phrase</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] "Chat"   "Souris"</span></code></pre></div>
<p>Dans le premier exemple, seul un élément est demandé. Dans le deuxième exemple, la commande <code>1:3</code> produit la série de <span class="math inline">\(1,2,3\)</span> et en extrait ces nombres. Dans le dernier exemple, la fonction <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> est astucieusement utilisée pour extraire les éléments <span class="math inline">\(2\)</span> et <span class="math inline">\(4\)</span>. Le quatrième exemple montre comment retirer un élément en utilisant des valeurs négatives et le cinquième exemple montre comment retirer des éléments.</p>
<p>La section <a href="manipuler.html#manipulation-de-donn%C3%A9es">Manipulation de données</a> montrera davantage comment référer à des sous-éléments de jeux de données, de matrices et de listes.</p>
</div>
<div id="les-fonctions" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Les fonctions<a class="anchor" aria-label="anchor" href="#les-fonctions"><i class="fas fa-link"></i></a>
</h2>
<p><strong>R</strong> offre une multitude de fonctions et permet également à l’usager de bâtir ses propres fonctions (fonctions maison). Elles permettent d’automatiser des calculs (généralement, mais peut faire beaucoup plus!). Tout au long de cet ouvrage, les fonctions seront identifiées par l’ajout de parenthèse à leur fin, comme ceci : <code>function()</code>. Ces fonctions ont généralement la forme suivante.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nom</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">argument1</span>, <span class="va">argument2</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Calcul à réaliser</span>
<span class="op">}</span></code></pre></div>
<p>Ici, <code>nom</code> est le nom auquel la fonction sera référée par la suite, <code>function</code> est la fonction <strong>R</strong> qui permet de créer la fonction maison, <code>argument1</code> et <code>argument2</code> sont les arguments (les entrées) fournis à la fonction et à partir desquels les calculs seront réalisés, et les accolades <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> définissent le début et la fin de la fonction dans le script.</p>
<p>Il sera bien utile de créer ses propres fonctions bien que <strong>R</strong> possède une pléthore de fonctions et de packages en contenant encore plus. Toutes les fonctions, qu’elles soient maisons ou déjà intégrées, respectent le même fonctionnement, ce pour quoi il est utile de s’y pencher. Les fonctions maison permettront d’automatiser certains calculs qui seront propres à résoudre les problèmes de l’usager et d’être réutilisé ultérieurement.</p>
<p>Voici un exemple trivial de fonction. Ici la somme de deux nombres.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">addition</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">a</span> <span class="op">+</span> <span class="va">b</span>
<span class="op">}</span>
<span class="fu">addition</span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span></code></pre></div>
<p>Par défaut, une fonction retourne la dernière ligne calculée si elle n’est pas assignée à une variable. Si le résultat d’une fonction est assigné, la fonction ne retourne pas le résultat dans la console, mais assigne bel et bien la variable.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">addition2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Le résultat est assigné à une variable</span>
  <span class="va">somme</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span>
<span class="op">}</span>

<span class="co"># Ne produit pas de sortie</span>
<span class="fu">addition2</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">241</span><span class="op">)</span>

<span class="co"># Comme il y a assignation, total n'est pas affichée</span>
<span class="va">total</span> <span class="op">&lt;-</span> <span class="fu">addition2</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">241</span><span class="op">)</span>

<span class="co"># En roulant total, la sortie affiche bien la sortie de addition2()</span>
<span class="va">total</span>
<span class="co">#&gt; [1] 341</span></code></pre></div>
<p>Afin d’éviter ces problèmes ou s’il fallait retourner plusieurs arguments (ce qui sera souvent le cas!), il faudrait utiliser la fonction <code><a href="https://rdrr.io/r/base/function.html">return()</a></code> à la fin de la fonction.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">addition3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Le résultat est assigné à une variable</span>
  <span class="va">somme</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">somme</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># Les deux fonctions produisent une sortie</span>
<span class="fu">addition3</span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>
<span class="co">#&gt; [1] 10</span>
<span class="va">total</span> <span class="op">&lt;-</span> <span class="fu">addition3</span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>
<span class="va">total</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
</div>
<div id="définir-une-boucle" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> Définir une boucle<a class="anchor" aria-label="anchor" href="#d%C3%A9finir-une-boucle"><i class="fas fa-link"></i></a>
</h2>
<p>Pour automatiser certains calculer, il peut être utile de recourir à une boucle (<em>loop</em>) qui pourra répéter plusieurs fois une même opération. Voici l’anatomie d’une boucle.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">vec</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># Calcul désiré</span>
<span class="op">}</span></code></pre></div>
<p>L’élément <code>for</code> est la fonction déclarant la boucle. Les renseignements sur les itérations se retrouvent entre les parenthèses. La variable <code>i</code> prendra successivement tous les éléments dans (<code>in</code>) le vecteur à gauche (<code>vec</code>). Tout le contenu de la boucle (ce qui sera répété) se retrouve entre les accolades <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>, c’est ce qui sera produit à chaque boucle. Dans cet exemple, la boucle se répète <span class="math inline">\(k\)</span> fois, soit de <span class="math inline">\(1,2,3,...,k\)</span>, à cause de l’expression <code>1:k</code> qui correspond à générer un vecteur de <span class="math inline">\(1\)</span> à <span class="math inline">\(k\)</span>. La variable <code>i</code> quant à elle change de valeur à chaque itération. Elle prendra tour à tour ces valeurs chaque itération <span class="math inline">\(1,2,3,...,k\)</span>. La variable pourra judicieusement être utilisée dans la boucle afin de profiter ce comportement, notamment pour le classement des résultats. Lorsque la boucle atteint <span class="math inline">\(k\)</span>, elle se termine.</p>
<p>Il est aussi possible de rédiger la boucle en utilisant uniquement <code>k</code>. Alors, <code>i</code> prendra toutes les valeurs contenues dans <code>k</code>. La longueur du vecteur <code>k</code> définit le nombre d’itérations.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">k</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># Calcul désiré</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="les-clauses-conditionnelles" class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> Les clauses conditionnelles<a class="anchor" aria-label="anchor" href="#les-clauses-conditionnelles"><i class="fas fa-link"></i></a>
</h2>
<p>Pour réaliser des opérations sous certaines conditions ou opérer des décisions automatiques, il est possible d’utiliser des arguments conditionnels avec des opérateurs logiques. Par exemple, sélectionner des unités ayant certaines caractéristiques, comme les participants ayant 18 ans et moins, les personnes ayant un trouble du spectre de l’autiste, ou encore par sexe. Il est aussi possible d’utiliser les opérateurs pour définir à quelle condition telle ou telle autre fonction doit être utilisée. Il faudra alors utiliser les arguments logiques.</p>
<div class="inline-table"><table class=" lightable-classic table" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:unnamed-chunk-25">Table 2.1: </span>Symboles logiques et leur signification
</caption>
<thead><tr>
<th style="text-align:center;">
Symbole
</th>
<th style="text-align:center;">
Signification
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
==
</td>
<td style="text-align:center;">
est égale à
</td>
</tr>
<tr>
<td style="text-align:center;">
!=
</td>
<td style="text-align:center;">
n’est pas égale à
</td>
</tr>
<tr>
<td style="text-align:center;">
&lt;
</td>
<td style="text-align:center;">
plus petit que
</td>
</tr>
<tr>
<td style="text-align:center;">
&gt;
</td>
<td style="text-align:center;">
plus grand que
</td>
</tr>
<tr>
<td style="text-align:center;">
&lt;=
</td>
<td style="text-align:center;">
plus petit ou égale
</td>
</tr>
<tr>
<td style="text-align:center;">
&gt;=
</td>
<td style="text-align:center;">
plus grand ou égale
</td>
</tr>
<tr>
<td style="text-align:center;">
&amp;&amp;
</td>
<td style="text-align:center;">
et
</td>
</tr>
<tr>
<td style="text-align:center;">
||
</td>
<td style="text-align:center;">
ou
</td>
</tr>
</tbody>
</table></div>
<p><strong>R</strong> teste si les valeurs de la variable correspondent à l’opérateur logique en les déclarant comme vraies (<code>TRUE</code>) ou fausses (<code>FALSE</code>).</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">valeurs</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>
<span class="co"># Toutes les valeurs plus grandes que 3.</span>
<span class="va">valeurs</span> <span class="op">&gt;</span> <span class="fl">3</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</span></code></pre></div>
<p>Cela peut être utilisé pour référer à des sous-éléments comme abordés précédemment.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Toutes les valeurs plus grandes que 3.</span>
<span class="va">valeurs</span><span class="op">[</span><span class="va">valeurs</span> <span class="op">&gt;</span> <span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt; [1] 4 5 6</span></code></pre></div>
<p>Ici, toutes les valeurs vraies de l’opérateur logique sont rapportées.</p>
<p>Les opérateurs logiques servent également à définir des opérations conditionnelles. La fonction <code>if</code> sera alors utilisée. Il y a trois principales formes : <code>if</code> (Si ceci, alors cela), le <code>if  else</code> (Si ceci, alors cela, sinon autre chose) et les échelles <code>if else if else</code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># Opération désirée</span>
<span class="op">}</span></code></pre></div>
<p>L’anatomie d’une fonction <code>if</code> comporte d’abord la fonction <code>if</code>. L’argument entre parenthèses à sa plus simple expression doit être vérifié par vrai (<code>TRUE</code>) ou faux (<code>FALSE</code>). Si l’argument est vrai, alors le calcul désiré est réalisé, autrement le logiciel ignore le calcul de la fonction entre accolades <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">2</span>
<span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est négative"</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "la valeur est négative"</span></code></pre></div>
<p>Il est possible d’élaborer cette logique avec la fonction <code>else</code> qui permet de spécifier une suite à la fonction si l’argument est faux (<code>FALSE</code>).</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est négative"</span><span class="op">)</span>
<span class="op">}</span><span class="kw">else</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est positive"</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "la valeur est positive"</span></code></pre></div>
<p>Enfin, il est possible d’élaborer un arbre de décision avec toute une échelle de conditionnels.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est négative"</span><span class="op">)</span>
<span class="op">}</span><span class="kw">else</span> <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est positive"</span><span class="op">)</span>
<span class="op">}</span><span class="kw">else</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"la valeur est égale à 0"</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "la valeur est égale à 0"</span></code></pre></div>
<p>L’arbre de décision peut devenir aussi compliqué que l’utilisateur le désire : chacune des branches peut contenir autant de ramifications que nécessaire.</p>
<p>Il peut arriver pour certaines fonctions de devoir spécifier si certains paramètres sont vrais (<code>TRUE</code>) ou faux (<code>FALSE</code>) ou de définir des variables ayant ces valeurs. Lorsque c’est le cas, il est toujours recommandé d’écrire les valeurs logiques tout au long comme <code>TRUE</code> et <code>FALSE</code>, même si <strong>R</strong> reconnaît <code>T</code> et <code>F</code>, car ces dernières peuvent être réassignées, contrairement aux premières.</p>
</div>
<div id="les-packages" class="section level2" number="2.10">
<h2>
<span class="header-section-number">2.10</span> Les packages<a class="anchor" aria-label="anchor" href="#les-packages"><i class="fas fa-link"></i></a>
</h2>
<p>L’utilisation de packages (souvent nommées bibliothèques, modules, paquets ou paquetage en français - ici, l’usage de <em>package</em> sera maintenu) est l’attrait principal de <strong>R</strong>. Pour éviter l’anglicisme, Antidote suggère <em>forfait</em>, <em>achat groupé</em> ou <em>progiciel</em> (ce dernier étant certainement le terme approprié).</p>
<p>Les packages sont de regroupement de fonctions. C’est certainement l’aspect qui a le plus contribué au succès et à sa dissémination de <strong>R</strong>. Il s’agit de la mise en commun d’un effort collaboratif afin de créer des fonctions et de les partager librement entre les usagers. Le téléchargement de base de <strong>R</strong> offre déjà quelques packages rudimentaires (comme <code>base</code> qui offre des fonctions comme <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> ou <code>stat</code> qui offre des fonctions comme <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> et <code><a href="https://rdrr.io/r/stats/cor.html">var()</a></code>), mais qui suffisent rarement lorsque des analyses plus avancées ou plus spécialisées sont nécessaires.</p>
<p>L’une des forces des packages est qu’ils sont fournis généralement avec un bon manuel d’utilisation. Plusieurs contributeurs leur sont associés (avec un responsable). Ils sont maintenus régulièrement. Le soutien des responsables est parfois aisé à obtenir et les auteurs de ces packages sont motivés à maintenir les packages opérationnels et aux bénéfices de tous. La faiblesse des packages est qu’il s’agit malheureusement de <em>généralement</em>. Il arrive que certains packages produisent des erreurs de calcul, soient laissé en désuétude par leurs auteurs, que le package ait migré sous une autre forme, que de meilleures options soient disponibles sans aucune notice à cet effet. Cela va sans dire, ce problème concerne les logiciels traditionnels également. Il s’agit toutefois d’un enjeu moindre, car les packages sont souvent recommandés par des collègues, des autorités dans leur domaine respectif ou des ouvrages de référence, ce qui aura comme tendance de promouvoir les meilleurs packages. Pas toujours. Il faut rester critique et ne pas de laisser tromper par une boîte noire.</p>
<p>Une dernière faiblesse : les packages agissent parfois en boîte noire, c’est-à-dire qu’ils court-circuitent la réflexion de l’utilisateur qui leur fait confiance. Il peut être parfois difficile de savoir ce que les fonctions produisent exactement. Au contraire des logiciels traditionnels, ces boîtes noires peuvent dans la plupart des cas être accessibles directement, elles sont liés en plus à des articles scientifiques ou de la documentation qui permet dans comprendre les tenants et aboutissants.</p>
<div id="installer-des-packages" class="section level3" number="2.10.1">
<h3>
<span class="header-section-number">2.10.1</span> Installer des packages<a class="anchor" aria-label="anchor" href="#installer-des-packages"><i class="fas fa-link"></i></a>
</h3>
<p>Pour installer un package, il faut utiliser la fonction</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"..."</span><span class="op">)</span></code></pre></div>
<p>où les <code>"..."</code> doivent être remplacé par le nom du package. Il est important de bien inscrire le nom du package entre guillemet anglophone. Il est aussi possible de sélectionner</p>
<blockquote>
<p>Tools;
Install Packages…</p>
</blockquote>
<p>puis de nommer le package sous l’onglet package. Avec <strong>R</strong> il faudra auparavant choisir un miroir (sélectionner un pays), ce qui ne sera pas nécessaire avec <strong>R</strong>Studio. Une fois téléchargé, il ne sera plus nécessaire de refaire cette étape à nouveau, à l’exception de potentielles et ultérieures mises à jour lorsqu’elles devront être réalisées.</p>
</div>
<div id="appeler-un-package" class="section level3" number="2.10.2">
<h3>
<span class="header-section-number">2.10.2</span> Appeler un package<a class="anchor" aria-label="anchor" href="#appeler-un-package"><i class="fas fa-link"></i></a>
</h3>
<p>Ce qui n’est pas des plus intuitif avec <strong>R</strong>, c’est qu’une fois le package téléchargé, il n’est pas directement utilisable. Il faut d’abord l’appeler avec la fonction <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st">"..."</span><span class="op">)</span></code></pre></div>
<p>Cette étape doit être faite à chaque ouverture de <strong>R</strong>. Cela permet de ne pas mettre en mémoire trop de package simultanément. Il sera ainsi important d’indiquer tous les packages utilisés en début de script sans quoi des erreurs comme l’absence de fonctions seront produites.</p>
<p>Une technique à laquelle l’utilisateur peut avoir recourt lorsqu’il souhaite n’utiliser qu’une fonction spécifique d’un package est l’utilisation des <code>::</code> débutant par le nom du package suivi par le nom de la fonction, comme <code><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">MASS::mvrnorm()</a></code>. La fonction s’utilise de façon usuelle. En utilisant <code>::</code>, il n’est pas nécessaire d’appeler le package avec la fonction <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>. Il faut toute fois que le package soit bel et bien installer.</p>
</div>
</div>
<div id="obtenir-de-laide" class="section level2" number="2.11">
<h2>
<span class="header-section-number">2.11</span> Obtenir de l’aide<a class="anchor" aria-label="anchor" href="#obtenir-de-laide"><i class="fas fa-link"></i></a>
</h2>
<p>En utilisant <code>help(nom)</code> ou <code>?nom</code>, où il faut remplacer <code>nom</code> par le nom d’une fonction ou d’un package, <strong>R</strong> offre de la documentation. Les fonctions d’aide retournent une page de documentation contenant généralement de l’information sur les entrées et les sorties des fonctions. Certaines sont mieux détaillées que d’autres, tout dépendant de leurs créateurs et des personnes qui maintiennent ces fonctions.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Obtenir de l'aide pour la fonction help()</span>
<span class="op">?</span><span class="va">help</span></code></pre></div>
<p>Il existe également la fonction <code>??nom</code> qui produit une liste de toutes fonctions <strong>R</strong> ayant partiellement l’inscription introduite à la place de <code>nom</code>. Aussi, <code>example(nom)</code> produit un exemple d’une fonction.</p>
</div>
<div id="en-cas-de-pépins" class="section level2" number="2.12">
<h2>
<span class="header-section-number">2.12</span> En cas de pépins<a class="anchor" aria-label="anchor" href="#en-cas-de-p%C3%A9pins"><i class="fas fa-link"></i></a>
</h2>
<p>Il arrive parfois que le code utilisé ne fonctionne pas, que des erreurs se produisent ou que des fonctions fort utiles demeurent inconnues. Même après plusieurs années d’utilisation, les utilisateurs font encore quotidiennement des erreurs (au moins une!). Un excellent outil est d’utiliser un moteur de recherche dans un fureteur de prédilection, de poser une question à l’aide de quelques mots clés bien choisis, préférablement en anglais, et en y inscrivant “with R” ou “in R” ou “R”. La plupart du temps, les programmeurs de packages auront une solution sur leur site ou leurs instructions de packages. Il y a aussi des plateformes publiques et en ligne, comme <a href="https://stackoverflow.com/">StackOverflow</a> qui collectent questions et réponses sur le codage. D’autres utilisateurs peuvent avoir posé la même question et des auteurs de programmes R et d’autres usagers y auront répondu aux bénéfices de tous. Dans le cas d’une solution introuvable, ces mêmes plateformes permettent de poser de nouvelles questions. Il faudra toutefois attendre qu’un usager plus expérimenté prenne le temps d’y répondre.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="commencer.html"><span class="header-section-number">1</span> Commencer</a></div>
<div class="next"><a href="calculer.html"><span class="header-section-number">3</span> Calculer</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#programmer"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="nav-link" href="#les-variables"><span class="header-section-number">2.1</span> Les variables</a></li>
<li><a class="nav-link" href="#les-op%C3%A9rateurs-arithm%C3%A9tiques"><span class="header-section-number">2.2</span> Les opérateurs arithmétiques</a></li>
<li><a class="nav-link" href="#les-commentaires"><span class="header-section-number">2.3</span> Les commentaires</a></li>
<li><a class="nav-link" href="#d%C3%A9finir-une-cha%C3%AEne-de-caract%C3%A8re"><span class="header-section-number">2.4</span> Définir une chaîne de caractère</a></li>
<li>
<a class="nav-link" href="#concat%C3%A9ner"><span class="header-section-number">2.5</span> Concaténer</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#cr%C3%A9ation-dun-vecteur"><span class="header-section-number">2.5.1</span> Création d’un vecteur</a></li>
<li><a class="nav-link" href="#cr%C3%A9ation-dune-matrice"><span class="header-section-number">2.5.2</span> Création d’une matrice</a></li>
<li><a class="nav-link" href="#cr%C3%A9ation-dun-jeu-de-donn%C3%A9es"><span class="header-section-number">2.5.3</span> Création d’un jeu de données</a></li>
<li><a class="nav-link" href="#cr%C3%A9ation-dune-liste"><span class="header-section-number">2.5.4</span> Création d’une liste</a></li>
</ul>
</li>
<li><a class="nav-link" href="#r%C3%A9f%C3%A9rer-%C3%A0-des-sous-%C3%A9l%C3%A9ments"><span class="header-section-number">2.6</span> Référer à des sous-éléments</a></li>
<li><a class="nav-link" href="#les-fonctions"><span class="header-section-number">2.7</span> Les fonctions</a></li>
<li><a class="nav-link" href="#d%C3%A9finir-une-boucle"><span class="header-section-number">2.8</span> Définir une boucle</a></li>
<li><a class="nav-link" href="#les-clauses-conditionnelles"><span class="header-section-number">2.9</span> Les clauses conditionnelles</a></li>
<li>
<a class="nav-link" href="#les-packages"><span class="header-section-number">2.10</span> Les packages</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#installer-des-packages"><span class="header-section-number">2.10.1</span> Installer des packages</a></li>
<li><a class="nav-link" href="#appeler-un-package"><span class="header-section-number">2.10.2</span> Appeler un package</a></li>
</ul>
</li>
<li><a class="nav-link" href="#obtenir-de-laide"><span class="header-section-number">2.11</span> Obtenir de l’aide</a></li>
<li><a class="nav-link" href="#en-cas-de-p%C3%A9pins"><span class="header-section-number">2.12</span> En cas de pépins</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/02-Programmer.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/02-Programmer.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes Quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2022-05-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
