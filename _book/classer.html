<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 22 Classer | Méthodes quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="En plus d’essayer de regrouper des variables ensemble, il aussi possible d’essayer de regrouper les participants en groupes. Il s’agit de l’analyse de classes latentes (LCA) et l’analyse de...">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content=" 22 Classer | Méthodes quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:url" content="mqr.teluq.ca/classer.html">
<meta property="og:description" content="En plus d’essayer de regrouper des variables ensemble, il aussi possible d’essayer de regrouper les participants en groupes. Il s’agit de l’analyse de classes latentes (LCA) et l’analyse de...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 22 Classer | Méthodes quantitatives avec R">
<meta name="twitter:description" content="En plus d’essayer de regrouper des variables ensemble, il aussi possible d’essayer de regrouper les participants en groupes. Il s’agit de l’analyse de classes latentes (LCA) et l’analyse de...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.0/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.11/grViz.js"></script><!-- 
    \(
    \newcommand{\EX}{\mathbb{E}}
    \)
    --><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Rudiments</li>
<li><a class="" href="commencer.html"><span class="header-section-number">1</span> Commencer</a></li>
<li><a class="" href="programmer.html"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="" href="calculer.html"><span class="header-section-number">3</span> Calculer</a></li>
<li><a class="" href="r%C3%A9diger.html"><span class="header-section-number">4</span> Rédiger</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Jeux de données</li>
<li><a class="" href="entrer.html"><span class="header-section-number">5</span> Entrer</a></li>
<li><a class="" href="importer.html"><span class="header-section-number">6</span> Importer</a></li>
<li><a class="" href="manipuler.html"><span class="header-section-number">7</span> Manipuler</a></li>
<li><a class="" href="visualiser.html"><span class="header-section-number">8</span> Visualiser</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li class="book-part">Statistiques</li>
<li><a class="" href="d%C3%A9crire.html"><span class="header-section-number">9</span> Décrire</a></li>
<li><a class="" href="inf%C3%A9rer.html"><span class="header-section-number">10</span> Inférer</a></li>
<li><a class="" href="analyser.html"><span class="header-section-number">11</span> Analyser</a></li>
<li><a class="" href="simuler.html"><span class="header-section-number">12</span> Simuler</a></li>
<li><a class="" href="exercice-analyse.html">Exercices</a></li>
<li class="book-part">Modèles linéaires</li>
<li><a class="" href="comparer.html"><span class="header-section-number">13</span> Comparer</a></li>
<li><a class="" href="pr%C3%A9dire.html"><span class="header-section-number">14</span> Prédire</a></li>
<li><a class="" href="cr%C3%A9er.html"><span class="header-section-number">15</span> Créer</a></li>
<li><a class="" href="m%C3%A9dier.html"><span class="header-section-number">16</span> Médier</a></li>
<li><a class="" href="mod%C3%A9rer.html"><span class="header-section-number">17</span> Modérer</a></li>
<li><a class="" href="exercice-lineaire.html">Exercices</a></li>
<li class="book-part">Analyses factorielles</li>
<li><a class="" href="d%C3%A9composer.html"><span class="header-section-number">18</span> Décomposer</a></li>
<li><a class="" href="explorer.html"><span class="header-section-number">19</span> Explorer</a></li>
<li><a class="" href="r%C3%A9duire.html"><span class="header-section-number">20</span> Réduire</a></li>
<li><a class="" href="exercice-factoriel.html">Exercices</a></li>
<li class="book-part">Équations structurelles</li>
<li><a class="" href="confirmer.html"><span class="header-section-number">21</span> Confirmer</a></li>
<li><a class="active" href="classer.html"><span class="header-section-number">22</span> Classer</a></li>
<li class="book-part">Annexes</li>
<li><a class="" href="solutions.html">Solutions</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="classer" class="section level1" number="22">
<h1>
<span class="header-section-number"> 22</span> Classer<a class="anchor" aria-label="anchor" href="#classer"><i class="fas fa-link"></i></a>
</h1>
<p>En plus d’essayer de <a href="d%C3%A9composer.html#d%C3%A9composer">regrouper des variables</a> ensemble, il aussi possible d’essayer de regrouper les participants en groupes. Il s’agit de <a href="classer.html#classes-latentes">l’analyse de classes latentes (LCA)</a> et <a href="classer.html#profils-latents">l’analyse de profils latents (LPA)</a>. La LCA et la LPA se distinguent par le type de variables qu’elles considèrent, soit les variables continues (LPA) ou catégorielles (LCA). Ces techniques sont utiles lorsque l’expérimentateur souhaite réduire l’échantillon en sous-groupe afin de mieux comprendre les participants. Elles peuvent notamment permettre de décrire les profils de compétences et de difficultés parmi les enfants d’âge préscolaire, en identifiant ceux qui peuvent avoir besoin d’interventions éducatives spécifiques ou encore de décrire des groupes de résilience à la violence conjugale et de mieux orienter les interventions auprès des personnes ayant été victimes d’agressions sexuelles.</p>
<p>Ces analyses issues des modèles de mixture (<em>mixture modelling</em>) sont similaires aux techniques de regroupement (<em>clustering</em>), mais qui s’en distinguent car elles reposent sur un modèle explicite et prennent en compte le fait que les groupes identifiés sont incertains. Le modèle sous-jacent présenté à la Figure <a href="classer.html#fig:cla1">22.1</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:cla1"></span>
<img src="image/classes1.png" alt="Modèle de classes latentes" width="50%" height="50%"><p class="caption">
Figure 22.1: Modèle de classes latentes
</p>
</div>
<p>La LCA et la LPA sont considérés comme plus robustes que les autres techniques, comme le <em>k-mean</em>, par exemple, par ce qu’elle repose sur un modèles théorique. Cela revient au détriment d’être plus intensif computationnellement, ce qui pourra soulever des problèmes à l’ocassion, surtout pour la LCA. Néanmoins, il demeure que les techniques de regroupement sont en quelque sorte un <em>bricolage</em>. Au final, c’est la solution qui fera le plus de sens sur le plan théorique qui sera retenu. Même si les statistiques suggéreront un certain nombre de classes, elles ne seront pas toujours en harmonie entre elles. C’est la simplicité et le pouvoir explicatif qui devra être l’ultime décideur.</p>
<div id="classes-latentes" class="section level2" number="22.1">
<h2>
<span class="header-section-number">22.1</span> Classes latentes<a class="anchor" aria-label="anchor" href="#classes-latentes"><i class="fas fa-link"></i></a>
</h2>
<p>L’analyse de classes latentes (LCA) permet de partager et de distinguer des sous-groupes non observables (latents) d’individus sur la base de leurs réponses à un ensemble d’indicateurs observables (manifestes) ordinales. Elle fait ainsi partie de la famille des <em>finite mixture modelling</em>. Il s’agit d’une analyse <strong>exploratoire</strong> de la même façon que les [analyses factorielles exploratoires]. Elle se distingue d’<a href="explorer.html#analyse-factorielle-exploratoire">analyse factorielle</a> qui tente plutôt de regrouper les indicateurs en facteurs (ou groupe), alors que la LCA tente plutôt de regrouper les participants en groupe.</p>
<div id="installations" class="section level3" number="22.1.1">
<h3>
<span class="header-section-number">22.1.1</span> Installations<a class="anchor" aria-label="anchor" href="#installations"><i class="fas fa-link"></i></a>
</h3>
<p>Il existe un package permettant de réaliser la LCA avec <strong>R</strong>, soit <code>poLCA</code>. Ce package bien qu’excellent pour réaliser la LCA demeure relativement incomplet et mérite quelques amélioration, ce pourquoi le package <code>poLCAExtra</code> est recommandé. Installer <code>poLCAExtra</code> installera du même coup le package <code>poLCA</code>.</p>
<div class="sourceCode" id="cb335"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Version en développement sur GitHub</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"quantmeth/poLCAExtra"</span><span class="op">)</span></span></code></pre></div>
<p>Une fois téléchargé, comme toujours, il faut appeler le package.</p>
<div class="sourceCode" id="cb336"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">poLCAExtra</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="déterminer-le-nombre-de-classes" class="section level3" number="22.1.2">
<h3>
<span class="header-section-number">22.1.2</span> Déterminer le nombre de classes<a class="anchor" aria-label="anchor" href="#d%C3%A9terminer-le-nombre-de-classes"><i class="fas fa-link"></i></a>
</h3>
<p>La première étape est de déterminer le nombre de classes. Pour ce faire, on importe le jeu de données, ici <code>ex1.poLCA</code>, un jeu de données de <code>poLCAEXtra</code>. On spécifie ensuite le modèle dans une formule.</p>
<div class="sourceCode" id="cb337"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jd</span> <span class="op">&lt;-</span> <span class="va">ex1.poLCA</span></span>
<span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">V1</span>, <span class="va">V2</span>, <span class="va">V3</span>, <span class="va">V4</span>, <span class="va">V5</span>, <span class="va">V6</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span></span></code></pre></div>
<p>Comme la Figure <a href="classer.html#fig:cla1">22.1</a> montre, les items sont les variables dépendantes et comme la <a href="comparer.html#manova-analyse-de-variance-multivari%C3%A9e">MANOVA</a>, il faut indiquer ces variables à gauche de la formule en les liant avec <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code>, comme <code>cbind(V1, V2, V3, V4, V5, V6)</code>. Le <code>~</code> délimite les variables dépendantes et dépendantes. L’utilisation de <code>1</code> indique la seule présence d’une constance, il serait possible d’ajouter des covariables pour contrôler des effets dans les variables dépendantes si l’utilisateur le jugeait nécessaire.</p>
<p>Ensuite, il faut rouler différentes valeurs de nombre de classes en incrément de 1.</p>
<div class="sourceCode" id="cb338"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LCA1</span> <span class="op">&lt;-</span> <span class="fu">poLCA</span><span class="op">(</span><span class="va">f1</span>, data <span class="op">=</span> <span class="va">jd</span>, nclass <span class="op">=</span> <span class="fl">1</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="va">LCA2</span> <span class="op">&lt;-</span> <span class="fu">poLCA</span><span class="op">(</span><span class="va">f1</span>, data <span class="op">=</span> <span class="va">jd</span>, nclass <span class="op">=</span> <span class="fl">2</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">LCA3</span> <span class="op">&lt;-</span> <span class="fu">poLCA</span><span class="op">(</span><span class="va">f1</span>, data <span class="op">=</span> <span class="va">jd</span>, nclass <span class="op">=</span> <span class="fl">3</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">LCA4</span> <span class="op">&lt;-</span> <span class="fu">poLCA</span><span class="op">(</span><span class="va">f1</span>, data <span class="op">=</span> <span class="va">jd</span>, nclass <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                maxiter <span class="op">=</span> <span class="fl">500</span>, nrep <span class="op">=</span> <span class="fl">4</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>La fonction <code>poLCA()</code> prend en argument le jeu de donnée et la formule et le nombre de classes à rechercher. L’argument <code>verbose = FALSE</code> évite de polluer la console avec toutes les sorties de la fonction. Autrement, la fonction sort automatiquement la sortie même s’il y a assignation. Plus il y a de classes, plus le modèles est difficile à évaluer, c’est pourquoi à <code>nclass = 4</code>, les options <code>maxiter</code> et <code>nrep</code> sont ajoutées. Ces arguments augmenteront le nombre maximal d’itération et le nombre de répétions de départ, ce qui permettra d’assurer une meilleur estimation du modèle et aussi une meilleure stabilité. Bien que cela dépend de plusieurs facteurs, ces options deviennent obligatoire vers quatre classes. Et plus le modèle devient compliqué, plus ces valeurs devront augmentées. Il n’y a pas de critères définitifs pour ces valeurs, outre que plus, c’est mieux, mais plus long à calculer.</p>
<p>Pour les comparer, le package <code>poLCAExtra</code> permet la comparaison automatique des modèles avec la fonction <code>anona()</code>.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="classer.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(LCA1, LCA2, LCA3, LCA4)</span>
<span id="cb339-2"><a href="classer.html#cb339-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   nclass df llike  AIC  BIC  Classes.size Entropy</span>
<span id="cb339-3"><a href="classer.html#cb339-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span>      <span class="dv">1</span> <span class="dv">57</span> <span class="sc">-</span><span class="dv">2688</span> <span class="dv">5388</span> <span class="dv">5416</span>           <span class="dv">800</span>    <span class="fl">3.36</span></span>
<span id="cb339-4"><a href="classer.html#cb339-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>      <span class="dv">2</span> <span class="dv">50</span> <span class="sc">-</span><span class="dv">2365</span> <span class="dv">4757</span> <span class="dv">4817</span>       <span class="dv">373</span><span class="sc">|</span><span class="dv">427</span>    <span class="fl">2.96</span></span>
<span id="cb339-5"><a href="classer.html#cb339-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>      <span class="dv">3</span> <span class="dv">43</span> <span class="sc">-</span><span class="dv">2196</span> <span class="dv">4432</span> <span class="dv">4525</span>   <span class="dv">101</span><span class="sc">|</span><span class="dv">345</span><span class="sc">|</span><span class="dv">354</span>    <span class="fl">2.75</span></span>
<span id="cb339-6"><a href="classer.html#cb339-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span>      <span class="dv">4</span> <span class="dv">36</span> <span class="sc">-</span><span class="dv">2190</span> <span class="dv">4435</span> <span class="dv">4561</span> <span class="dv">49</span><span class="sc">|</span><span class="dv">73</span><span class="sc">|</span><span class="dv">324</span><span class="sc">|</span><span class="dv">354</span>    <span class="fl">2.74</span></span>
<span id="cb339-7"><a href="classer.html#cb339-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   Relative.Entropy     LMR      p</span>
<span id="cb339-8"><a href="classer.html#cb339-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span>                                </span>
<span id="cb339-9"><a href="classer.html#cb339-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>            <span class="fl">0.803</span> <span class="fl">614.576</span> <span class="sc">&lt;</span> .<span class="dv">001</span></span>
<span id="cb339-10"><a href="classer.html#cb339-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>            <span class="fl">0.840</span> <span class="fl">322.830</span> <span class="sc">&lt;</span> .<span class="dv">001</span></span>
<span id="cb339-11"><a href="classer.html#cb339-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span>            <span class="fl">0.871</span>  <span class="fl">10.574</span>  <span class="fl">0.158</span></span></code></pre></div>
<p>Plus simplement, à l’aide de <code>poLCAExtra</code>, ces deux derniers chunks pourraient être remplacés par celui-ci qui tester toutes les classes de <code>1:4</code>.</p>
<div class="sourceCode" id="cb340"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LCAE</span> <span class="op">&lt;-</span> <span class="fu">poLCA</span><span class="op">(</span><span class="va">f1</span>, data <span class="op">=</span> <span class="va">jd</span>, nclass <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span>
<span>              maxiter <span class="op">=</span> <span class="fl">500</span>, nrep <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>Dans cette sortie, plusieurs éléments pourront guidés la décision sur le nombre de classes. Généralement, on recourt au AIC, au BIC et l’entropie relative. Idéalement, il faudrait que le AIC et le BIC soit le plus faible possible avec des bonds importants entre chaque nombre de classes. Dans ce cas-ci ces deux indices commencent à augmenter à <code>nclass = 4</code>, ce qui laisse suggérer que trois classes est une bonne solution. Une autre recommandation est une entropie relative supérieure à .80. Il s’agit d’une allant de 0 à 1, le plus haut étant le meilleur. Ici, le modèle à quatre classes n’est pas soutenu. Il faudra jeter une regard à taille des classes afin d’éviter des classes trop petites ou disproportionnées. Cette taille varieront inévitablement d’une question de recherche à l’autre, mais il faut y porter attention. Ici, elle semble toute adéquate pour sauf l’option à deux classes. un dernier test souvent utilisé est le test de vraisemblance de Lo-Mendell-Rubin (LMR) qui fournit une valeur-<em>p</em>. Ce test suggère un nombre de classes jusqu’au premier modèle non-significatif (exclusivement). Ici, le LMR suggère trois classes, car la quatrième classes est non-significative au seuil de 5%. Ce test a tendance a être très libéral, il faut y recourir avec discernement.</p>
</div>
<div id="inspections" class="section level3" number="22.1.3">
<h3>
<span class="header-section-number">22.1.3</span> Inspections<a class="anchor" aria-label="anchor" href="#inspections"><i class="fas fa-link"></i></a>
</h3>
<p>Une des hypothèses de la LCA est l’indépendance locale, soit qu’une fois les classes retirées, les variables observées sont indépendantes les unes des autres. Cela se traduit par l’absence de patterns entre les items non tenus compte par les classes. Pour vérifier cela, <code>poLCAExtra</code> ajoute la fonction <code><a href="https://rdrr.io/pkg/poLCAExtra/man/poLCA.residual.pattern.html">poLCA.tech10()</a></code> pour vérifier les patterns.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="classer.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">poLCA.tech10</span>(LCA3)</span>
<span id="cb341-2"><a href="classer.html#cb341-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb341-3"><a href="classer.html#cb341-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> The <span class="dv">20</span> most frequent patterns</span>
<span id="cb341-4"><a href="classer.html#cb341-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb341-5"><a href="classer.html#cb341-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>    pattern observed expected      z   chi llik.contribution</span>
<span id="cb341-6"><a href="classer.html#cb341-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span>   <span class="dv">111111</span>      <span class="dv">200</span>   <span class="fl">201.26</span> <span class="sc">-</span><span class="fl">0.089</span> <span class="fl">0.008</span>            <span class="sc">-</span><span class="fl">2.504</span></span>
<span id="cb341-7"><a href="classer.html#cb341-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">23</span>  <span class="dv">122121</span>      <span class="dv">166</span>   <span class="fl">165.34</span>  <span class="fl">0.051</span> <span class="fl">0.003</span>             <span class="fl">1.325</span></span>
<span id="cb341-8"><a href="classer.html#cb341-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span>  <span class="dv">112121</span>       <span class="dv">48</span>    <span class="fl">47.67</span>  <span class="fl">0.048</span> <span class="fl">0.002</span>             <span class="fl">0.662</span></span>
<span id="cb341-9"><a href="classer.html#cb341-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">17</span>  <span class="dv">121121</span>       <span class="dv">42</span>    <span class="fl">46.13</span> <span class="sc">-</span><span class="fl">0.608</span> <span class="fl">0.369</span>            <span class="sc">-</span><span class="fl">7.875</span></span>
<span id="cb341-10"><a href="classer.html#cb341-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">22</span>  <span class="dv">122111</span>       <span class="dv">39</span>    <span class="fl">37.76</span>  <span class="fl">0.202</span> <span class="fl">0.041</span>             <span class="fl">2.520</span></span>
<span id="cb341-11"><a href="classer.html#cb341-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>   <span class="dv">111121</span>       <span class="dv">38</span>    <span class="fl">32.91</span>  <span class="fl">0.887</span> <span class="fl">0.787</span>            <span class="fl">10.930</span></span>
<span id="cb341-12"><a href="classer.html#cb341-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span>   <span class="dv">111211</span>       <span class="dv">32</span>    <span class="fl">30.69</span>  <span class="fl">0.236</span> <span class="fl">0.056</span>             <span class="fl">2.669</span></span>
<span id="cb341-13"><a href="classer.html#cb341-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">50</span>  <span class="dv">222222</span>       <span class="dv">29</span>    <span class="fl">28.14</span>  <span class="fl">0.163</span> <span class="fl">0.027</span>             <span class="fl">1.754</span></span>
<span id="cb341-14"><a href="classer.html#cb341-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>   <span class="dv">111112</span>       <span class="dv">25</span>    <span class="fl">27.20</span> <span class="sc">-</span><span class="fl">0.422</span> <span class="fl">0.178</span>            <span class="sc">-</span><span class="fl">4.219</span></span>
<span id="cb341-15"><a href="classer.html#cb341-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">8</span>   <span class="dv">112111</span>       <span class="dv">23</span>    <span class="fl">28.33</span> <span class="sc">-</span><span class="fl">1.001</span> <span class="fl">1.001</span>            <span class="sc">-</span><span class="fl">9.581</span></span>
<span id="cb341-16"><a href="classer.html#cb341-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">15</span>  <span class="dv">121111</span>       <span class="dv">22</span>    <span class="fl">18.61</span>  <span class="fl">0.787</span> <span class="fl">0.619</span>             <span class="fl">7.373</span></span>
<span id="cb341-17"><a href="classer.html#cb341-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">26</span>  <span class="dv">122222</span>       <span class="dv">11</span>    <span class="fl">12.68</span> <span class="sc">-</span><span class="fl">0.473</span> <span class="fl">0.224</span>            <span class="sc">-</span><span class="fl">3.134</span></span>
<span id="cb341-18"><a href="classer.html#cb341-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">24</span>  <span class="dv">122122</span>       <span class="dv">10</span>    <span class="fl">10.90</span> <span class="sc">-</span><span class="fl">0.273</span> <span class="fl">0.074</span>            <span class="sc">-</span><span class="fl">1.724</span></span>
<span id="cb341-19"><a href="classer.html#cb341-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">27</span>  <span class="dv">211111</span>       <span class="dv">10</span>     <span class="fl">7.97</span>  <span class="fl">0.717</span> <span class="fl">0.514</span>             <span class="fl">4.525</span></span>
<span id="cb341-20"><a href="classer.html#cb341-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">46</span>  <span class="dv">222122</span>        <span class="dv">9</span>     <span class="fl">8.92</span>  <span class="fl">0.026</span> <span class="fl">0.001</span>             <span class="fl">0.159</span></span>
<span id="cb341-21"><a href="classer.html#cb341-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">25</span>  <span class="dv">122221</span>        <span class="dv">8</span>     <span class="fl">5.43</span>  <span class="fl">1.103</span> <span class="fl">1.218</span>             <span class="fl">6.203</span></span>
<span id="cb341-22"><a href="classer.html#cb341-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">9</span>   <span class="dv">112112</span>        <span class="dv">7</span>     <span class="fl">2.99</span>  <span class="fl">2.320</span> <span class="fl">5.382</span>            <span class="fl">11.914</span></span>
<span id="cb341-23"><a href="classer.html#cb341-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">42</span>  <span class="dv">221222</span>        <span class="dv">7</span>     <span class="fl">6.79</span>  <span class="fl">0.082</span> <span class="fl">0.007</span>             <span class="fl">0.433</span></span>
<span id="cb341-24"><a href="classer.html#cb341-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">6</span>   <span class="dv">111212</span>        <span class="dv">6</span>     <span class="fl">4.25</span>  <span class="fl">0.848</span> <span class="fl">0.720</span>             <span class="fl">4.135</span></span>
<span id="cb341-25"><a href="classer.html#cb341-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">14</span>  <span class="dv">112222</span>        <span class="dv">6</span>     <span class="fl">2.55</span>  <span class="fl">2.157</span> <span class="fl">4.654</span>            <span class="fl">10.254</span></span>
<span id="cb341-26"><a href="classer.html#cb341-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>        p check</span>
<span id="cb341-27"><a href="classer.html#cb341-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span>  <span class="fl">0.465</span>      </span>
<span id="cb341-28"><a href="classer.html#cb341-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">23</span> <span class="fl">0.480</span>      </span>
<span id="cb341-29"><a href="classer.html#cb341-29" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="fl">0.481</span>      </span>
<span id="cb341-30"><a href="classer.html#cb341-30" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">17</span> <span class="fl">0.272</span>      </span>
<span id="cb341-31"><a href="classer.html#cb341-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">22</span> <span class="fl">0.420</span>      </span>
<span id="cb341-32"><a href="classer.html#cb341-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>  <span class="fl">0.187</span>      </span>
<span id="cb341-33"><a href="classer.html#cb341-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span>  <span class="fl">0.407</span>      </span>
<span id="cb341-34"><a href="classer.html#cb341-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">50</span> <span class="fl">0.435</span>      </span>
<span id="cb341-35"><a href="classer.html#cb341-35" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>  <span class="fl">0.337</span>      </span>
<span id="cb341-36"><a href="classer.html#cb341-36" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">8</span>  <span class="fl">0.158</span>      </span>
<span id="cb341-37"><a href="classer.html#cb341-37" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">15</span> <span class="fl">0.216</span>      </span>
<span id="cb341-38"><a href="classer.html#cb341-38" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">26</span> <span class="fl">0.318</span>      </span>
<span id="cb341-39"><a href="classer.html#cb341-39" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">24</span> <span class="fl">0.393</span>      </span>
<span id="cb341-40"><a href="classer.html#cb341-40" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">27</span> <span class="fl">0.237</span>      </span>
<span id="cb341-41"><a href="classer.html#cb341-41" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">46</span> <span class="fl">0.489</span>      </span>
<span id="cb341-42"><a href="classer.html#cb341-42" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">25</span> <span class="fl">0.135</span>      </span>
<span id="cb341-43"><a href="classer.html#cb341-43" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">9</span>  <span class="fl">0.010</span>     <span class="sc">*</span></span>
<span id="cb341-44"><a href="classer.html#cb341-44" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">42</span> <span class="fl">0.467</span>      </span>
<span id="cb341-45"><a href="classer.html#cb341-45" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">6</span>  <span class="fl">0.198</span>      </span>
<span id="cb341-46"><a href="classer.html#cb341-46" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">14</span> <span class="fl">0.015</span>     <span class="sc">*</span></span>
<span id="cb341-47"><a href="classer.html#cb341-47" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb341-48"><a href="classer.html#cb341-48" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Number of empty cells<span class="sc">:</span>  <span class="dv">14</span></span></code></pre></div>
<p>Un certain nombre de patterns statistiquement significatifs est à prévoir. Les plus problématiques sont ceux ayant des fréquences observées fréquentes (les premières listées). Il est vraisemblable que les plus petites fréquences engendrent des contributions plus importantes. Une règle est de vérifier si le nombre de <code>check</code> est inférieur à 5% du nombre de pattern. Ici, il y 50 patterns, ce qui donne <span class="math inline">\(.05*50=2.5\)</span> patterns et comme il n’y a que deux patterns statistiquement significatifs, <span class="math inline">\(2.5 &gt; 2\)</span>, ces patterns peuvent être ignorés. Cependant, s’ils y a avait plus de checks touchant des patterns plus fréquent, il faudrait remédier à la situation, soit en retirant ou ajoutant des items ou, plus simplement, en augmentant le nombre de classes.</p>
<p>En effet, en plus de vérifier l’indépendance locale, l’inspection des patterns permet de vérifier l’adéquation du nombre de classes, car s’il y a trop peu de classes, il y aura beaucoup de patterns statistiquement significatifs.</p>
</div>
<div id="représentations-graphiques" class="section level3" number="22.1.4">
<h3>
<span class="header-section-number">22.1.4</span> Représentations graphiques<a class="anchor" aria-label="anchor" href="#repr%C3%A9sentations-graphiques"><i class="fas fa-link"></i></a>
</h3>
<p>La représentation graphique des classes peut se faire facilement avec la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> en y mettant la sortie de <code>poLCA()</code>.</p>
<div class="sourceCode" id="cb342"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">LCA3</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:lcaplot"></span>
<img src="22-Classer_files/figure-html/lcaplot-1.png" alt="Analyse visuelle des classes" width="75%" height="75%"><p class="caption">
Figure 22.2: Analyse visuelle des classes
</p>
</div>
<p>La Figure <a href="#fig:LCA"><strong>??</strong></a> montre sur l’axe des <span class="math inline">\(x\)</span> (largeur), les classes avec les proportions, sur l’axe des <span class="math inline">\(z\)</span> (profondeur), il s’agit des différents items utilisés pour la classification et sur l’axe des <span class="math inline">\(y\)</span> la probabilité qu’une personne de la classe <span class="math inline">\(x\)</span> ait choisi une certaine réponse à l’item <span class="math inline">\(z\)</span>. Si les items permettaient plus de choix de réponses (une échelle a plus deux options), la figure s’ajusterait en conséquences.</p>
<p>Une autre façon de présenter les données avec <code>ggplot2</code> serait de programmer cette figure (à venir ultérieurement dans <code>poLCAExtra</code>).</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="classer.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="co">#library(tidyverse)</span></span>
<span id="cb343-2"><a href="classer.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="co">#jdtest &lt;- LCAE$LCA[[3]]$y</span></span>
<span id="cb343-3"><a href="classer.html#cb343-3" aria-hidden="true" tabindex="-1"></a>jdtest <span class="ot">&lt;-</span> LCA3<span class="sc">$</span>y</span>
<span id="cb343-4"><a href="classer.html#cb343-4" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> (<span class="fu">colnames</span>(jdtest))</span>
<span id="cb343-5"><a href="classer.html#cb343-5" aria-hidden="true" tabindex="-1"></a>jdtest<span class="sc">$</span>Classes <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">predict</span>(LCA3)<span class="sc">$</span>Pred)</span>
<span id="cb343-6"><a href="classer.html#cb343-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-7"><a href="classer.html#cb343-7" aria-hidden="true" tabindex="-1"></a>jdtest <span class="ot">&lt;-</span> jdtest <span class="sc">%&gt;%</span> </span>
<span id="cb343-8"><a href="classer.html#cb343-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"Variable"</span>, <span class="at">value =</span> <span class="st">"Value"</span>, <span class="sc">-</span>Classes) </span>
<span id="cb343-9"><a href="classer.html#cb343-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-10"><a href="classer.html#cb343-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-11"><a href="classer.html#cb343-11" aria-hidden="true" tabindex="-1"></a>jds <span class="ot">&lt;-</span> jdtest <span class="sc">%&gt;%</span> </span>
<span id="cb343-12"><a href="classer.html#cb343-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Classes, Variable) <span class="sc">%&gt;%</span> </span>
<span id="cb343-13"><a href="classer.html#cb343-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">y =</span> <span class="fu">mean</span>(Value), </span>
<span id="cb343-14"><a href="classer.html#cb343-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">se =</span> <span class="fu">sd</span>(Value)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">n</span>()), </span>
<span id="cb343-15"><a href="classer.html#cb343-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">ymin =</span> y <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>se, </span>
<span id="cb343-16"><a href="classer.html#cb343-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">ymax =</span> y <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>se,</span>
<span id="cb343-17"><a href="classer.html#cb343-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">Value =</span> y)</span>
<span id="cb343-18"><a href="classer.html#cb343-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="st">`</span><span class="at">summarise()</span><span class="st">`</span> has grouped output by <span class="st">'Classes'</span>. You can</span>
<span id="cb343-19"><a href="classer.html#cb343-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> override using the <span class="st">`</span><span class="at">.groups</span><span class="st">`</span> argument.</span>
<span id="cb343-20"><a href="classer.html#cb343-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-21"><a href="classer.html#cb343-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-22"><a href="classer.html#cb343-22" aria-hidden="true" tabindex="-1"></a>jdtest <span class="sc">%&gt;%</span>  </span>
<span id="cb343-23"><a href="classer.html#cb343-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Variable, <span class="at">y =</span> Value, <span class="at">fill =</span> Classes, <span class="at">group =</span> Classes, <span class="at">color =</span> Classes)) <span class="sc">+</span> </span>
<span id="cb343-24"><a href="classer.html#cb343-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb343-25"><a href="classer.html#cb343-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(jds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Variable, <span class="at">y =</span> y)) <span class="sc">+</span> </span>
<span id="cb343-26"><a href="classer.html#cb343-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(jds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> ymin, <span class="at">ymax =</span> ymax), <span class="at">alpha =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:testjitter"></span>
<img src="22-Classer_files/figure-html/testjitter-1.png" alt="Analyse visuelle supplémentaire des classes" width="75%" height="75%"><p class="caption">
Figure 22.3: Analyse visuelle supplémentaire des classes
</p>
</div>
<p>Cette méthode sera plus similaire à l’analyse de classes latentes.</p>
</div>
<div id="analyses-supplémentaires" class="section level3" number="22.1.5">
<h3>
<span class="header-section-number">22.1.5</span> Analyses supplémentaires<a class="anchor" aria-label="anchor" href="#analyses-suppl%C3%A9mentaires"><i class="fas fa-link"></i></a>
</h3>
<p>L’expérimentateur souhaite parfois tester si les classes se comparent sur d’autres variables. Dans ces cas, il faut tenir compte de la probabilité d’appartenir à l’une des classes et non pas utiliser uniquement la classe prédite (la plus probable). Cela entraînerait des biais statistiques. Par exemple, un participant ayant 33 %, 33 % et 34 %, se verrait attribuer à la troisième classe, même si, au fond, il pourrait bien appartenir à l’une des deux autres. Les analyses <em>3-step</em> sont développées justement pour tenir compte de ces probabilité. Il y a deux fonctions principales <code><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">r3step()</a></code> pour les variables continues et <code><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">d3step()</a></code> pour les variables nominales et catégorielles.</p>
<p>Pour une variable à échelle continue, <code><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">r3step()</a></code> fonctionne avec la sortie avec le nombre approprié de classes ainsi que le nom de la variable dépendante ou une formule comme <code>continue ~ 1</code>.</p>
<div class="sourceCode" id="cb344"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res.r3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">r3step</a></span><span class="op">(</span><span class="st">"continuous"</span>, <span class="va">LCA3</span><span class="op">)</span></span></code></pre></div>
<p>Il est possible d’obtenir une représentation graphique ainsi.</p>
<div class="sourceCode" id="cb345"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res.r3</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:r3step"></span>
<img src="22-Classer_files/figure-html/r3step-1.png" alt="r3step des classes" width="75%" height="75%"><p class="caption">
Figure 22.4: r3step des classes
</p>
</div>
<p>Pour une variable à échelle nominale, <code><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">d3step()</a></code> fonctionne avec la sortie avec le nombre approprié de classes ainsi que le nom de la variable dépendante ou une formule comme <code>categorical ~ 1</code>.</p>
<div class="sourceCode" id="cb346"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res.d3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/poLCAExtra/man/d3step.html">d3step</a></span><span class="op">(</span><span class="st">"categorical"</span>, <span class="va">LCA3</span><span class="op">)</span></span></code></pre></div>
<p>Cette fonction possède aussi une représentation graphique.</p>
<div class="sourceCode" id="cb347"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res.d3</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:d3step"></span>
<img src="22-Classer_files/figure-html/d3step-1.png" alt="r3step des classes" width="75%" height="75%"><p class="caption">
Figure 22.5: r3step des classes
</p>
</div>
</div>
<div id="quelques-conseils-utiles" class="section level3" number="22.1.6">
<h3>
<span class="header-section-number">22.1.6</span> Quelques conseils utiles<a class="anchor" aria-label="anchor" href="#quelques-conseils-utiles"><i class="fas fa-link"></i></a>
</h3>
<p>Une fois l’analyse terminée, il est recommander de rouler une dernière fois l’analyse avec une <a href="calculer.html#les-graines">graine</a> et les arguments <code>nrep</code> et <code>maxiter</code> pour s’assurer de la stabilité et de la répétabilité des résultats.</p>
</div>
</div>
<div id="profils-latents" class="section level2" number="22.2">
<h2>
<span class="header-section-number">22.2</span> Profils latents<a class="anchor" aria-label="anchor" href="#profils-latents"><i class="fas fa-link"></i></a>
</h2>
<p>Pour les profils latents, le package suivant est nécessaire. Il faut d’abord l’installer, puis l’appeler.</p>
<div class="sourceCode" id="cb348"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages('tidyLPA')</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://data-edu.github.io/tidyLPA/">tidyLPA</a></span><span class="op">)</span></span></code></pre></div>
<p>Le package <code>tidyLPA</code> est compatible avec l’environnement du <code>tidyverse</code>.</p>
<p>Pour effectuer l’analyse de profils latents, il faut sélectionner les variables pour l’analyse avec la fonction <em>select</em>. Dans la fonction <em>estimate_profiles</em>, il faut spécifier le nombre de profils à investiguer. Ici, le jeu de données <code>ex3.tidyLPA</code> de <code>poLCAExtra</code> est utilisé.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="classer.html#cb349-1" aria-hidden="true" tabindex="-1"></a>jd <span class="ot">&lt;-</span> ex3.tidyLPA</span>
<span id="cb349-2"><a href="classer.html#cb349-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-3"><a href="classer.html#cb349-3" aria-hidden="true" tabindex="-1"></a>LPA1_5 <span class="ot">&lt;-</span> jd <span class="sc">%&gt;%</span></span>
<span id="cb349-4"><a href="classer.html#cb349-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(V1, V2, V3, V4, V5) <span class="sc">%&gt;%</span></span>
<span id="cb349-5"><a href="classer.html#cb349-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">estimate_profiles</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) </span>
<span id="cb349-6"><a href="classer.html#cb349-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-7"><a href="classer.html#cb349-7" aria-hidden="true" tabindex="-1"></a>LPA1_5</span>
<span id="cb349-8"><a href="classer.html#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> tidyLPA analysis using mclust<span class="sc">:</span> </span>
<span id="cb349-9"><a href="classer.html#cb349-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb349-10"><a href="classer.html#cb349-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  Model Classes AIC     BIC     Entropy prob_min prob_max</span>
<span id="cb349-11"><a href="classer.html#cb349-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="dv">1</span>     <span class="dv">1</span>       <span class="fl">7170.48</span> <span class="fl">7207.52</span> <span class="fl">1.00</span>    <span class="fl">1.00</span>     <span class="fl">1.00</span>    </span>
<span id="cb349-12"><a href="classer.html#cb349-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="dv">1</span>     <span class="dv">2</span>       <span class="fl">5949.93</span> <span class="fl">6009.19</span> <span class="fl">0.96</span>    <span class="fl">0.98</span>     <span class="fl">0.99</span>    </span>
<span id="cb349-13"><a href="classer.html#cb349-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="dv">1</span>     <span class="dv">3</span>       <span class="fl">4934.20</span> <span class="fl">5015.68</span> <span class="fl">1.00</span>    <span class="fl">1.00</span>     <span class="fl">1.00</span>    </span>
<span id="cb349-14"><a href="classer.html#cb349-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="dv">1</span>     <span class="dv">4</span>       <span class="fl">4936.30</span> <span class="fl">5040.00</span> <span class="fl">0.91</span>    <span class="fl">0.62</span>     <span class="fl">1.00</span>    </span>
<span id="cb349-15"><a href="classer.html#cb349-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="dv">1</span>     <span class="dv">5</span>       <span class="fl">4947.38</span> <span class="fl">5073.31</span> <span class="fl">0.82</span>    <span class="fl">0.39</span>     <span class="fl">1.00</span>    </span>
<span id="cb349-16"><a href="classer.html#cb349-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  n_min n_max BLRT_p</span>
<span id="cb349-17"><a href="classer.html#cb349-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fl">1.00</span>  <span class="fl">1.00</span>        </span>
<span id="cb349-18"><a href="classer.html#cb349-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fl">0.35</span>  <span class="fl">0.65</span>  <span class="fl">0.01</span>  </span>
<span id="cb349-19"><a href="classer.html#cb349-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fl">0.33</span>  <span class="fl">0.33</span>  <span class="fl">0.01</span>  </span>
<span id="cb349-20"><a href="classer.html#cb349-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fl">0.08</span>  <span class="fl">0.33</span>  <span class="fl">0.20</span>  </span>
<span id="cb349-21"><a href="classer.html#cb349-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fl">0.06</span>  <span class="fl">0.33</span>  <span class="fl">0.99</span></span></code></pre></div>
<p>Comme les analyses de classes latentes, il faut procéder étape par étape pour déterminer le nombre de classes. Dans <code><a href="https://data-edu.github.io/tidyLPA/reference/estimate_profiles.html">estimate_profiles()</a></code>, on peut directement inscrire toutes les classes à investiguer. Le meilleur nombre de classes se base sur des AIC et BIC le plus bas possibles et une entropie relative<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;même s’il est écrit &lt;code&gt;Entropy&lt;/code&gt;, il s’agit bien de l’entropie relative&lt;/p&gt;"><sup>42</sup></a> de plus de .80. Il est aussi possible de se baser sur le <code>BLRT_p</code>, soit la valeur-<span class="math inline">\(p\)</span> d’un test de ratio de vraisemblance bootstrapé (similaire au Lo-Mendell-Rubin présenté dans les <a href="classer.html#classes-latentes">classes latentes</a>). Dans cet exemple</p>
<p>Il est possible de générer des graphiques pour comparer certains indices d’ajustement, notamment l’AIC, le BIC et l’entropie à l’aide de la fonction <em>plot</em>.</p>
<div class="sourceCode" id="cb350"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">LPA1_5</span>, statistics <span class="op">=</span> <span class="st">'AIC'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">LPA1_5</span>, statistics <span class="op">=</span> <span class="st">'BIC'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">LPA1_5</span>, statistics <span class="op">=</span> <span class="st">'Entropy'</span><span class="op">)</span></span></code></pre></div>
<p>Une fois le nombre de classes décidé, il faut rerouler l’analyse avec le nombre désiré.</p>
<div class="sourceCode" id="cb351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LPA3</span> <span class="op">&lt;-</span> <span class="va">jd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">V1</span>, <span class="va">V2</span>, <span class="va">V3</span>, <span class="va">V4</span>, <span class="va">V5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://data-edu.github.io/tidyLPA/reference/estimate_profiles.html">estimate_profiles</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>Pour connaître le nombre de participants (<em>n</em>) dans chaque profil, il faut procéder ainsi.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="classer.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_data</span>(LPA3) <span class="sc">%&gt;%</span> </span>
<span id="cb352-2"><a href="classer.html#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Class) <span class="sc">%&gt;%</span> </span>
<span id="cb352-3"><a href="classer.html#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb352-4"><a href="classer.html#cb352-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># A tibble: 3 × 2</span></span>
<span id="cb352-5"><a href="classer.html#cb352-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Groups:   Class [3]</span></span>
<span id="cb352-6"><a href="classer.html#cb352-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   Class     n</span>
<span id="cb352-7"><a href="classer.html#cb352-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb352-8"><a href="classer.html#cb352-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">1</span>     <span class="dv">1</span>   <span class="dv">100</span></span>
<span id="cb352-9"><a href="classer.html#cb352-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>     <span class="dv">2</span>   <span class="dv">100</span></span>
<span id="cb352-10"><a href="classer.html#cb352-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>     <span class="dv">3</span>   <span class="dv">100</span></span></code></pre></div>
<p>Finalement, il est possible générer la représentation graphique du modèle choisi (et des autres modèles si besoin) à l’aide de la fonction <em>plot_profiles</em>.</p>
<div class="sourceCode" id="cb353"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LPA3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://data-edu.github.io/tidyLPA/reference/plot_profiles.html">plot_profiles</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:lpaplot"></span>
<img src="22-Classer_files/figure-html/lpaplot-1.png" alt="Analyse visuelle des profils" width="75%" height="75%"><p class="caption">
Figure 22.6: Analyse visuelle des profils
</p>
</div>
<p>La Figure<a href="classer.html#fig:lpaplot">22.6</a> permet de visusalier le profil des réponses des participants selon les items.</p>
<p>Enfin, différents type de modèles sont possibles. Le package <code>tidyLPA</code> en dénombre six dont la Table <a href="classer.html#tab:tablpa">22.1</a> présente leurs caractéristiques.</p>
<div class="inline-table"><table class=" lightable-classic table" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:tablpa">Table 22.1: </span>Différents type de modèles possibles
</caption>
<thead><tr>
<th style="text-align:center;">
Model
</th>
<th style="text-align:center;">
Variance
</th>
<th style="text-align:center;">
Covariance
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
equal
</td>
<td style="text-align:center;">
zero
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
varying
</td>
<td style="text-align:center;">
zero
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
equal
</td>
<td style="text-align:center;">
equal
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
varying
</td>
<td style="text-align:center;">
equal
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
equal
</td>
<td style="text-align:center;">
varying
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
varying
</td>
<td style="text-align:center;">
varying
</td>
</tr>
</tbody>
</table></div>
</div>
</div>




  <div class="chapter-nav">
<div class="prev"><a href="confirmer.html"><span class="header-section-number">21</span> Confirmer</a></div>
<div class="next"><a href="solutions.html">Solutions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#classer"><span class="header-section-number">22</span> Classer</a></li>
<li>
<a class="nav-link" href="#classes-latentes"><span class="header-section-number">22.1</span> Classes latentes</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#installations"><span class="header-section-number">22.1.1</span> Installations</a></li>
<li><a class="nav-link" href="#d%C3%A9terminer-le-nombre-de-classes"><span class="header-section-number">22.1.2</span> Déterminer le nombre de classes</a></li>
<li><a class="nav-link" href="#inspections"><span class="header-section-number">22.1.3</span> Inspections</a></li>
<li><a class="nav-link" href="#repr%C3%A9sentations-graphiques"><span class="header-section-number">22.1.4</span> Représentations graphiques</a></li>
<li><a class="nav-link" href="#analyses-suppl%C3%A9mentaires"><span class="header-section-number">22.1.5</span> Analyses supplémentaires</a></li>
<li><a class="nav-link" href="#quelques-conseils-utiles"><span class="header-section-number">22.1.6</span> Quelques conseils utiles</a></li>
</ul>
</li>
<li><a class="nav-link" href="#profils-latents"><span class="header-section-number">22.2</span> Profils latents</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/22-Classer.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/22-Classer.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2024-11-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
