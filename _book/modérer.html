<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 17 Modérer | Méthodes quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="En plus des relations linéaires, c’est-à-dire des effets selon lesquels plus une variable (ou diminue) plus une seconde variables augmente (ou diminue), il existe des variables qui interagissent...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content=" 17 Modérer | Méthodes quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:url" content="mqr.teluq.ca/modérer.html">
<meta property="og:description" content="En plus des relations linéaires, c’est-à-dire des effets selon lesquels plus une variable (ou diminue) plus une seconde variables augmente (ou diminue), il existe des variables qui interagissent...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 17 Modérer | Méthodes quantitatives avec R">
<meta name="twitter:description" content="En plus des relations linéaires, c’est-à-dire des effets selon lesquels plus une variable (ou diminue) plus une seconde variables augmente (ou diminue), il existe des variables qui interagissent...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- 
    \(
    \newcommand{\EX}{\mathbb{E}}
    \)
    --><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Rudiments</li>
<li><a class="" href="commencer.html"><span class="header-section-number">1</span> Commencer</a></li>
<li><a class="" href="programmer.html"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="" href="calculer.html"><span class="header-section-number">3</span> Calculer</a></li>
<li><a class="" href="r%C3%A9diger.html"><span class="header-section-number">4</span> Rédiger</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Jeux de données</li>
<li><a class="" href="entrer.html"><span class="header-section-number">5</span> Entrer</a></li>
<li><a class="" href="importer.html"><span class="header-section-number">6</span> Importer</a></li>
<li><a class="" href="manipuler.html"><span class="header-section-number">7</span> Manipuler</a></li>
<li><a class="" href="visualiser.html"><span class="header-section-number">8</span> Visualiser</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li class="book-part">Statistiques</li>
<li><a class="" href="d%C3%A9crire.html"><span class="header-section-number">9</span> Décrire</a></li>
<li><a class="" href="inf%C3%A9rer.html"><span class="header-section-number">10</span> Inférer</a></li>
<li><a class="" href="analyser.html"><span class="header-section-number">11</span> Analyser</a></li>
<li><a class="" href="simuler.html"><span class="header-section-number">12</span> Simuler</a></li>
<li><a class="" href="exercice-analyse.html">Exercices</a></li>
<li class="book-part">Modèles linéaires</li>
<li><a class="" href="comparer.html"><span class="header-section-number">13</span> Comparer</a></li>
<li><a class="" href="pr%C3%A9dire.html"><span class="header-section-number">14</span> Prédire</a></li>
<li><a class="" href="cr%C3%A9er.html"><span class="header-section-number">15</span> Créer</a></li>
<li><a class="" href="m%C3%A9dier.html"><span class="header-section-number">16</span> Médier</a></li>
<li><a class="active" href="mod%C3%A9rer.html"><span class="header-section-number">17</span> Modérer</a></li>
<li><a class="" href="exercice-lineaire.html">Exercices</a></li>
<li class="book-part">Analyses factorielles</li>
<li><a class="" href="d%C3%A9composer.html"><span class="header-section-number">18</span> Décomposer</a></li>
<li><a class="" href="explorer.html"><span class="header-section-number">19</span> Explorer</a></li>
<li><a class="" href="r%C3%A9duire.html"><span class="header-section-number">20</span> Réduire</a></li>
<li class="book-part">Annexes</li>
<li><a class="" href="solutions.html">Solutions</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="modérer" class="section level1" number="17">
<h1>
<span class="header-section-number"> 17</span> Modérer<a class="anchor" aria-label="anchor" href="#mod%C3%A9rer"><i class="fas fa-link"></i></a>
</h1>
<p>En plus des relations linéaires, c’est-à-dire des effets selon lesquels plus une variable (ou diminue) plus une seconde variables augmente (ou diminue), il existe des variables qui interagissent de sorte à accentuer ou amenuiser la force d’un effet, voire même à altérer sa direction. Ce type d’effet, appelée modérateur, est analysé à l’aide d’analyse de modération, analyse statistique très populaire dans laquelle la relation entre la variable dépendante (<span class="math inline">\(y\)</span>) et la variable indépendante (<span class="math inline">\(x\)</span>) est altérée par une tierce variable, la variable modératrice (<span class="math inline">\(w\)</span>).
Bien que la modération ait son chapitre désigné, elle a déjà été rencontrée dans ce livre, notamment, au chapitre <a href="pr%C3%A9dire.html#pr%C3%A9dire">Prédire</a>. L’analyse de modération dans son essence correspond à étudier un effet d’interaction dans un modèle linaire, ou autrement dit, la multiplication entre deux variables, ici <span class="math inline">\(x \times w\)</span>. Ainsi, en recourant aux fonctions <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> ou <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code>, la modération se commande en employant le symbole <code>*</code> comme <code>lm(y ~ x * w)</code> ou <code>aov(y ~ x * w)</code>. Toutefois, ayant ses défis qui lui sont propres en création de données et en interprétation, le chapitre suivant propose une description approfondie de la modération<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;La section est partiellement basée sur &lt;span class="citation"&gt;Caron et al. (&lt;a href="r%C3%A9f%C3%A9rences.html#ref-Caron20" role="doc-biblioref"&gt;2020&lt;/a&gt;)&lt;/span&gt;.&lt;/p&gt;'><sup>23</sup></a>.</p>
<div id="lanalyse-de-modération" class="section level2" number="17.1">
<h2>
<span class="header-section-number">17.1</span> L’analyse de modération<a class="anchor" aria-label="anchor" href="#lanalyse-de-mod%C3%A9ration"><i class="fas fa-link"></i></a>
</h2>
<p>Sur le plan quantitatif, l’analyse de modération est un modèle linéaire général réalisé en une seule étape (soit une analyse de la variance ou une régression, en fonction des variables concernées) dans laquelle une variable dépendante, <span class="math inline">\(y\)</span>, est prédite par trois variables, la variable variable indépendante, <span class="math inline">\(x\)</span>, l’effet simple se la variable modératrice, <span class="math inline">\(w\)</span>, et leur produit <span class="math inline">\(x \times w=xw\)</span>. En termes du modèle linéaire général (ANOVA, régression), un modérateur se subsume à une interaction. Mathématiquement, la relation s’exprime comme l’équation <a href="mod%C3%A9rer.html#eq:moderation">(17.1)</a></p>
<p><span class="math display" id="eq:moderation">\[\begin{equation}
y = \beta_0 + \beta_1 x + \beta_2 w + \beta_3 (x \times w) + \epsilon
\tag{17.1}
\end{equation}\]</span></p>
<p>où les <span class="math inline">\(\beta\)</span> sont les coefficients de régression reliant la variable correspondante à la variable dépendante.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:mod"></span>
<img src="image/mod.png" alt="Représentations de la modération" width="75%" height="75%"><p class="caption">
Figure 17.1: Représentations de la modération
</p>
</div>
<p>L’analyse de modération est illustrée à la Figure <a href="mod%C3%A9rer.html#fig:mod">17.1</a>. Le cadran a (gauche) montre une conceptualisation de l’effet attendu du modérateur, soit l’altération de l’effet entre <span class="math inline">\(x\)</span> et <span class="math inline">\(y\)</span>. Le cadran b (droite) montre, quant à lui, la représentation statistique dans laquelle le lien direct entre <span class="math inline">\(x\)</span>, <span class="math inline">\(w\)</span> et <span class="math inline">\(xw\)</span> par rapport à <span class="math inline">\(y\)</span>.</p>
<p>Une façon de mettre l’accent sur l’effet de modération est de réarranger l’équation <a href="mod%C3%A9rer.html#eq:moderation">(17.1)</a> afin d’obtenir l’équation <a href="mod%C3%A9rer.html#eq:moderation2">(17.2)</a>, ce qui met en évidence le rôle clé de <span class="math inline">\(w\)</span>.</p>
<p><span class="math display" id="eq:moderation2">\[\begin{equation}
y = \beta_0 + \beta_1 x + (\beta_2 + \beta_3 x) w + \epsilon
\tag{17.2}
\end{equation}\]</span></p>
<p>L’équation <a href="mod%C3%A9rer.html#eq:moderation2">(17.2)</a> montre comment <span class="math inline">\(\beta_3\)</span> altère la relation entre <span class="math inline">\(w\)</span> et <span class="math inline">\(y\)</span>.</p>
</div>
<div id="création-de-données" class="section level2" number="17.2">
<h2>
<span class="header-section-number">17.2</span> Création de données<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Une caractéristique fondamentale de la création d’interactions est qu’elles doivent être créées à partir de ces composantes. Autrement dit, le produit <span class="math inline">\(xw\)</span> comme variable n’est calculable que si <span class="math inline">\(x\)</span> ou <span class="math inline">\(w\)</span> sont d’abord créées. Il faut connaître deux des trois variables pour calculer la troisième. En conséquence, il n’est pas possible de créer des variables d’interaction, comme c’était le cas auparavant avec la fonction <code><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">MASS::mvrnorm()</a></code>, malgré que la matrice de covariance et les coefficients de régression soient calculables a priori.</p>
<p>La variance du produit de deux variables peut devenir rapidement compliquée. En fait, l’étude des produits de variables est si complexe, particulièrement lorsque les variables ont des moyennes non nulles qu’il n’y a eu que très dernièrement des développements mathématiques sur leur distribution formelle <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Cui" role="doc-biblioref">Cui et al., 2016</a>; <a href="r%C3%A9f%C3%A9rences.html#ref-Nadarajah" role="doc-biblioref">Nadarajah &amp; Pagány, 2016</a>)</span>, ce pourquoi les statisticiens préfèrent recourir généralement au bootstrap pour tester les effets médiateurs.</p>
<p>La variance du produit de deux variables standardisées <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Craig" role="doc-biblioref">Craig, 1936</a>; <a href="r%C3%A9f%C3%A9rences.html#ref-Haldane" role="doc-biblioref">Haldane, 1942</a>)</span> correspond à l’équation <a href="mod%C3%A9rer.html#eq:varprod">(17.3)</a>.</p>
<p><span class="math display" id="eq:varprod">\[\begin{equation}
\sigma^2_{x \times w} = 1 + \rho_{xw}^2
\tag{17.3}
\end{equation}\]</span></p>
<p>Pour des variables centrées (non complètement standardisées), l’équation <a href="mod%C3%A9rer.html#eq:varprod">(17.3)</a> devient l’équation <a href="mod%C3%A9rer.html#eq:prodvar">(17.4)</a> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Craig" role="doc-biblioref">Craig, 1936</a>; <a href="r%C3%A9f%C3%A9rences.html#ref-Haldane" role="doc-biblioref">Haldane, 1942</a>)</span>.</p>
<p><span class="math display" id="eq:prodvar">\[\begin{equation}
\sigma^2_{x \times w} = \mu_{x}\mu_{w}((\frac{\sigma_{x}}{\mu_{x}})^2+
2\rho_{xw}\frac{\sigma_{x}}{\mu_{x}}\frac{\sigma_{w}}{\mu_{w}} + (\frac{\sigma_{w}}{\mu_{w}})^2+\\(1+\rho^2)(\frac{\sigma_{x}}{\mu_{x}})^2(\frac{\sigma_{w}}{\mu_{w}})^2)
\tag{17.4}
\end{equation}\]</span></p>
<p>Celle-ci n’est pas des plus attrayante à l’oeil, surtout pour les arithmophobes. L’essentiel : il faut porter une attention particulière à la variance de <span class="math inline">\(xw\)</span> lorsque la variable <span class="math inline">\(y\)</span> est générée, car celle-ci est dépendante de la moyenne et de la variance de ces composantes.</p>
<div id="un-modérateur-continu" class="section level3" number="17.2.1">
<h3>
<span class="header-section-number">17.2.1</span> Un modérateur continu<a class="anchor" aria-label="anchor" href="#un-mod%C3%A9rateur-continu"><i class="fas fa-link"></i></a>
</h3>
<p>Dans le cas de deux variables continues (une variable indépendante <span class="math inline">\(x\)</span> et une modératrice <span class="math inline">\(w\)</span>), celles-ci peuvent être créées par système d’équations ou bien avec la matrice de covariance (des deux variables). Une fois <span class="math inline">\(x\)</span> et <span class="math inline">\(w\)</span> générées, il faut les multiplier pour obtenir <span class="math inline">\(xw\)</span>. C’est l’étape cruciale qui distingue la modération des autres analyses, car les deux variables doivent créer avant de créer l’interaction.</p>
<p>La variance de <span class="math inline">\(xw\)</span> suit l’équation <a href="mod%C3%A9rer.html#eq:prodvar">(17.4)</a> et les covariances avec les premières variables sont nulles dans la mesure où ces variables sont symétriques<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Si elles ne sont pas symétriques, il pourrait y avoir des corrélations causées par l’asymétrie&lt;/p&gt;"><sup>24</sup></a>. La matrice de covariance (et de corrélation dans ce cas-ci) est ainsi calculable a priori.</p>
<p><span class="math display" id="eq:S1">\[\begin{equation}
\mathbf{\Sigma} =
\left( \begin{array}{ccc}
1 &amp; \rho_{xw} &amp; 0 \\
\rho_{xw} &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 1+\rho_{xw}^2 \\
\end{array}
\right)
\tag{17.5}
\end{equation}\]</span></p>
<p>En spécifiant les coefficients de régression à l’avance avec <span class="math inline">\(\mathbf{B}\)</span>, la variance résiduelle de la variable dépendante peut être calculée comme l’équation <a href="cr%C3%A9er.html#eq:eq28">(15.20)</a> afin d’assurer un <a href="cr%C3%A9er.html#le-sc%C3%A9nario-standardis%C3%A9">scénario standardisé</a>, rappelée ici.</p>
<p><span class="math display">\[
\sigma^2_{\epsilon} = 1 - \mathbf {B^{\prime} \Sigma B}
\]</span></p>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Tailles d'échantillon</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span></span>
<span><span class="co"># Covariance entre x et w</span></span>
<span><span class="va">rhoxw</span>  <span class="op">&lt;-</span>  <span class="fl">.5</span>    </span>
<span></span>
<span><span class="co"># Matrice de covariance a priori</span></span>
<span><span class="va">S</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">rhoxw</span>, <span class="fl">0</span>,   </span>
<span>              <span class="va">rhoxw</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>              <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span> <span class="op">+</span> <span class="va">rhoxw</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>            ncol <span class="op">=</span> <span class="fl">3</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Coefficients de régression de x, w et xw</span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.2</span>, <span class="fl">.3</span><span class="op">)</span>             </span>
<span></span>
<span><span class="co"># Création des deux premières variables</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, Sigma <span class="op">=</span> <span class="va">S</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ajouter en joignant aux deux autres leur produit</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">X</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">*</span> <span class="va">X</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer la variance résiduelle</span></span>
<span><span class="va">var_ey</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">B</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">S</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">B</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Création de la variable dépendante</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">X</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">var_ey</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mettre le tout en commun et </span></span>
<span><span class="co"># renommer les variables</span></span>
<span><span class="va">jd.continue</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>                          w <span class="op">=</span> <span class="va">X</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>,</span>
<span>                          xw <span class="op">=</span> <span class="va">X</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>,</span>
<span>                          y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></code></pre></div>
<p>Le code ci-dessus montre un scénario standardisé (toutes les moyennes sont 0; toutes les variances égalent 1, sauf l’interaction). Le modèle est illustré à la Figure <a href="mod%C3%A9rer.html#fig:ex1mod">17.2</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:ex1mod"></span>
<img src="image/ex1mod.png" alt="Exemple de modèle de modération" width="75%" height="75%"><p class="caption">
Figure 17.2: Exemple de modèle de modération
</p>
</div>
<p>Pour simuler une étude réelle, la variable d’interaction n’a pas à être enregistrée dans les deux jeux de données. Elle n’était nécessaire que pour la création de la variable dépendante.</p>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Jeu de données final </span></span>
<span><span class="va">jd.continue</span> <span class="op">&lt;-</span> <span class="va">jd.continue</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x"</span>,<span class="st">"w"</span>,<span class="st">"y"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</div>
<div id="un-modérateur-nominal" class="section level3" number="17.2.2">
<h3>
<span class="header-section-number">17.2.2</span> Un modérateur nominal<a class="anchor" aria-label="anchor" href="#un-mod%C3%A9rateur-nominal"><i class="fas fa-link"></i></a>
</h3>
<p>Pour créer un jeu de données avec une variable indépendante continue et une variable modératrice nominale, la procédure sera similaire à celle de [l’analyse de variance][L’analyse de variance à un facteur] avec le <a href="comparer.html#codage-factice">Codage factice</a> en combinaison avec la technique décrite ci-haut.</p>
<div class="sourceCode" id="cb230"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pour la reproductibilité</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">50015610</span><span class="op">)</span>  </span>
<span></span>
<span><span class="co"># Tailles des trois groupes (pourraient être différentes)</span></span>
<span><span class="va">g1</span> <span class="op">&lt;-</span> <span class="va">g2</span> <span class="op">&lt;-</span> <span class="va">g3</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="co"># Nombre total d'unités (somme de tous les groupes)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">g1</span>, <span class="va">g2</span>, <span class="va">g3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Création de variables</span></span>
<span><span class="co"># Variable continue</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>  <span class="co"># Variable continue</span></span>
<span><span class="co"># Vecteur de groupement (facteur)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">g1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="va">g2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">3</span>, <span class="va">g3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Codage factice du groupement</span></span>
<span><span class="co"># Le troisième groupe (retiré) est le référent</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span>,</span>
<span>            USE.NAMES <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="va">w</span> <span class="op">==</span> <span class="va">x</span><span class="op">}</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1</span> </span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="va">W</span><span class="op">[</span>,<span class="op">-</span><span class="fl">3</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Mettre tous les prédicteurs ensemble </span></span>
<span><span class="co"># pour le modèle linéaire sous forme de matrice</span></span>
<span><span class="va">X</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>,</span>
<span>          w <span class="op">=</span> <span class="va">W</span>,</span>
<span>          xw <span class="op">=</span> <span class="va">x</span> <span class="op">*</span> <span class="va">W</span><span class="op">)</span></span></code></pre></div>
<p>En considérant <span class="math inline">\(p_i = \frac{g_i}{n}\)</span> comme la probabilité d’une unité d’être dans le groupe <span class="math inline">\(i\)</span>, la variance d’un groupe, représentée par <span class="math inline">\(w_i\)</span>, est <span class="math inline">\(p_i(1-p_i)\)</span>, soit la variance d’une distribution binomiale pour une probabilité <span class="math inline">\(p_i\)</span>. La covariance avec un autre groupe <span class="math inline">\(j\)</span> est de <span class="math inline">\(-p_ip_j\)</span>, la probabilité d’être dans un groupe est négativement liée à celle d’être dans un autre groupe. Enfin, la variance d’une interaction est de <span class="math inline">\(p_i\)</span>, car il s’agit du pourcentage de <span class="math inline">\(x\)</span> qui se retrouve dans l’interaction <span class="math inline">\(xw_i\)</span>. En conséquence, comme il s’agit de la même information (à cause du multiple de 1 de la variable <span class="math inline">\(w_i\)</span>, c’est-dire appartenir au groupe <span class="math inline">\(i\)</span>), cela mène une covariance accidentelle de <span class="math inline">\(p_i\)</span> entre <span class="math inline">\(x\)</span> et <span class="math inline">\(w_i\)</span>.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="mod%C3%A9rer.html#cb231-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> g1<span class="sc">/</span>n</span>
<span id="cb231-2"><a href="mod%C3%A9rer.html#cb231-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> g2<span class="sc">/</span>n</span>
<span id="cb231-3"><a href="mod%C3%A9rer.html#cb231-3" aria-hidden="true" tabindex="-1"></a>S <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, p1, p2,</span>
<span id="cb231-4"><a href="mod%C3%A9rer.html#cb231-4" aria-hidden="true" tabindex="-1"></a>              <span class="dv">0</span>, p1<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>p1), <span class="sc">-</span>p1<span class="sc">*</span>p2, <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb231-5"><a href="mod%C3%A9rer.html#cb231-5" aria-hidden="true" tabindex="-1"></a>              <span class="dv">0</span>, <span class="sc">-</span>p1<span class="sc">*</span>p2, p2<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>p2), <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb231-6"><a href="mod%C3%A9rer.html#cb231-6" aria-hidden="true" tabindex="-1"></a>              p1, <span class="dv">0</span>, <span class="dv">0</span>, p1, <span class="dv">0</span>,</span>
<span id="cb231-7"><a href="mod%C3%A9rer.html#cb231-7" aria-hidden="true" tabindex="-1"></a>              p2, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, p2), </span>
<span id="cb231-8"><a href="mod%C3%A9rer.html#cb231-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb231-9"><a href="mod%C3%A9rer.html#cb231-9" aria-hidden="true" tabindex="-1"></a>S</span>
<span id="cb231-10"><a href="mod%C3%A9rer.html#cb231-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>       [,<span class="dv">1</span>]   [,<span class="dv">2</span>]   [,<span class="dv">3</span>]  [,<span class="dv">4</span>]  [,<span class="dv">5</span>]</span>
<span id="cb231-11"><a href="mod%C3%A9rer.html#cb231-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,] <span class="fl">1.000</span>  <span class="fl">0.000</span>  <span class="fl">0.000</span> <span class="fl">0.333</span> <span class="fl">0.333</span></span>
<span id="cb231-12"><a href="mod%C3%A9rer.html#cb231-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,] <span class="fl">0.000</span>  <span class="fl">0.222</span> <span class="sc">-</span><span class="fl">0.111</span> <span class="fl">0.000</span> <span class="fl">0.000</span></span>
<span id="cb231-13"><a href="mod%C3%A9rer.html#cb231-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">3</span>,] <span class="fl">0.000</span> <span class="sc">-</span><span class="fl">0.111</span>  <span class="fl">0.222</span> <span class="fl">0.000</span> <span class="fl">0.000</span></span>
<span id="cb231-14"><a href="mod%C3%A9rer.html#cb231-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">4</span>,] <span class="fl">0.333</span>  <span class="fl">0.000</span>  <span class="fl">0.000</span> <span class="fl">0.333</span> <span class="fl">0.000</span></span>
<span id="cb231-15"><a href="mod%C3%A9rer.html#cb231-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>,] <span class="fl">0.333</span>  <span class="fl">0.000</span>  <span class="fl">0.000</span> <span class="fl">0.000</span> <span class="fl">0.333</span></span>
<span id="cb231-16"><a href="mod%C3%A9rer.html#cb231-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Vérifications</span></span>
<span id="cb231-17"><a href="mod%C3%A9rer.html#cb231-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(X)</span>
<span id="cb231-18"><a href="mod%C3%A9rer.html#cb231-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>          x                                      </span>
<span id="cb231-19"><a href="mod%C3%A9rer.html#cb231-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x  <span class="fl">0.97900</span> <span class="sc">-</span><span class="fl">0.00703</span> <span class="sc">-</span><span class="fl">0.00136</span>  <span class="fl">3.18e-01</span>  <span class="fl">3.21e-01</span></span>
<span id="cb231-20"><a href="mod%C3%A9rer.html#cb231-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.00703</span>  <span class="fl">0.22224</span> <span class="sc">-</span><span class="fl">0.11112</span> <span class="sc">-</span><span class="fl">6.21e-03</span>  <span class="fl">1.21e-03</span></span>
<span id="cb231-21"><a href="mod%C3%A9rer.html#cb231-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.00136</span> <span class="sc">-</span><span class="fl">0.11112</span>  <span class="fl">0.22224</span>  <span class="fl">3.10e-03</span> <span class="sc">-</span><span class="fl">2.43e-03</span></span>
<span id="cb231-22"><a href="mod%C3%A9rer.html#cb231-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="fl">0.31815</span> <span class="sc">-</span><span class="fl">0.00621</span>  <span class="fl">0.00310</span>  <span class="fl">3.18e-01</span> <span class="sc">-</span><span class="fl">3.39e-05</span></span>
<span id="cb231-23"><a href="mod%C3%A9rer.html#cb231-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="fl">0.32067</span>  <span class="fl">0.00121</span> <span class="sc">-</span><span class="fl">0.00243</span> <span class="sc">-</span><span class="fl">3.39e-05</span>  <span class="fl">3.21e-01</span></span></code></pre></div>
<p>Toutefois, il sera plus simple de standardiser <code>W</code> avant de créer les interactions, ce qui éliminera les covariances accidentelles.</p>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standardiser les codes factices</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">W</span>, MARGIN <span class="op">=</span> <span class="fl">2</span>, FUN <span class="op">=</span> <span class="va">scale</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mettre tous les prédicteurs ensemble </span></span>
<span><span class="co"># pour le modèle linéaire sous forme de matrice</span></span>
<span><span class="va">X2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>,</span>
<span>            w <span class="op">=</span> <span class="va">W</span>,</span>
<span>            xw <span class="op">=</span> <span class="va">x</span> <span class="op">*</span> <span class="va">W</span><span class="op">)</span></span></code></pre></div>
<p>Alors la covariance entre <span class="math inline">\(w_i\)</span> et <span class="math inline">\(w_j\)</span> et la covariance entre <span class="math inline">\(xw_i\)</span> et <span class="math inline">\(xw_j\)</span> deviennent
<span class="math display">\[p_1 p_2 / \sqrt{p_1(1 - p_1) p_2 (1 - p_2)}\]</span>
soit leur covariance originale divisée par leur écart type. Tous les autres valeurs deviennent 1 dans le cas des variances et 0 pour les covariances.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="mod%C3%A9rer.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La covariance</span></span>
<span id="cb233-2"><a href="mod%C3%A9rer.html#cb233-2" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">=</span> <span class="sc">-</span>(p1 <span class="sc">*</span> p2) <span class="sc">/</span> (<span class="fu">sqrt</span>((p1 <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> p1)) <span class="sc">*</span> (p2 <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> p2))))</span>
<span id="cb233-3"><a href="mod%C3%A9rer.html#cb233-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-4"><a href="mod%C3%A9rer.html#cb233-4" aria-hidden="true" tabindex="-1"></a><span class="co"># La matrice de covariance</span></span>
<span id="cb233-5"><a href="mod%C3%A9rer.html#cb233-5" aria-hidden="true" tabindex="-1"></a>S2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb233-6"><a href="mod%C3%A9rer.html#cb233-6" aria-hidden="true" tabindex="-1"></a>               <span class="dv">0</span>, <span class="dv">1</span>, rho, <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb233-7"><a href="mod%C3%A9rer.html#cb233-7" aria-hidden="true" tabindex="-1"></a>               <span class="dv">0</span>, rho, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb233-8"><a href="mod%C3%A9rer.html#cb233-8" aria-hidden="true" tabindex="-1"></a>               <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>, rho,</span>
<span id="cb233-9"><a href="mod%C3%A9rer.html#cb233-9" aria-hidden="true" tabindex="-1"></a>               <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, rho, <span class="dv">1</span>), </span>
<span id="cb233-10"><a href="mod%C3%A9rer.html#cb233-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb233-11"><a href="mod%C3%A9rer.html#cb233-11" aria-hidden="true" tabindex="-1"></a>S2</span>
<span id="cb233-12"><a href="mod%C3%A9rer.html#cb233-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb233-13"><a href="mod%C3%A9rer.html#cb233-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,]    <span class="dv">1</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span></span>
<span id="cb233-14"><a href="mod%C3%A9rer.html#cb233-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,]    <span class="dv">0</span>  <span class="fl">1.0</span> <span class="sc">-</span><span class="fl">0.5</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span></span>
<span id="cb233-15"><a href="mod%C3%A9rer.html#cb233-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">3</span>,]    <span class="dv">0</span> <span class="sc">-</span><span class="fl">0.5</span>  <span class="fl">1.0</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span></span>
<span id="cb233-16"><a href="mod%C3%A9rer.html#cb233-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">4</span>,]    <span class="dv">0</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span>  <span class="fl">1.0</span> <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb233-17"><a href="mod%C3%A9rer.html#cb233-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>,]    <span class="dv">0</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span> <span class="sc">-</span><span class="fl">0.5</span>  <span class="fl">1.0</span></span>
<span id="cb233-18"><a href="mod%C3%A9rer.html#cb233-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-19"><a href="mod%C3%A9rer.html#cb233-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Vérifier</span></span>
<span id="cb233-20"><a href="mod%C3%A9rer.html#cb233-20" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(X2)</span>
<span id="cb233-21"><a href="mod%C3%A9rer.html#cb233-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>          x                                  </span>
<span id="cb233-22"><a href="mod%C3%A9rer.html#cb233-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x  <span class="fl">0.97900</span> <span class="sc">-</span><span class="fl">0.0149</span> <span class="sc">-</span><span class="fl">0.00288</span> <span class="sc">-</span><span class="fl">0.0174</span> <span class="sc">-</span><span class="fl">0.01201</span></span>
<span id="cb233-23"><a href="mod%C3%A9rer.html#cb233-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.01492</span>  <span class="fl">1.0000</span> <span class="sc">-</span><span class="fl">0.50000</span> <span class="sc">-</span><span class="fl">0.0174</span>  <span class="fl">0.01601</span></span>
<span id="cb233-24"><a href="mod%C3%A9rer.html#cb233-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.00288</span> <span class="sc">-</span><span class="fl">0.5000</span>  <span class="fl">1.00000</span>  <span class="fl">0.0160</span> <span class="sc">-</span><span class="fl">0.00887</span></span>
<span id="cb233-25"><a href="mod%C3%A9rer.html#cb233-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.01736</span> <span class="sc">-</span><span class="fl">0.0174</span>  <span class="fl">0.01601</span>  <span class="fl">0.9666</span> <span class="sc">-</span><span class="fl">0.46885</span></span>
<span id="cb233-26"><a href="mod%C3%A9rer.html#cb233-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="sc">-</span><span class="fl">0.01201</span>  <span class="fl">0.0160</span> <span class="sc">-</span><span class="fl">0.00887</span> <span class="sc">-</span><span class="fl">0.4689</span>  <span class="fl">0.97049</span></span></code></pre></div>
<p>Il est possible d’ajouter des corrélations entre une variable continue et les groupes, mais cela déborde du cadre de ce livre et des connaissances détaillées jusqu’ici. Mais, c’est possible!</p>
<p>Maintenant, il reste à créer la variable dépendante. Pour ce faire, il faut spécifier cinq coefficients de régressions, car une variable continue avec deux variables modératrices (facteurs transformés par le <a href="comparer.html#codage-factice">codage factice</a>) donnent deux variables d’interaction.</p>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Les coefficients de régression</span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.25</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">.50</span>, <span class="op">-</span><span class="fl">.50</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># La variance résiduelle</span></span>
<span><span class="co"># La deuxième matrice de covariance est utilisée</span></span>
<span><span class="va">var_ey</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">B</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">S2</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">B</span>  </span>
<span></span>
<span><span class="co"># Création de la variable dépendante</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">X2</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">var_ey</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Pour simuler une étude réelle, les variables d’interactions et le codage factices peuvent être écartés du jeu de données. Ces variables ne sont nécessaires que pour la création de la variable dépendante.</p>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Jeu de données final </span></span>
<span><span class="va">jd.nominale</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>,</span>
<span>                           w <span class="op">=</span> <span class="va">w</span>,</span>
<span>                           y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="détecter-leffet-de-modération" class="section level2" number="17.3">
<h2>
<span class="header-section-number">17.3</span> Détecter l’effet de modération<a class="anchor" aria-label="anchor" href="#d%C3%A9tecter-leffet-de-mod%C3%A9ration"><i class="fas fa-link"></i></a>
</h2>
<p>Pour détecter les effets modérateurs, l’analyse de modèle linéaire par <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> et <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code> joueront parfaitement le rôle. Par contre, il faut noter une différence <strong>cruciale</strong> entre les deux fonctions. Le calcul de la somme des carrés est différent entre les deux : <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> utilise le type III et <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code> utilise le type I.</p>
<p>Le choix du type porte à controverse <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Herr86" role="doc-biblioref">Herr, 1986</a>)</span>. Pour choisir le type d’estimateur, de nombreux facteurs entrent en ligne de compte, le plus important étant l’hypothèse de recherche. Il n’y a donc pas de réponse claire; il y a bien quelques recommandations.</p>
<p>Le type I teste séquentiellement le modèle <span class="math inline">\(y = x + w + xw\)</span>, soit l’effet de <span class="math inline">\(x\)</span>, puis l’effet de <span class="math inline">\(w\)</span> en tenant compte de <span class="math inline">\(x\)</span> (écrit <span class="math inline">\(\text{SC}(w|x)\)</span>, soit la somme des carrés de <span class="math inline">\(w\)</span> considérant <span class="math inline">\(x\)</span>), et enfin l’effet de <span class="math inline">\(x\times w\)</span> par <span class="math inline">\(\text{SC}(xw|x,w)\)</span>. Il teste très bien les termes d’interaction, en plus, d’offrir un modèle alternatif si l’interaction n’est pas significative. Le type I ne traite pas les effets simples de façon égale. L’ordre importe!. Le type II contourne le traitement différentiel des effets simples en considérant simultanément des effets de même niveau, comme <span class="math inline">\(\text{SC}(w|x)\)</span> et <span class="math inline">\(\text{SC}(x|w)\)</span>, ce qui est très bien pour tester les effets simples s’il n’y a pas de terme d’interaction. Le type III conditionne tous les effets, <span class="math inline">\(x\)</span>, <span class="math inline">\(w\)</span> et <span class="math inline">\(xw\)</span>, au même niveau, soit <span class="math inline">\(\text{SC}(x|w,xw)\)</span>, <span class="math inline">\(\text{SC}(w|x,xw)\)</span> et <span class="math inline">\(\text{SC}(xw|x,w)\)</span>. Tous les effets sont traités de façon équivalente. Le type IV, pour le mentionner, permet de tenir compte de combinaison de groupes nulle (ou vide). Il est équivalent au type III s’il y a au moins une valeur dans chaque groupe.</p>
<p>La controverse provient du fait que les hypothèses concernées ne sont pas très utiles pour les expérimentateurs puisqu’ils s’intéressent au terme d’interaction, et non aux effets principaux lorsqu’un terme d’interaction est présent. L’avantage du type I est de montrer les modèles possibles de façon hiérarchique, ce que ne fait pas le type III. Le type I oblige de la réflexion : la séquence des variables d’une part, mais aussi l’analyse des résultats hypothèses séquentielles.</p>
<p>S’il y a un effet d’interaction, alors les effets simples ne sont pas interprétés. Le type III est alors inutiles pour interpréter ces effets.</p>
<p>Les programmeurs de <strong>R</strong> championnent cette perspective en définissant l’option de type de sommes de carrés par défaut pour les fonctions <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> et <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code>. Ils y vont de mots très durs à l’endroit des logiciels qui recourent automatiquement au type III.</p>
<p>Le choix entre type I ou type III revient à l’expérimentateur. Par contre, la plupart des ouvrages statistiques pour les sciences appliquées utilisent implicitement le type III. D’autres le recommandent activement. De plus, lorsque le devis n’est pas balancé, le type III est préférable. Si le lecteur veut comparer avec des analyses de modération avec celles d’autres ouvrages, il doit recourir au type III.</p>
<p>Cela dit, il demeure possible d’utiliser <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code> avec les SC de type III, mais il faudra recourir à la fonction <code>Anova()</code> du package <code>car</code> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-car" role="doc-biblioref">Fox &amp; Weisberg, 2019</a>)</span>.</p>
<div id="analyse-dun-modérateur-continu" class="section level3" number="17.3.1">
<h3>
<span class="header-section-number">17.3.1</span> Analyse d’un modérateur continu<a class="anchor" aria-label="anchor" href="#analyse-dun-mod%C3%A9rateur-continu"><i class="fas fa-link"></i></a>
</h3>
<p>Pour le modèle avec deux variables continues, la syntaxe pour rouler <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> est très similaire à ce qui se trouve dans le chapitre <a href="pr%C3%A9dire.html#pr%C3%A9dire">Prédire</a>. Pour inclure l’effet d’interaction (modération) dans le modèle, il faut inscrire le <code>*</code> au lieu du <code>+</code>, comme <code>lm(y ~ x * w, data = jd.continue)</code>. La formule <code>y ~ x + w + x * w</code> fonctionne également.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="mod%C3%A9rer.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Réaliser l'analyse avec lm()</span></span>
<span id="cb236-2"><a href="mod%C3%A9rer.html#cb236-2" aria-hidden="true" tabindex="-1"></a>res1.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.continue)</span>
<span id="cb236-3"><a href="mod%C3%A9rer.html#cb236-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(res1.lm)</span>
<span id="cb236-4"><a href="mod%C3%A9rer.html#cb236-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb236-5"><a href="mod%C3%A9rer.html#cb236-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Call<span class="sc">:</span></span>
<span id="cb236-6"><a href="mod%C3%A9rer.html#cb236-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.continue)</span>
<span id="cb236-7"><a href="mod%C3%A9rer.html#cb236-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb236-8"><a href="mod%C3%A9rer.html#cb236-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals<span class="sc">:</span></span>
<span id="cb236-9"><a href="mod%C3%A9rer.html#cb236-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>     Min      1Q  Median      3Q     Max </span>
<span id="cb236-10"><a href="mod%C3%A9rer.html#cb236-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.2970</span> <span class="sc">-</span><span class="fl">0.6080</span> <span class="sc">-</span><span class="fl">0.0052</span>  <span class="fl">0.5500</span>  <span class="fl">2.7544</span> </span>
<span id="cb236-11"><a href="mod%C3%A9rer.html#cb236-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb236-12"><a href="mod%C3%A9rer.html#cb236-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Coefficients<span class="sc">:</span></span>
<span id="cb236-13"><a href="mod%C3%A9rer.html#cb236-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>             Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb236-14"><a href="mod%C3%A9rer.html#cb236-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> (Intercept)  <span class="sc">-</span><span class="fl">0.0916</span>     <span class="fl">0.0427</span>   <span class="sc">-</span><span class="fl">2.15</span>    <span class="fl">0.032</span> <span class="sc">*</span>  </span>
<span id="cb236-15"><a href="mod%C3%A9rer.html#cb236-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x             <span class="fl">0.0983</span>     <span class="fl">0.0438</span>    <span class="fl">2.24</span>    <span class="fl">0.025</span> <span class="sc">*</span>  </span>
<span id="cb236-16"><a href="mod%C3%A9rer.html#cb236-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w             <span class="fl">0.1803</span>     <span class="fl">0.0438</span>    <span class="fl">4.12</span>  <span class="fl">4.5e-05</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb236-17"><a href="mod%C3%A9rer.html#cb236-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">:</span>w           <span class="fl">0.3379</span>     <span class="fl">0.0406</span>    <span class="fl">8.32</span>  <span class="fl">8.7e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb236-18"><a href="mod%C3%A9rer.html#cb236-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="sc">---</span></span>
<span id="cb236-19"><a href="mod%C3%A9rer.html#cb236-19" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb236-20"><a href="mod%C3%A9rer.html#cb236-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span>
<span id="cb236-21"><a href="mod%C3%A9rer.html#cb236-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb236-22"><a href="mod%C3%A9rer.html#cb236-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residual standard error<span class="sc">:</span> <span class="fl">0.881</span> on <span class="dv">496</span> degrees of freedom</span>
<span id="cb236-23"><a href="mod%C3%A9rer.html#cb236-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.171</span>,   Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.166</span> </span>
<span id="cb236-24"><a href="mod%C3%A9rer.html#cb236-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> F<span class="sc">-</span>statistic<span class="sc">:</span>   <span class="dv">34</span> on <span class="dv">3</span> and <span class="dv">496</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="er">&lt;</span><span class="fl">2e-16</span></span>
<span id="cb236-25"><a href="mod%C3%A9rer.html#cb236-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-26"><a href="mod%C3%A9rer.html#cb236-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour comparer avec aov</span></span>
<span id="cb236-27"><a href="mod%C3%A9rer.html#cb236-27" aria-hidden="true" tabindex="-1"></a>res1.aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.continue)</span>
<span id="cb236-28"><a href="mod%C3%A9rer.html#cb236-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-29"><a href="mod%C3%A9rer.html#cb236-29" aria-hidden="true" tabindex="-1"></a><span class="co"># L'intercepte est inclus</span></span>
<span id="cb236-30"><a href="mod%C3%A9rer.html#cb236-30" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(res1.aov, <span class="at">intercept =</span> <span class="cn">TRUE</span>)</span>
<span id="cb236-31"><a href="mod%C3%A9rer.html#cb236-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>              Df Sum Sq Mean Sq F value  <span class="fu">Pr</span>(<span class="sc">&gt;</span>F)    </span>
<span id="cb236-32"><a href="mod%C3%A9rer.html#cb236-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> (Intercept)   <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.7</span>     <span class="fl">0.9</span> <span class="fl">0.34211</span>    </span>
<span id="cb236-33"><a href="mod%C3%A9rer.html#cb236-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x             <span class="dv">1</span>     <span class="dv">10</span>    <span class="fl">10.1</span>    <span class="fl">13.0</span> <span class="fl">0.00034</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb236-34"><a href="mod%C3%A9rer.html#cb236-34" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w             <span class="dv">1</span>     <span class="dv">15</span>    <span class="fl">15.5</span>    <span class="fl">19.9</span> <span class="fl">1.0e-05</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb236-35"><a href="mod%C3%A9rer.html#cb236-35" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">:</span>w           <span class="dv">1</span>     <span class="dv">54</span>    <span class="fl">53.7</span>    <span class="fl">69.2</span> <span class="fl">8.7e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb236-36"><a href="mod%C3%A9rer.html#cb236-36" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals   <span class="dv">496</span>    <span class="dv">385</span>     <span class="fl">0.8</span>                    </span>
<span id="cb236-37"><a href="mod%C3%A9rer.html#cb236-37" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">---</span></span>
<span id="cb236-38"><a href="mod%C3%A9rer.html#cb236-38" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb236-39"><a href="mod%C3%A9rer.html#cb236-39" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span></code></pre></div>
<p>Comme prévu, les résultats sont différents à cause des différentes sommes des carrés considérées. L’effet modérateur est identique. Les effets principaux sont différents.</p>
<p>Pour observer les résultats de <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> de la même façon que <code>aov</code> (avec une table d’analyse de variance), le code <code>anova(res1.lm)</code> produira la même sortie, signalant ainsi la différence des sommes de carré pour calculer les coefficients et celles pour produire la table.</p>
<p>Pour obtenir l’analyse de variance avec le type III, il faut utiliser le package <code>car</code> et sa fonction <code>Anova()</code> en y spécifiant la sortie de la fonction <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code> et type de somme de carrés demandée.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="mod%C3%A9rer.html#cb237-1" aria-hidden="true" tabindex="-1"></a>res1.anova <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">Anova</span>(res1.aov, <span class="at">type =</span> <span class="st">"III"</span>)</span>
<span id="cb237-2"><a href="mod%C3%A9rer.html#cb237-2" aria-hidden="true" tabindex="-1"></a>res1.anova </span>
<span id="cb237-3"><a href="mod%C3%A9rer.html#cb237-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Anova <span class="fu">Table</span> (Type III tests)</span>
<span id="cb237-4"><a href="mod%C3%A9rer.html#cb237-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb237-5"><a href="mod%C3%A9rer.html#cb237-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Response<span class="sc">:</span> y</span>
<span id="cb237-6"><a href="mod%C3%A9rer.html#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>             Sum Sq  Df F value  <span class="fu">Pr</span>(<span class="sc">&gt;</span>F)    </span>
<span id="cb237-7"><a href="mod%C3%A9rer.html#cb237-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> (Intercept)      <span class="dv">4</span>   <span class="dv">1</span>    <span class="fl">4.60</span>   <span class="fl">0.032</span> <span class="sc">*</span>  </span>
<span id="cb237-8"><a href="mod%C3%A9rer.html#cb237-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x                <span class="dv">4</span>   <span class="dv">1</span>    <span class="fl">5.04</span>   <span class="fl">0.025</span> <span class="sc">*</span>  </span>
<span id="cb237-9"><a href="mod%C3%A9rer.html#cb237-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w               <span class="dv">13</span>   <span class="dv">1</span>   <span class="fl">16.96</span> <span class="fl">4.5e-05</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb237-10"><a href="mod%C3%A9rer.html#cb237-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">:</span>w             <span class="dv">54</span>   <span class="dv">1</span>   <span class="fl">69.18</span> <span class="fl">8.7e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb237-11"><a href="mod%C3%A9rer.html#cb237-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals      <span class="dv">385</span> <span class="dv">496</span>                    </span>
<span id="cb237-12"><a href="mod%C3%A9rer.html#cb237-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">---</span></span>
<span id="cb237-13"><a href="mod%C3%A9rer.html#cb237-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb237-14"><a href="mod%C3%A9rer.html#cb237-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span></code></pre></div>
<p>Voilà! Les effets simples sont maintenant identiques à la sortie de <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>.</p>
<p>Pour déterminer s’il y a présence de l’effet de modérateur, il faut se fier à la ligne <code>x:w</code> et la valeur-<span class="math inline">\(p\)</span>, <code>Pr(&gt;F)</code>, associée qui est ici de <span class="math inline">\(3.269^{-16}\)</span>. Par contre, il n’est pas tout à fait clair comment interpréter ce résultat. Ce sera fait dans la section portant sur la représentation graphique de al modération.</p>
</div>
<div id="analyse-dun-modérateur-nominal" class="section level3" number="17.3.2">
<h3>
<span class="header-section-number">17.3.2</span> Analyse d’un modérateur nominal<a class="anchor" aria-label="anchor" href="#analyse-dun-mod%C3%A9rateur-nominal"><i class="fas fa-link"></i></a>
</h3>
<p>Comme il y a un groupe de référence, <strong>R</strong> choisit par défaut le premier groupe. Dans ce cas, le groupe de référence était le troisième. Pour spécifier ce changement, la fonction <code><a href="https://rdrr.io/r/stats/relevel.html">relevel()</a></code> déclarera le groupe de référence. Le premier argument est la variable et l’argument <code>ref =</code> indique le nouveau groupe de référence. La fonction ne fait que reclasser les valeurs afin que le premier groupe que ne voit <strong>R</strong> ne soit nul autre que le groupe de référence. Ce changement pourrait aussi être fait directement dans le formule de <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> comme <code>lm(y ~ x * relevel(w, ref = 3), data = jd.nominale)</code></p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="mod%C3%A9rer.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Réaliser l'analyse avec lm()</span></span>
<span id="cb238-2"><a href="mod%C3%A9rer.html#cb238-2" aria-hidden="true" tabindex="-1"></a>jd.nominale<span class="sc">$</span>w <span class="ot">&lt;-</span>  <span class="fu">relevel</span>(jd.nominale<span class="sc">$</span>w, <span class="at">ref =</span> <span class="dv">3</span>)</span>
<span id="cb238-3"><a href="mod%C3%A9rer.html#cb238-3" aria-hidden="true" tabindex="-1"></a>res2.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.nominale)</span>
<span id="cb238-4"><a href="mod%C3%A9rer.html#cb238-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(res2.lm)</span>
<span id="cb238-5"><a href="mod%C3%A9rer.html#cb238-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb238-6"><a href="mod%C3%A9rer.html#cb238-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Call<span class="sc">:</span></span>
<span id="cb238-7"><a href="mod%C3%A9rer.html#cb238-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.nominale)</span>
<span id="cb238-8"><a href="mod%C3%A9rer.html#cb238-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb238-9"><a href="mod%C3%A9rer.html#cb238-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals<span class="sc">:</span></span>
<span id="cb238-10"><a href="mod%C3%A9rer.html#cb238-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>    Min     1Q Median     3Q    Max </span>
<span id="cb238-11"><a href="mod%C3%A9rer.html#cb238-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">1.690</span> <span class="sc">-</span><span class="fl">0.295</span> <span class="sc">-</span><span class="fl">0.002</span>  <span class="fl">0.297</span>  <span class="fl">1.574</span> </span>
<span id="cb238-12"><a href="mod%C3%A9rer.html#cb238-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb238-13"><a href="mod%C3%A9rer.html#cb238-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Coefficients<span class="sc">:</span></span>
<span id="cb238-14"><a href="mod%C3%A9rer.html#cb238-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>              Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb238-15"><a href="mod%C3%A9rer.html#cb238-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> (Intercept)  <span class="fl">0.000209</span>   <span class="fl">0.006202</span>    <span class="fl">0.03</span>     <span class="fl">0.97</span>    </span>
<span id="cb238-16"><a href="mod%C3%A9rer.html#cb238-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x            <span class="fl">0.259007</span>   <span class="fl">0.006139</span>   <span class="fl">42.19</span>   <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-17"><a href="mod%C3%A9rer.html#cb238-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w1           <span class="fl">0.009207</span>   <span class="fl">0.008771</span>    <span class="fl">1.05</span>     <span class="fl">0.29</span>    </span>
<span id="cb238-18"><a href="mod%C3%A9rer.html#cb238-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> w2          <span class="sc">-</span><span class="fl">0.005281</span>   <span class="fl">0.008770</span>   <span class="sc">-</span><span class="fl">0.60</span>     <span class="fl">0.55</span>    </span>
<span id="cb238-19"><a href="mod%C3%A9rer.html#cb238-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x<span class="sc">:</span>w1         <span class="fl">1.055880</span>   <span class="fl">0.008832</span>  <span class="fl">119.55</span>   <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-20"><a href="mod%C3%A9rer.html#cb238-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">:</span>w2        <span class="sc">-</span><span class="fl">1.069859</span>   <span class="fl">0.008813</span> <span class="sc">-</span><span class="fl">121.40</span>   <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-21"><a href="mod%C3%A9rer.html#cb238-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="sc">---</span></span>
<span id="cb238-22"><a href="mod%C3%A9rer.html#cb238-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb238-23"><a href="mod%C3%A9rer.html#cb238-23" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span>
<span id="cb238-24"><a href="mod%C3%A9rer.html#cb238-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb238-25"><a href="mod%C3%A9rer.html#cb238-25" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residual standard error<span class="sc">:</span> <span class="fl">0.438</span> on <span class="dv">14994</span> degrees of freedom</span>
<span id="cb238-26"><a href="mod%C3%A9rer.html#cb238-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.803</span>,   Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.803</span> </span>
<span id="cb238-27"><a href="mod%C3%A9rer.html#cb238-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> F<span class="sc">-</span>statistic<span class="sc">:</span> <span class="fl">1.22e+04</span> on <span class="dv">5</span> and <span class="dv">14994</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="er">&lt;</span><span class="fl">2e-16</span></span>
<span id="cb238-28"><a href="mod%C3%A9rer.html#cb238-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-29"><a href="mod%C3%A9rer.html#cb238-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour comparer avec aov</span></span>
<span id="cb238-30"><a href="mod%C3%A9rer.html#cb238-30" aria-hidden="true" tabindex="-1"></a>res2.aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(y <span class="sc">~</span> x <span class="sc">*</span> w, <span class="at">data =</span> jd.nominale)</span>
<span id="cb238-31"><a href="mod%C3%A9rer.html#cb238-31" aria-hidden="true" tabindex="-1"></a><span class="co"># L'intercept est inclu</span></span>
<span id="cb238-32"><a href="mod%C3%A9rer.html#cb238-32" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(res2.aov)</span>
<span id="cb238-33"><a href="mod%C3%A9rer.html#cb238-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>                Df Sum Sq Mean Sq  F value <span class="fu">Pr</span>(<span class="sc">&gt;</span>F)    </span>
<span id="cb238-34"><a href="mod%C3%A9rer.html#cb238-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x               <span class="dv">1</span>    <span class="dv">930</span>     <span class="dv">930</span>  <span class="fl">4837.35</span> <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-35"><a href="mod%C3%A9rer.html#cb238-35" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w               <span class="dv">2</span>      <span class="dv">2</span>       <span class="dv">1</span>     <span class="fl">5.13</span> <span class="fl">0.0059</span> <span class="sc">**</span> </span>
<span id="cb238-36"><a href="mod%C3%A9rer.html#cb238-36" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">:</span>w             <span class="dv">2</span>  <span class="dv">10821</span>    <span class="dv">5411</span> <span class="fl">28144.98</span> <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-37"><a href="mod%C3%A9rer.html#cb238-37" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals   <span class="dv">14994</span>   <span class="dv">2882</span>       <span class="dv">0</span>                    </span>
<span id="cb238-38"><a href="mod%C3%A9rer.html#cb238-38" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">---</span></span>
<span id="cb238-39"><a href="mod%C3%A9rer.html#cb238-39" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb238-40"><a href="mod%C3%A9rer.html#cb238-40" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span>
<span id="cb238-41"><a href="mod%C3%A9rer.html#cb238-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-42"><a href="mod%C3%A9rer.html#cb238-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Somme de carrés de type III pour `aov()`</span></span>
<span id="cb238-43"><a href="mod%C3%A9rer.html#cb238-43" aria-hidden="true" tabindex="-1"></a>res2.anova <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">Anova</span>(res2.aov, <span class="at">type =</span> <span class="st">"III"</span>)</span>
<span id="cb238-44"><a href="mod%C3%A9rer.html#cb238-44" aria-hidden="true" tabindex="-1"></a>res2.anova </span>
<span id="cb238-45"><a href="mod%C3%A9rer.html#cb238-45" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Anova <span class="fu">Table</span> (Type III tests)</span>
<span id="cb238-46"><a href="mod%C3%A9rer.html#cb238-46" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb238-47"><a href="mod%C3%A9rer.html#cb238-47" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Response<span class="sc">:</span> y</span>
<span id="cb238-48"><a href="mod%C3%A9rer.html#cb238-48" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>             Sum Sq    Df F value <span class="fu">Pr</span>(<span class="sc">&gt;</span>F)    </span>
<span id="cb238-49"><a href="mod%C3%A9rer.html#cb238-49" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> (Intercept)      <span class="dv">0</span>     <span class="dv">1</span>     <span class="fl">0.0</span>   <span class="fl">0.97</span>    </span>
<span id="cb238-50"><a href="mod%C3%A9rer.html#cb238-50" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x              <span class="dv">342</span>     <span class="dv">1</span>  <span class="fl">1779.8</span> <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-51"><a href="mod%C3%A9rer.html#cb238-51" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w                <span class="dv">1</span>     <span class="dv">2</span>     <span class="fl">1.4</span>   <span class="fl">0.25</span>    </span>
<span id="cb238-52"><a href="mod%C3%A9rer.html#cb238-52" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x<span class="sc">:</span>w          <span class="dv">10821</span>     <span class="dv">2</span> <span class="fl">28145.0</span> <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb238-53"><a href="mod%C3%A9rer.html#cb238-53" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Residuals     <span class="dv">2882</span> <span class="dv">14994</span>                   </span>
<span id="cb238-54"><a href="mod%C3%A9rer.html#cb238-54" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">---</span></span>
<span id="cb238-55"><a href="mod%C3%A9rer.html#cb238-55" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Signif. codes<span class="sc">:</span>  </span>
<span id="cb238-56"><a href="mod%C3%A9rer.html#cb238-56" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span></code></pre></div>
<p>La fonction <code><a href="https://rdrr.io/pkg/car/man/Anova.html">car::Anova()</a></code> offre un résultat différent pour <span class="math inline">\(w\)</span> et <span class="math inline">\(xw\)</span> car les groupes sont mis en commun. Autrement dit, le vecteur de groupement est analysé comme une seule variable. C’est cette statistique qui est préférée pour éviter d’augmenter l’erreur de Type I survenant lorsque le nombre de tests d’hypothèse s’accroît (par exemple, si chaque effet est testé individuellement).</p>
<p>Le type III a certainement eu un rôle intéressant dans les résultats. Il montre que <span class="math inline">\(w\)</span> n’est pas significativement lié à <span class="math inline">\(y\)</span>, <span class="math inline">\(p &lt; 0.247\)</span>, ce qui était programmé dans le modèle alors que <code><a href="https://rdrr.io/r/stats/aov.html">aov()</a></code> montre un lien significatif, <span class="math inline">\(p&lt;0.006\)</span>.</p>
<p>Pour respecter la pratique et pour imiter ce qui est fait par d’autres logiciels, il est préférable de rapporter l’effet d’interaction <code>x:w</code> de <code>res2.anova</code>, soit la sortie produite par <code><a href="https://rdrr.io/pkg/car/man/Anova.html">car::Anova()</a></code>. La valeur-<span class="math inline">\(p\)</span> de l’effet d’interaction est de <span class="math inline">\(p&lt;001\)</span>, ce qui signifie qu’il y a un effet modérateur.
Comme le cas précédent, ce résultat est ardu à interpréter. Des représentations graphiques sont d’une aide cruciale pour démêler les effets.</p>
</div>
</div>
<div id="représentations-graphiques-dune-modération" class="section level2" number="17.4">
<h2>
<span class="header-section-number">17.4</span> Représentations graphiques d’une modération<a class="anchor" aria-label="anchor" href="#repr%C3%A9sentations-graphiques-dune-mod%C3%A9ration"><i class="fas fa-link"></i></a>
</h2>
<p>À part quelques personnes ayant l’oeil affuté à l’interprétation de modèle linéaire contenant une interaction, il est rare pour tous les autres d’en tirer du sens immédiatement. Ainsi, des analyses graphiques sont plus que pertinentes pour en interpréter les résultats.</p>
<p>Deux graphiques sont particulièrement pertinents : le graphique de Johnson- Neyman et le graphique des pentes simples (<em>simple slopes</em>). Il existe quelques packages pour produire ces graphiques. Dans cet ouvrage, le package <code>interactions</code> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-interactions" role="doc-biblioref">Long, 2019</a>)</span> sera présenté. Ce package peut traiter des interactions doubles et triples et est compatible avec plusieurs commandes de <code>ggplot2</code>.</p>
<p>Pour réaliser ces graphiques, il faudra d’abord installer et importer le package.</p>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://interactions.jacob-long.com">interactions</a></span><span class="op">)</span></span></code></pre></div>
<p>À noter que le package <code>interactions</code> dépend du package <code>sandwich</code> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-Zeileis" role="doc-biblioref">Zeileis, 2006</a>)</span> qu’il faut également installé.</p>
<div id="lanalyse-des-pentes-simples" class="section level3" number="17.4.1">
<h3>
<span class="header-section-number">17.4.1</span> L’analyse des pentes simples<a class="anchor" aria-label="anchor" href="#lanalyse-des-pentes-simples"><i class="fas fa-link"></i></a>
</h3>
<p>La méthode <em>classique</em> de sonder d’approfondir un effet d’interaction consiste à calculer la pente du prédicteur à différentes valeurs du modérateur. Cette analyse se réfère à l’analyse des pentes simples. La fonction permettant de commander cette technique est <code><a href="https://interactions.jacob-long.com/reference/sim_slopes.html">sim_slopes()</a></code>. Il faut y mettre en argument la sortie de <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>, désigner le prédicteur <code>pred =</code> et le modérateur <code>modx =</code>.</p>
<p>Cette analyse est faite avec l’exemple avec la variable de groupement, <code>jd.nominale</code>. L’argument <code>johnson_neyman = FALSE</code> évite simplement un message d’erreur, car le graphique éponyme ne peut être généré lorsque le modérateur est une variable de groupement.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="mod%C3%A9rer.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Les statistiques liées aux pentes simples</span></span>
<span id="cb240-2"><a href="mod%C3%A9rer.html#cb240-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sim_slopes</span>(<span class="at">model =</span> res2.lm,</span>
<span id="cb240-3"><a href="mod%C3%A9rer.html#cb240-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">pred =</span> x,</span>
<span id="cb240-4"><a href="mod%C3%A9rer.html#cb240-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">modx =</span> w,</span>
<span id="cb240-5"><a href="mod%C3%A9rer.html#cb240-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">johnson_neyman =</span> <span class="cn">FALSE</span>)</span>
<span id="cb240-6"><a href="mod%C3%A9rer.html#cb240-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> SIMPLE SLOPES ANALYSIS </span>
<span id="cb240-7"><a href="mod%C3%A9rer.html#cb240-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb240-8"><a href="mod%C3%A9rer.html#cb240-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Slope of x when w <span class="ot">=</span> <span class="dv">2</span><span class="sc">:</span> </span>
<span id="cb240-9"><a href="mod%C3%A9rer.html#cb240-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb240-10"><a href="mod%C3%A9rer.html#cb240-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>    Est.   S.E.    t val.      p</span>
<span id="cb240-11"><a href="mod%C3%A9rer.html#cb240-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">-------</span> <span class="sc">------</span> <span class="sc">---------</span> <span class="sc">------</span></span>
<span id="cb240-12"><a href="mod%C3%A9rer.html#cb240-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   <span class="sc">-</span><span class="fl">0.81</span>   <span class="fl">0.01</span>   <span class="sc">-</span><span class="fl">128.25</span>   <span class="fl">0.00</span></span>
<span id="cb240-13"><a href="mod%C3%A9rer.html#cb240-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb240-14"><a href="mod%C3%A9rer.html#cb240-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Slope of x when w <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span> </span>
<span id="cb240-15"><a href="mod%C3%A9rer.html#cb240-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb240-16"><a href="mod%C3%A9rer.html#cb240-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   Est.   S.E.   t val.      p</span>
<span id="cb240-17"><a href="mod%C3%A9rer.html#cb240-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">------</span> <span class="sc">------</span> <span class="sc">--------</span> <span class="sc">------</span></span>
<span id="cb240-18"><a href="mod%C3%A9rer.html#cb240-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   <span class="fl">1.31</span>   <span class="fl">0.01</span>   <span class="fl">207.10</span>   <span class="fl">0.00</span></span>
<span id="cb240-19"><a href="mod%C3%A9rer.html#cb240-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb240-20"><a href="mod%C3%A9rer.html#cb240-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Slope of x when w <span class="ot">=</span> <span class="dv">3</span><span class="sc">:</span> </span>
<span id="cb240-21"><a href="mod%C3%A9rer.html#cb240-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb240-22"><a href="mod%C3%A9rer.html#cb240-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   Est.   S.E.   t val.      p</span>
<span id="cb240-23"><a href="mod%C3%A9rer.html#cb240-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">------</span> <span class="sc">------</span> <span class="sc">--------</span> <span class="sc">------</span></span>
<span id="cb240-24"><a href="mod%C3%A9rer.html#cb240-24" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   <span class="fl">0.26</span>   <span class="fl">0.01</span>    <span class="fl">42.19</span>   <span class="fl">0.00</span></span></code></pre></div>
<p>Ce tableau pour les groupes de <span class="math inline">\(w\)</span> si l’effet modérateur est significatif.</p>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Le graphique des pentes simples</span></span>
<span><span class="fu"><a href="https://interactions.jacob-long.com/reference/interact_plot.html">interact_plot</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">res2.lm</span>,</span>
<span>              pred <span class="op">=</span> <span class="va">x</span>,</span>
<span>              modx <span class="op">=</span> <span class="va">w</span>, </span>
<span>              plot.points <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ip1"></span>
<img src="17-Moderer_files/figure-html/ip1-1.png" alt="Analyse de pentes simples pour un modérateur nominal" width="672"><p class="caption">
Figure 17.3: Analyse de pentes simples pour un modérateur nominal
</p>
</div>
<p>Le code ci-dessus illustre ce patron de différences avec la Figure <a href="mod%C3%A9rer.html#fig:ip1">17.3</a>. L’axe des <span class="math inline">\(x\)</span> et des <span class="math inline">\(y\)</span> montrent la relation entre les variables en fonction des groupes qui sont représentées par des lignes différentes. L’option <code>plot.point = TRUE</code> affiche optionnellement les données dans la figure. La Figure <a href="mod%C3%A9rer.html#fig:ip1">17.3</a> montre une tendance positive entre <span class="math inline">\(x\)</span> et <span class="math inline">\(y\)</span> pour le groupe de référence (<code>3</code>) qui s’accentue de façon importante pour le groupe (<code>1</code>), mais qui s’inverse pour le groupe <code>2</code>.</p>
<p>Le graphique des pentes peut aussi être réalisé pour un modérateur continu. La Figure <a href="mod%C3%A9rer.html#fig:ip2">17.4</a> illustre ce graphique. Lorsque le modérateur représente des groupes, les niveaux sont clairement définis. Dans le cas d’un modérateur continu, des niveaux arbitraire doivent être sélectionnés.</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://interactions.jacob-long.com/reference/interact_plot.html">interact_plot</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">res1.lm</span>,</span>
<span>              pred <span class="op">=</span> <span class="va">x</span>,</span>
<span>              modx <span class="op">=</span> <span class="va">w</span>, </span>
<span>              plot.points <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ip2"></span>
<img src="17-Moderer_files/figure-html/ip2-1.png" alt="Analyses des pentes simples pour un modérateur continu" width="672"><p class="caption">
Figure 17.4: Analyses des pentes simples pour un modérateur continu
</p>
</div>
<p>Par défaut, l’analyse est réalisée avec <span class="math inline">\(-1\)</span> écart type, la moyenne et <span class="math inline">\(+1\)</span> écart type comme groupement de <span class="math inline">\(w\)</span>. Ces valeurs peuvent être choisies manuellement avec <code>modx.values =</code> en y spécifiant les valeurs d’intérêt. En plus, cet argument est compatible non seulement avec <code><a href="https://interactions.jacob-long.com/reference/interact_plot.html">interact_plot()</a></code> et <code><a href="https://interactions.jacob-long.com/reference/sim_slopes.html">sim_slopes()</a></code>. La Figure <a href="mod%C3%A9rer.html#fig:ip3">17.5</a> montre l’analyse des pentes pour des valeurs de <code>modx.values = c(-2, -1, 0, 1, 2)</code>.</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://interactions.jacob-long.com/reference/interact_plot.html">interact_plot</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">res1.lm</span>,</span>
<span>              pred <span class="op">=</span> <span class="va">x</span>,</span>
<span>              modx <span class="op">=</span> <span class="va">w</span>, </span>
<span>              plot.points <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              modx.values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ip3"></span>
<img src="17-Moderer_files/figure-html/ip3-1.png" alt="Analyses des pentes simples pour un modérateur continu" width="672"><p class="caption">
Figure 17.5: Analyses des pentes simples pour un modérateur continu
</p>
</div>
</div>
<div id="le-graphique-de-johnson-neyman" class="section level3" number="17.4.2">
<h3>
<span class="header-section-number">17.4.2</span> Le graphique de Johnson-Neyman<a class="anchor" aria-label="anchor" href="#le-graphique-de-johnson-neyman"><i class="fas fa-link"></i></a>
</h3>
<p>Lorsque le modérateur est continu, la méthode la plus rigoureuse d’explorer des effets modérateurs est de calculer l’intervalle de Johnson-Neyman qui indique la plage de valeurs du modérateur selon lesquelles la pente du prédicteur est significative ou non pour un seuil <span class="math inline">\(\alpha\)</span> spécifié. Comme les deux variables doivent être continues, c’est le jeu de données <code>jd.continue</code> qui sera utilisé pour cet exemple.</p>
<p>La fonction <code><a href="https://interactions.jacob-long.com/reference/sim_slopes.html">sim_slopes()</a></code> génère l’analyse des pentes simples, mais produit également l’intervalle de Johnson-Neyman et le graphique associé. La fonction est utilisée comme précédemment, à l’exception qu’il est possible de demander comme argument <code>jnplot = TRUE</code> pour obtenir le graphique Johnson-Neyman et qu’il n’est plus nécessaire de commander <code>johnson_neyman = FALSE</code> évite un message d’erreur.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="mod%C3%A9rer.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sim_slopes</span>(<span class="at">model =</span> res1.lm,</span>
<span id="cb244-2"><a href="mod%C3%A9rer.html#cb244-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">pred =</span> x,</span>
<span id="cb244-3"><a href="mod%C3%A9rer.html#cb244-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">modx =</span> w, </span>
<span id="cb244-4"><a href="mod%C3%A9rer.html#cb244-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">jnplot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb244-5"><a href="mod%C3%A9rer.html#cb244-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> JOHNSON<span class="sc">-</span>NEYMAN INTERVAL </span>
<span id="cb244-6"><a href="mod%C3%A9rer.html#cb244-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb244-7"><a href="mod%C3%A9rer.html#cb244-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> When w is OUTSIDE the interval [<span class="sc">-</span><span class="fl">0.53</span>, <span class="fl">0.00</span>], the slope</span>
<span id="cb244-8"><a href="mod%C3%A9rer.html#cb244-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> of x is p <span class="sc">&lt;</span> .<span class="fl">05.</span></span>
<span id="cb244-9"><a href="mod%C3%A9rer.html#cb244-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb244-10"><a href="mod%C3%A9rer.html#cb244-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> Note<span class="sc">:</span> The range of observed values of w is [<span class="sc">-</span><span class="fl">3.00</span>, <span class="fl">3.20</span>]</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:jn1"></span>
<img src="17-Moderer_files/figure-html/jn1-1.png" alt="Le graphique Johnson-Neyman pour interpréter les effets modérateurs" width="672"><p class="caption">
Figure 17.6: Le graphique Johnson-Neyman pour interpréter les effets modérateurs
</p>
</div>
<pre><code>&gt; SIMPLE SLOPES ANALYSIS 
&gt; 
&gt; Slope of x when w = -1.100 (- 1 SD): 
&gt; 
&gt;    Est.   S.E.   t val.      p
&gt; ------- ------ -------- ------
&gt;   -0.31   0.06    -5.08   0.00
&gt; 
&gt; Slope of x when w = -0.075 (Mean): 
&gt; 
&gt;   Est.   S.E.   t val.      p
&gt; ------ ------ -------- ------
&gt;   0.07   0.05     1.38   0.17
&gt; 
&gt; Slope of x when w =  0.950 (+ 1 SD): 
&gt; 
&gt;   Est.   S.E.   t val.      p
&gt; ------ ------ -------- ------
&gt;   0.44   0.06     7.18   0.00</code></pre>
<p>La Figure <a href="mod%C3%A9rer.html#fig:jn1">17.6</a> montre le graphique Johnson-Neyman. La zone bleue indique le niveau de modérateur où l’effet de <span class="math inline">\(x\)</span> est significativement différent de la pente de <span class="math inline">\(x\)</span> lorsque l’effet du modérateur est nul. La zone rouge montre l’étendue où il n’y a pas d’effet de modération. L’étendue est également précisée dans la première phrase imprimée de la sortie. La sortie a également produit la sortie de l’analyse de pentes simples ou l’information obtenue du graphique Johnson-Neyman est répétée d’une façon différente.</p>
<p>Dans cet exemple, plus l’unité à un niveau de modérateur élevé (en termes absolus), plus il accentue l’effet de la variable indépendante (zones bleues). Le modérateur joue donc un rôle très important dans ce modèle.</p>
<!-- ## TODO  AJOUTER INTERPÉTATION STAT -->
</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="m%C3%A9dier.html"><span class="header-section-number">16</span> Médier</a></div>
<div class="next"><a href="exercice-lineaire.html">Exercices</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#mod%C3%A9rer"><span class="header-section-number">17</span> Modérer</a></li>
<li><a class="nav-link" href="#lanalyse-de-mod%C3%A9ration"><span class="header-section-number">17.1</span> L’analyse de modération</a></li>
<li>
<a class="nav-link" href="#cr%C3%A9ation-de-donn%C3%A9es"><span class="header-section-number">17.2</span> Création de données</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#un-mod%C3%A9rateur-continu"><span class="header-section-number">17.2.1</span> Un modérateur continu</a></li>
<li><a class="nav-link" href="#un-mod%C3%A9rateur-nominal"><span class="header-section-number">17.2.2</span> Un modérateur nominal</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#d%C3%A9tecter-leffet-de-mod%C3%A9ration"><span class="header-section-number">17.3</span> Détecter l’effet de modération</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#analyse-dun-mod%C3%A9rateur-continu"><span class="header-section-number">17.3.1</span> Analyse d’un modérateur continu</a></li>
<li><a class="nav-link" href="#analyse-dun-mod%C3%A9rateur-nominal"><span class="header-section-number">17.3.2</span> Analyse d’un modérateur nominal</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#repr%C3%A9sentations-graphiques-dune-mod%C3%A9ration"><span class="header-section-number">17.4</span> Représentations graphiques d’une modération</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#lanalyse-des-pentes-simples"><span class="header-section-number">17.4.1</span> L’analyse des pentes simples</a></li>
<li><a class="nav-link" href="#le-graphique-de-johnson-neyman"><span class="header-section-number">17.4.2</span> Le graphique de Johnson-Neyman</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/17-Moderer.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/17-Moderer.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2023-03-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
