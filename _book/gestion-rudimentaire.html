<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 4 Gestion rudimentaire | Méthodes Quantitatives avec R</title>
<meta name="author" content="P.-O. Caron">
<meta name="description" content="Réaliser des analyses statistiques et des représentations graphiques nécessitent un jeu de données sur lequel travailler. Après l’ouverture de R, l’usager remarquera aisément que le logiciel n’est...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content=" 4 Gestion rudimentaire | Méthodes Quantitatives avec R">
<meta property="og:type" content="book">
<meta property="og:url" content="mqr.teluq.ca/gestion-rudimentaire.html">
<meta property="og:description" content="Réaliser des analyses statistiques et des représentations graphiques nécessitent un jeu de données sur lequel travailler. Après l’ouverture de R, l’usager remarquera aisément que le logiciel n’est...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 4 Gestion rudimentaire | Méthodes Quantitatives avec R">
<meta name="twitter:description" content="Réaliser des analyses statistiques et des représentations graphiques nécessitent un jeu de données sur lequel travailler. Après l’ouverture de R, l’usager remarquera aisément que le logiciel n’est...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Méthodes Quantitatives avec R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenue!</a></li>
<li><a class="" href="pr%C3%A9face.html">Préface</a></li>
<li class="book-part">Les rudiments</li>
<li><a class="" href="commencer.html"><span class="header-section-number">1</span> Commencer</a></li>
<li><a class="" href="programmer.html"><span class="header-section-number">2</span> Programmer</a></li>
<li><a class="" href="fonctions-statistiques-essentielles.html"><span class="header-section-number">3</span> Fonctions statistiques essentielles</a></li>
<li><a class="" href="exercice-rudiments.html">Exercices</a></li>
<li class="book-part">Importation, gestion et visualisation de jeux de données</li>
<li><a class="active" href="gestion-rudimentaire.html"><span class="header-section-number">4</span> Gestion rudimentaire</a></li>
<li><a class="" href="importation.html"><span class="header-section-number">5</span> Importation</a></li>
<li><a class="" href="manipulation-avanc%C3%A9e.html"><span class="header-section-number">6</span> Manipulation avancée</a></li>
<li><a class="" href="visualisation.html"><span class="header-section-number">7</span> Visualisation</a></li>
<li><a class="" href="exercice-gestion.html">Exercices</a></li>
<li class="book-part">Les tests d’hypothèses</li>
<li><a class="" href="inf%C3%A9rences.html"><span class="header-section-number">8</span> Inférences</a></li>
<li><a class="" href="exercice-inferences.html">Exercices</a></li>
<li><a class="" href="solutions.html">Solutions</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">Références</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/quantmeth/MQR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="gestion-rudimentaire" class="section level1" number="4">
<h1>
<span class="header-section-number"> 4</span> Gestion rudimentaire<a class="anchor" aria-label="anchor" href="#gestion-rudimentaire"><i class="fas fa-link"></i></a>
</h1>
<p>Réaliser des analyses statistiques et des représentations graphiques nécessitent un jeu de données sur lequel travailler. Après l’ouverture de <strong>R</strong>, l’usager remarquera aisément que le logiciel n’est pas un tableur (tableau de données), contrairement aux logiciels traditionnels. Cette caractéristique l’a peut-être même frappé à la première ouverture! Pour utiliser données, il faudra les conserver dans un fichier externe de la même façon qu’un script, à l’exception qu’il faudra importer les données pour son utilisation.</p>
<p>Un jeu de données porte généralement les extensions “.Rdata”, lorsqu’elles proviennent de <strong>R</strong>, ou d’extensions “.dat” et “.txt”. Évidemment, <strong>R</strong> permet une grande flexibilité, il est ainsi possible d’exporter et d’importer dans d’autres extensions.</p>
<p>Les extensions “.Rdata” sont des environnements <strong>R</strong>, elles contiennent potentiellement plusieurs variables, comme une séance de travail complète. Elles ont aussi l’avantage que, si l’utilisateur double-clique sur un fichier d’extension “.Rdata”, celui-ci s’ouvre automatiquement dans l’environnement <strong>R</strong>.</p>
<p>Il est recommandé de ne jamais manipuler les fichiers de données une fois toutes les vérifications réalisées (absence d’erreur dans les données). Il ne sera jamais nécessaire de modifier ces fichiers avec <strong>R</strong>. Contrairement aux logiciels traditionnels dans lesquels les modifications sont apportées directement aux valeurs ou ajoutées aux fichiers, cela n’est pas nécessaire dans la mesure où les syntaxes décrivant ces manipulations sont conservées. Il devient impossible d’endommager, de corrompre ou d’altérer le fichier de données. Les données originales restent intactes. Il suffit de les importer puis de commander la syntaxe qui lui est associée pour obtenir de nouveau la version <em>propre</em> du jeu de données.</p>
<div id="quelques-conseils-de-gestion" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Quelques conseils de gestion<a class="anchor" aria-label="anchor" href="#quelques-conseils-de-gestion"><i class="fas fa-link"></i></a>
</h2>
<p>Voici quelques conseils pour la gestion le jeu de données.</p>
<ul>
<li><p>Éviter les noms trop longs ou trop courts et dépourvus de signification. Cela augmente le risque d’erreur. L’utilisation de huit caractères ou moins est une bonne recommandation (quoique ce n’est pas une règle!). Pour conserver plus de renseignements, utiliser les commentaires de la syntaxe.</p></li>
<li><p>Éviter les espaces entre les mots. Cela peut être interprété erronément comme deux éléments. À la place, collez les mots et distinguer-les avec des majuscules (MaFonction), utiliser le tiret bas (ma_fonction) ou un point (ma.fonction).</p></li>
<li><p>Éviter les espaces ou les vides dans les données. Cela peut être interprété comme des données (absentes) ou non.</p></li>
<li><p>Éviter les symboles suivants <code>?, $, %, ^, &amp;, *, (, ), -, #, ?, , , &lt;, &gt;, /, |, \, [, ], {</code> et <code>}</code> qui peuvent erronément être interprétés comme de la syntaxe autant dans les noms de variables que dans les données.</p></li>
<li><p>Vérifier que les valeurs manquantes sont identifiées <code>NA</code>.</p></li>
<li><p>Si les données proviennent d’un autre logiciel, vérifier la présence de commentaires qui pourraient occasionner des lignes ou colonnes supplémentaires et ainsi corrompre le jeu de données.</p></li>
<li><p>Vérifier que l’exportation et l’importation se sont bien déroulées.</p></li>
</ul>
</div>
<div id="voir-la-base-de-données" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Voir la base de données<a class="anchor" aria-label="anchor" href="#voir-la-base-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Il est possible de voir les données en utilisant la fonction <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> et en y insérant le nom de la variable. Le logiciel afficher un tableur avec les données, dont il sera impossible de modifier les valeurs. Cela peut être utile pour s’assurer que le jeu de données est en ordre, bien importé, ou le consulter.</p>
</div>
<div id="sauvegarder-un-jeu-de-données" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Sauvegarder un jeu de données<a class="anchor" aria-label="anchor" href="#sauvegarder-un-jeu-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Si un jeu de données est directement créé avec <strong>R</strong>, par exemple, les jeux de données artificiels, il est possible de les sauvegarder avec la fonction <code><a href="https://rdrr.io/r/base/save.html">save()</a></code> qui enregistre une variable dans un fichier.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="st">"variable"</span>, file <span class="op">=</span> <span class="st">"fichier.Rdata"</span><span class="op">)</span></code></pre></div>
<p>Il est possible à la fin d’une session de travail de sauvegarder l’environnement dans un fichier <code><a href="https://rdrr.io/r/base/save.html">save.image()</a></code>. Ainsi, toutes les variables et fonctions maison sont conservées pour une future utilisation.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/save.html">save.image</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"SessionTravail.Rdata"</span><span class="op">)</span></code></pre></div>
</div>
<div id="jeux-de-données-provenant-de-r-et-de-packages" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Jeux de données provenant de <strong>R</strong> et de packages<a class="anchor" aria-label="anchor" href="#jeux-de-donn%C3%A9es-provenant-de-r-et-de-packages"><i class="fas fa-link"></i></a>
</h2>
<p>Plusieurs packages offrent en plus des fonctions des jeux de données. Mieux encore! <strong>R</strong> offre des jeux de données inclus avec le logiciel. La fonction <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code> permet de voir la liste des jeux de données disponibles. Taper simplement le nom du jeu de données permet de l’utiliser, comme s’il avait été déclaré auparavant.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span>
<span class="co">#&gt;   speed dist</span>
<span class="co">#&gt; 1     4    2</span>
<span class="co">#&gt; 2     4   10</span>
<span class="co">#&gt; 3     7    4</span>
<span class="co">#&gt; 4     7   22</span>
<span class="co">#&gt; 5     8   16</span>
<span class="co">#&gt; 6     9   10</span></code></pre></div>
<p>La fonction <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> introduite ici donne simplement un aperçu des six premières lignes du jeu de données pour ne pas afficher le jeu de données complet (ce qui prendrait beaucoup d’espace inutilement.</p>
<p>Pour consulter tous les jeux de données des packages importés, il est possible d’utiliser cette ligne de code.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span>package <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/zpackages.html">.packages</a></span><span class="op">(</span><span class="op">(</span><span class="va">all.available</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Pour utiliser ces jeux, il faut rendre actif le package associé avec la fonction <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>.</p>
</div>
<div id="création-des-jeux-de-données-artificielles" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Création des jeux de données artificielles<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-des-jeux-de-donn%C3%A9es-artificielles"><i class="fas fa-link"></i></a>
</h2>
<p>Une façon rudimentaire et efficace d’obtenir des données avec <strong>R</strong> est de les créer à l’aide des fonctions génératrices de données pseudoaléatoires.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Pour la reproductibilité</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">142</span><span class="op">)</span>
<span class="co"># Nombre d'unité</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">30</span>
<span class="co"># Identifiant</span>
<span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span>

<span class="co"># Variables</span>
<span class="va">sexe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">n</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>
<span class="va">QI</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">30</span>, mean <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> <span class="op">-</span> <span class="fl">5</span> <span class="op">*</span> <span class="va">sexe</span><span class="op">)</span>
<span class="co"># Être "1" soustrait  5 points au QI en moyenne</span>
<span class="co"># Arrondi avec round()</span>

<span class="co"># Création de le jeu de donnees</span>
<span class="va">donnees</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">id</span>, sexe <span class="op">=</span> <span class="va">sexe</span>, QI <span class="op">=</span> <span class="va">QI</span><span class="op">)</span>
<span class="co"># Enregistrement</span>
<span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">donnees</span>, file <span class="op">=</span> <span class="st">"donnees.Rdata"</span><span class="op">)</span></code></pre></div>
<p>Et voilà un jeu de données simple et sauvegardé dans le dossier de travail auquel il sera possible de se référer.</p>
<p>Ici, deux nouvelles fonctions sont employées : <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code> arrondie les valeurs à l’unité et <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> crée un le jeu de données. L’utilisation des <code>=</code> permet de directement nommer les variables.</p>
<div id="jeux-de-données-provenant-de-ibm-spss" class="section level3" number="4.5.1">
<h3>
<span class="header-section-number">4.5.1</span> Jeux de données provenant de IBM SPSS<a class="anchor" aria-label="anchor" href="#jeux-de-donn%C3%A9es-provenant-de-ibm-spss"><i class="fas fa-link"></i></a>
</h3>
<p>Il est possible d’importer des données de IBM SPSS vers <strong>R</strong>. il faudra quelques manipulations préalables. En ayant le fichier de données IBM SPSS ouvert, il faut cliquer sur “Enregistrer sous” sous le menu déroulant “Fichier”. Par défaut, IBM SPSS choisira toutes les variables, mais il est possible de sélectionner seulement les variables d’intérêt en décochant les variables qu’il n’est pas nécessaire de conserver. Ensuite, sélectionner le type de fichier de sauvegarde doit être “Tabulé (*.dat)“. IBM SPSS offre également la possibilité d’enregistrer les noms de variables (première option à cocher) et les libellés de valeur. Il suffit maintenant de nommer le fichier et de cliquer sur l’onglet”Enregister”.</p>
<p>En s’assurant que nouveau fichier se trouve dans le répertoire actif de <strong>R</strong>, il suffit de télécharger le fichier.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"donnees.tab"</span>, header <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>L’option <code>header</code> devrait être <code>FALSE</code> si les noms de variables n’ont pas été conservés (première ligne du fichier) .</p>
</div>
<div id="jeux-de-données-provenant-de-microsoft-excel" class="section level3" number="4.5.2">
<h3>
<span class="header-section-number">4.5.2</span> Jeux de données provenant de Microsoft Excel<a class="anchor" aria-label="anchor" href="#jeux-de-donn%C3%A9es-provenant-de-microsoft-excel"><i class="fas fa-link"></i></a>
</h3>
<p>Fichier sous le menu déroulant. Sélectionner comme type de fichier “Texte Unicode (*.txt)“. Intituler le fichier, puis cliquer sur”Enregister”.</p>
<p>Microsoft Excel sauvegardera l’entièreté de la page active. Il est donc pertinent de créer une feuille Microsoft Excel contenant que les informations à conserver.</p>
<p>Par la suite, en s’assurant que nouveau fichier se trouve dans le répertoire actif de <strong>R</strong>, il suffit de télécharger le fichier avec <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> et les arguments convenant au jeu de données.</p>
</div>
<div id="importation-de-jeux-de-données-avec-rstudio." class="section level3" number="4.5.3">
<h3>
<span class="header-section-number">4.5.3</span> Importation de jeux de données avec <strong>R</strong>Studio.<a class="anchor" aria-label="anchor" href="#importation-de-jeux-de-donn%C3%A9es-avec-rstudio."><i class="fas fa-link"></i></a>
</h3>
<p><strong>R</strong>Studio offre une interface simple pour télécharger directement un jeu de de données IBM SPSS, Microsoft Excel, SAS, STATA, et des extensions “.txt” et “.readr”. Il y a même un outil de visualisation pour s’assurer que le tout est en ordre.</p>
<blockquote>
<p>File
Import dataset
From “format de fichier”</p>
</blockquote>
<p>où “format de fichier” remplace Text, SPSS, Excel et les autres. En indiquant le chemin du fichier, <strong>R</strong> importera le fichier et fournira une syntaxe afin de conserver l’importation pour de futurs usages.</p>
</div>
</div>
<div id="manipulation-de-données" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Manipulation de données<a class="anchor" aria-label="anchor" href="#manipulation-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>Les tableaux ont généralement deux dimensions (lignes par colonnes). Différents éléments ou groupes d’éléments peuvent être extraits des jeux de données. Plusieurs méthodes peuvent être utiliser en fonction des besoins. Le jeu de données <code>cars</code> sera utilisé à des fins illustratives.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span>
<span class="co">#&gt;   speed dist</span>
<span class="co">#&gt; 1     4    2</span>
<span class="co">#&gt; 2     4   10</span>
<span class="co">#&gt; 3     7    4</span>
<span class="co">#&gt; 4     7   22</span>
<span class="co">#&gt; 5     8   16</span>
<span class="co">#&gt; 6     9   10</span></code></pre></div>
<p>Elle contient 50 unités d’observation (lignes) et deux variables (colonnes), soit la vitesse (<em>speed</em>) et la distance (<em>dist</em>).</p>
<div id="référer-à-une-variable-dans-un-jeu-de-données" class="section level3" number="4.6.1">
<h3>
<span class="header-section-number">4.6.1</span> Référer à une variable dans un jeu de données<a class="anchor" aria-label="anchor" href="#r%C3%A9f%C3%A9rer-%C3%A0-une-variable-dans-un-jeu-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h3>
<p>Il est possible de référer à une variable soit en utilisant l’emplacement de la variable par rapport aux autres en utilisant les crochets ou en utilisant le signe <code>$</code> puis le nom de la variable après le libellé de le jeu de données. L’opération est fort simple avec le symbole <code>$</code>.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Avec $</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">$</span><span class="va">dist</span><span class="op">)</span>
<span class="co">#&gt; [1]  2 10  4 22 16 10</span></code></pre></div>
<p>Précédemment utilisés pour extraire des valeurs dans une variable unidimensionnelle, les <code>[]</code> peuvent extraire des données sur un tableau en deux dimensions (ligne par colonne). Il faut spécifier la ou les lignes désirées, puis la ou les colonnes désirées entre crochets. Laissez une des dimensions en blanc (vide) indique au logiciel de rapporter toutes les valeurs. Par exemple, pour obtenir le même résultat, <code>dist</code> est la deuxième colonne. Il faut référer entre crochets à la colonne <span class="math inline">\(2\)</span> et comme toutes les lignes sont désirées, cette dimension reste vide.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Entre crochets</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1]  2 10  4 22 16 10</span></code></pre></div>
<p>Il est possible de faire la même chose avec les lignes.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Entre crochets</span>
<span class="va">cars</span><span class="op">[</span><span class="fl">4</span>,<span class="op">]</span>
<span class="co">#&gt;   speed dist</span>
<span class="co">#&gt; 4     7   22</span></code></pre></div>
<p>Ici, toutes les variables de la 4<sup>e</sup> unité sont rapportée. Remarquer bien l’absence d’argument après la virgule. La fonction <code>head</code> n’est pas nécessaire ici, car il y a peu d’informations à extraire.</p>
<p>Si certaines valeurs spécifiques étaient désirées, comme la valeur de la 4<sup>e</sup> unité pour la 2<sup>e</sup> variable.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Entre crochets</span>
<span class="va">cars</span><span class="op">[</span><span class="fl">4</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; [1] 22</span></code></pre></div>
<p>Enfin, à l’intérieur d’un jeu de données, les variables peuvent être commandées avec le signe de <code>$</code> placé après le nom de la variable suivi du nom de la variable ou encore en identifiant les noms de variables entre crochets.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Utilisation du signe $</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">$</span><span class="va">speed</span><span class="op">)</span>
<span class="co">#&gt; [1] 4 4 7 7 8 9</span>

<span class="co"># Nommer entre crochets</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">[</span><span class="st">"speed"</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;   speed</span>
<span class="co">#&gt; 1     4</span>
<span class="co">#&gt; 2     4</span>
<span class="co">#&gt; 3     7</span>
<span class="co">#&gt; 4     7</span>
<span class="co">#&gt; 5     8</span>
<span class="co">#&gt; 6     9</span></code></pre></div>
</div>
<div id="référer-à-un-sous-ensemble-dunité." class="section level3" number="4.6.2">
<h3>
<span class="header-section-number">4.6.2</span> Référer à un sous-ensemble d’unité.<a class="anchor" aria-label="anchor" href="#r%C3%A9f%C3%A9rer-%C3%A0-un-sous-ensemble-dunit%C3%A9."><i class="fas fa-link"></i></a>
</h3>
<p>Pour référer à des unités ayant certaines caractéristiques, la fonction <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> peut s’avérer utile. Les arguments sont un jeu de données, le deuxième est un opérateur logique en lien avec une variable du jeu de données.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Extraire les données pour toutes les unités ayant une vitesse égale à 24</span>
<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">cars</span>, <span class="va">speed</span> <span class="op">==</span> <span class="fl">24</span><span class="op">)</span>
<span class="co">#&gt;    speed dist</span>
<span class="co">#&gt; 46    24   70</span>
<span class="co">#&gt; 47    24   92</span>
<span class="co">#&gt; 48    24   93</span>
<span class="co">#&gt; 49    24  120</span></code></pre></div>
<p>Cette fonction est utile s’il faut extraire les données d’un certain sexe, par exemple.</p>
<div id="nommer-des-variables-dans-un-jeu-de-données" class="section level4" number="4.6.2.1">
<h4>
<span class="header-section-number">4.6.2.1</span> Nommer des variables dans un jeu de données<a class="anchor" aria-label="anchor" href="#nommer-des-variables-dans-un-jeu-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h4>
<p>Il est possible d’attribuer ou de modifier des noms à des colonnes ou des lignes d’un tableau de données. Les fonctions <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> et <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> seront alors utilisées. Contrairement aux autres fonctions, celles-ci se retrouvent à gauche de l’équation.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"vitesse"</span>, <span class="st">"distance"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span>
<span class="co">#&gt;   vitesse distance</span>
<span class="co">#&gt; 1       4        2</span>
<span class="co">#&gt; 2       4       10</span>
<span class="co">#&gt; 3       7        4</span>
<span class="co">#&gt; 4       7       22</span>
<span class="co">#&gt; 5       8       16</span>
<span class="co">#&gt; 6       9       10</span></code></pre></div>
<p>Il importe de fournir autant de noms qu’il y a de colonnes (ou lignes), et ce, en chaîne de caractères.</p>
</div>
</div>
<div id="données-manquantes" class="section level3" number="4.6.3">
<h3>
<span class="header-section-number">4.6.3</span> Données manquantes<a class="anchor" aria-label="anchor" href="#donn%C3%A9es-manquantes"><i class="fas fa-link"></i></a>
</h3>
<p>Les devis de recherche et les jeux de données empiriques sont rarement parfaits et peuvent souvent contenir des données manquantes. <strong>R</strong> reconnaît les données manquantes lorsqu’elles sont identifiées comme <code>NA</code> (<em>not available</em>). Plusieurs méthodes permettent de gérer les données manquantes. La méthode la plus simple est d’éliminer les unités ayant une donnée manquante, soit la suppression par liste (<em>listwise suppression</em>). Les fonctions natives de <strong>R</strong> recourront à l’argument <code>na.rm = TRUE</code>. Si cela est impossible, la fonction <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> permettra de créer des jeux de données sans les valeurs manquantes.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">valeurs</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">14</span>, <span class="cn">NA</span>, <span class="fl">18</span><span class="op">)</span>
<span class="co"># La présence de NA empêche la moyenne d'être calculée</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">valeurs</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span>
<span class="co"># L'argument "na.rm = TRUE" gère les NA</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">valeurs</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 14</span>
<span class="co"># na.omit omet les valeurs NA dans la nouvelle variable.</span>
<span class="va">valeurs.nettoyees</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">valeurs</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">valeurs.nettoyees</span><span class="op">)</span>
<span class="co">#&gt; [1] 14</span></code></pre></div>
</div>
</div>
<div id="entrée-de-données" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Entrée de données<a class="anchor" aria-label="anchor" href="#entr%C3%A9e-de-donn%C3%A9es"><i class="fas fa-link"></i></a>
</h2>
<p>S’il y a bien une caractéristique de <strong>R</strong> qui rebute les nouveaux utilisateurs, c’est certainement que le logiciel ne soit pas prévu pour la saisie de données ou du moins que cela ne soit pas mis à l’avant-plan. Lorsque le logiciel s’ouvre, que ce soit <strong>R</strong> ou <strong>R</strong>Studio, l’aspect <em>table de données</em> n’existe pas. L’utilisateur pour qui il s’agit de sa première utilisation (et habitué à des logiciels traditionnels) reste pantois : où les données sont-elles entrées?</p>
<div id="entrée-de-données-avec-data.entry-r-de-base" class="section level3" number="4.7.1">
<h3>
<span class="header-section-number">4.7.1</span> Entrée de données avec <code>data.entry()</code> (R de base)<a class="anchor" aria-label="anchor" href="#entr%C3%A9e-de-donn%C3%A9es-avec-data.entry-r-de-base"><i class="fas fa-link"></i></a>
</h3>
<p>De base, <strong>R</strong> offre la possibilité d’entrer des données dans un tableur avec la commande <code>jd = data.entry()</code>. Si une base de données est demandée comme argument (p. ex., <code>data.entry(data = jd)</code>), alors le jeu de données est ouvert. Il est aussi possible d’ouvrir le fichier avec des variables déjà créées avec <strong>R</strong>. Si un tableur vierge est désiré, alors taper <code>data.entry(1)</code> dans la console ouvrira le tableur avec une seule valeur (<code>1</code>), L’utilisateur peut alors modifier les noms de colonnes et entrer les données comme il le ferait avec un logiciel traditionnel. Comme il est possible de le voir à la Figure <a href="gestion-rudimentaire.html#fig:dataentry">4.1</a>, l’interface est bien moins attrayante que ses compétiteurs.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dataentry"></span>
<img src="image/data_entry.png" alt="Ouverture du tableur R" width="75%"><p class="caption">
Figure 4.1: Ouverture du tableur R
</p>
</div>
<p>Lorsque l’entrée de données est terminée, l’utilisateur doit sauvegarder le jeu de données ou l’environnement de travail qui pourront être importés pour de futures utilisations ou entrées. En général, l’utilisateur qui entre manuellement ces données préférera certainement un autre tableur, mais <strong>R</strong> est certainement en mesure de faire ce travail.</p>
</div>
<div id="entrée-de-données-avec-data_edit-package-dataeditr" class="section level3" number="4.7.2">
<h3>
<span class="header-section-number">4.7.2</span> Entrée de données avec <code>data_edit</code> (package <code>DataEditR</code>)<a class="anchor" aria-label="anchor" href="#entr%C3%A9e-de-donn%C3%A9es-avec-data_edit-package-dataeditr"><i class="fas fa-link"></i></a>
</h3>
<p>Depuis tout récemment (juillet 2021), il existe un package qui permet de faire l’entrée de données en tableur avec <strong>R</strong>. Il s’agit du package <code>DataEditR</code> <span class="citation">(<a href="r%C3%A9f%C3%A9rences.html#ref-DataEditR" role="doc-biblioref">Hammill, 2021</a>)</span>, une interface utilisateur graphique. Il résout l’un de plus grands défis lorsqu’un utilisateur migre des tableurs traditionnels vers <strong>R</strong>, c’est-à-dire d’accomplir la transition d’une feuille de calcul interactive où il est possible de pointer et cliquer pour modifier, ajouter, supprimer des donnes vers un mode strict de syntaxe.</p>
<p>Pour démarrer, il faut d’abord installer le package, puis l’appeler. Pour commencer à entrer des données, la syntaxe <code>data_edit()</code> est suffisante. Pour ouvrir un jeu de données, il suffit de l’ajouter en argument <code>data_edit(jd)</code>.</p>
<p>Une fois l’interface ouvert, il est possible de manipuler le jeu de données avec les options affichés et avec le clic droit qui permettra notamment d’ajouter des lignes et des colonnes.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Pour installer le package</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"DataEditR"</span><span class="op">)</span>

<span class="co"># Pour rendre la package accessible</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/DillonHammill/DataEditR">"DataEditR"</a></span><span class="op">)</span>

<span class="co"># La fonction</span>
<span class="fu">data_edit</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Il est recommandé de ne laisser que les données brutes, toutes les modifications et manipulations devraient rester en syntaxe <strong>R</strong> dans un script associé au jeu de données. Lorsque les entrées sont terminées, il faut simplement sauvegarder la base de données, préférablement en extension .csv. Il est aussi possible de sortir le tableur en tableau de données en assignant la fonction à une variable comme <code>jd = data_edit()</code>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:editr"></span>
<img src="image/editR.PNG" alt="Ouverture du tableur de DataEditR" width="75%"><p class="caption">
Figure 4.2: Ouverture du tableur de DataEditR
</p>
</div>
<p>En général, l’utilisateur importera ces données dans l’environnement <strong>R</strong>. Il devra même le faire avec <code>data_edit()</code> à chaque ouverture d’un nouvelle séance, pour poursuivre l’entrée ou réaliser des manipulations.</p>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="exercice-rudiments.html">Exercices</a></div>
<div class="next"><a href="importation.html"><span class="header-section-number">5</span> Importation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#gestion-rudimentaire"><span class="header-section-number">4</span> Gestion rudimentaire</a></li>
<li><a class="nav-link" href="#quelques-conseils-de-gestion"><span class="header-section-number">4.1</span> Quelques conseils de gestion</a></li>
<li><a class="nav-link" href="#voir-la-base-de-donn%C3%A9es"><span class="header-section-number">4.2</span> Voir la base de données</a></li>
<li><a class="nav-link" href="#sauvegarder-un-jeu-de-donn%C3%A9es"><span class="header-section-number">4.3</span> Sauvegarder un jeu de données</a></li>
<li><a class="nav-link" href="#jeux-de-donn%C3%A9es-provenant-de-r-et-de-packages"><span class="header-section-number">4.4</span> Jeux de données provenant de R et de packages</a></li>
<li>
<a class="nav-link" href="#cr%C3%A9ation-des-jeux-de-donn%C3%A9es-artificielles"><span class="header-section-number">4.5</span> Création des jeux de données artificielles</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#jeux-de-donn%C3%A9es-provenant-de-ibm-spss"><span class="header-section-number">4.5.1</span> Jeux de données provenant de IBM SPSS</a></li>
<li><a class="nav-link" href="#jeux-de-donn%C3%A9es-provenant-de-microsoft-excel"><span class="header-section-number">4.5.2</span> Jeux de données provenant de Microsoft Excel</a></li>
<li><a class="nav-link" href="#importation-de-jeux-de-donn%C3%A9es-avec-rstudio."><span class="header-section-number">4.5.3</span> Importation de jeux de données avec RStudio.</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#manipulation-de-donn%C3%A9es"><span class="header-section-number">4.6</span> Manipulation de données</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r%C3%A9f%C3%A9rer-%C3%A0-une-variable-dans-un-jeu-de-donn%C3%A9es"><span class="header-section-number">4.6.1</span> Référer à une variable dans un jeu de données</a></li>
<li><a class="nav-link" href="#r%C3%A9f%C3%A9rer-%C3%A0-un-sous-ensemble-dunit%C3%A9."><span class="header-section-number">4.6.2</span> Référer à un sous-ensemble d’unité.</a></li>
<li><a class="nav-link" href="#donn%C3%A9es-manquantes"><span class="header-section-number">4.6.3</span> Données manquantes</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#entr%C3%A9e-de-donn%C3%A9es"><span class="header-section-number">4.7</span> Entrée de données</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#entr%C3%A9e-de-donn%C3%A9es-avec-data.entry-r-de-base"><span class="header-section-number">4.7.1</span> Entrée de données avec data.entry() (R de base)</a></li>
<li><a class="nav-link" href="#entr%C3%A9e-de-donn%C3%A9es-avec-data_edit-package-dataeditr"><span class="header-section-number">4.7.2</span> Entrée de données avec data_edit (package DataEditR)</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/quantmeth/MQR/blob/master/02-Gestion.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/quantmeth/MQR/edit/master/02-Gestion.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Méthodes Quantitatives avec R</strong>" was written by P.-O. Caron. It was last built on 2022-05-17.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
